(()=>{var e={};e.id=266,e.ids=[266],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4341:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>o}),s(4544),s(7160),s(5866);var n=s(3191),r=s(8716),i=s(7922),a=s.n(i),l=s(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["certificates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4544)),"/Users/dennis_leedennis_lee/Documents/GitHub/Pennis-Biometric-Measurement---Certification-System/app/certificates/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7160)),"/Users/dennis_leedennis_lee/Documents/GitHub/Pennis-Biometric-Measurement---Certification-System/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/dennis_leedennis_lee/Documents/GitHub/Pennis-Biometric-Measurement---Certification-System/app/certificates/page.tsx"],u="/certificates/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/certificates/page",pathname:"/certificates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3132:(e,t,s)=>{Promise.resolve().then(s.bind(s,1722))},1722:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(326),r=s(7577),i=s(434),a=s(4139),l=s(6824),c=s(4703);function o(){let{session:e,accessToken:t}=(0,a.a)(),[s,o]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),[m,x]=(0,r.useState)(null),p=async e=>{if(t)try{let s=await (0,l.mv)(t,e);(0,c.cP)(s)}catch(e){x(e instanceof Error?e.message:"下載失敗")}};return n.jsx("main",{className:"min-h-screen bg-slate-50 px-4 py-12",children:(0,n.jsxs)("div",{className:"mx-auto max-w-2xl",children:[n.jsx("h1",{className:"mb-2 text-xl font-bold text-slate-900",children:"我的證書"}),n.jsx("p",{className:"mb-6 text-sm text-slate-600",children:"您已簽發的證書列表（多裝置同步）。"}),n.jsx(i.default,{href:"/",className:"mb-4 inline-block text-sm text-slate-600 hover:text-slate-900",children:"← 返回首頁"}),!e&&(0,n.jsxs)("div",{className:"rounded-lg bg-amber-50 p-4 text-amber-800",children:["請先 ",n.jsx(i.default,{href:"/login",className:"underline",children:"登入"})," 以查看證書。"]}),e&&(0,n.jsxs)(n.Fragment,{children:[d&&n.jsx("p",{className:"text-slate-500",children:"載入中…"}),m&&n.jsx("p",{className:"text-red-600",children:m}),!d&&!m&&0===s.length&&n.jsx("p",{className:"text-slate-500",children:"尚無證書。"}),!d&&s.length>0&&n.jsx("ul",{className:"space-y-3",children:s.map(e=>(0,n.jsxs)("li",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-white p-4",children:[(0,n.jsxs)("div",{children:[n.jsx("p",{className:"font-medium",children:e.inquiryId}),(0,n.jsxs)("p",{className:"text-sm text-slate-500",children:[e.issuedAt," \xb7 ",e.lengthCm.toFixed(2)," cm"]})]}),n.jsx("button",{type:"button",onClick:()=>p(e.id),className:"rounded bg-slate-800 px-3 py-1.5 text-sm text-white hover:bg-slate-700",children:"下載"})]},e.id))})]})]})})}},4544:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>l});var n=s(8570);let r=(0,n.createProxy)(String.raw`/Users/dennis_leedennis_lee/Documents/GitHub/Pennis-Biometric-Measurement---Certification-System/app/certificates/page.tsx`),{__esModule:i,$$typeof:a}=r;r.default;let l=(0,n.createProxy)(String.raw`/Users/dennis_leedennis_lee/Documents/GitHub/Pennis-Biometric-Measurement---Certification-System/app/certificates/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[819,434,157,88],()=>s(4341));module.exports=n})();