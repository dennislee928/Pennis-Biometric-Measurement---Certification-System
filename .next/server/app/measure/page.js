(()=>{var e={};e.id=915,e.ids=[915],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},7147:e=>{"use strict";e.exports=require("fs")},5477:e=>{"use strict";e.exports=require("punycode")},1576:e=>{"use strict";e.exports=require("string_decoder")},3837:e=>{"use strict";e.exports=require("util")},1342:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>s.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>c,tree:()=>p}),a(8909),a(7160),a(5866);var r=a(3191),n=a(8716),i=a(7922),s=a.n(i),o=a(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let p=["",{children:["measure",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8909)),"/Users/dennis_leedennis_lee/Documents/GitHub/Pennis-Biometric-Measurement---Certification-System/app/measure/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7160)),"/Users/dennis_leedennis_lee/Documents/GitHub/Pennis-Biometric-Measurement---Certification-System/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/dennis_leedennis_lee/Documents/GitHub/Pennis-Biometric-Measurement---Certification-System/app/measure/page.tsx"],u="/measure/page",h={require:a,loadChunk:()=>Promise.resolve()},c=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/measure/page",pathname:"/measure",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},5525:(e,t,a)=>{Promise.resolve().then(a.bind(a,2853))},2853:(e,t,a)=>{"use strict";let r,n,i,s,o,l,p;a.r(t),a.d(t,{default:()=>In});var d={};a.r(d),a.d(d,{assertParamsValid:()=>nP,computeFlatOffset:()=>nX,computeOutShape:()=>nB,getNormalizedAxes:()=>nU,isSliceContinous:()=>nK,maskToAxes:()=>nM,parseSliceParams:()=>nY,sliceInfo:()=>nJ,startForAxis:()=>nG,startIndicesWithElidedDims:()=>nj,stopForAxis:()=>nH,stopIndicesWithElidedDims:()=>nW,stridesForAxis:()=>nq,stridesWithElidedDims:()=>nz});var u={};a.r(u),a.d(u,{collectGatherOpShapeInfo:()=>lv,computeOutShape:()=>lg,segOpComputeOptimalWindowSize:()=>lf});var h={};a.r(h),a.d(h,{ERF_A1:()=>oH,ERF_A2:()=>oK,ERF_A3:()=>oX,ERF_A4:()=>oY,ERF_A5:()=>oJ,ERF_P:()=>oG,PARALLELIZE_THRESHOLD:()=>oR,RowPartitionType:()=>N2,SELU_SCALE:()=>oq,SELU_SCALEALPHA:()=>oW,applyActivation:()=>sY,assertAndGetBroadcastShape:()=>nk,assertAxesAreInnerMostDims:()=>iQ,assertParamsConsistent:()=>oC,assignToTypedArray:()=>o5,axesAreInnerMostDims:()=>iX,calculateShapes:()=>oj,checkEinsumDimSizes:()=>o7,checkPadOnDimRoundingMode:()=>io,combineLocations:()=>iY,combineRaggedTensorToTensorShapes:()=>oA,complexWithEvenIndex:()=>o1,complexWithOddIndex:()=>o2,computeConv2DInfo:()=>n3,computeConv3DInfo:()=>n6,computeDefaultPad:()=>n8,computeDilation2DInfo:()=>n0,computeOptimalWindowSize:()=>oL,computeOutAndReduceShapes:()=>iJ,computeOutShape:()=>oT,computePool2DInfo:()=>n5,computePool3DInfo:()=>n4,convertConv2DDataFormat:()=>is,decodeEinsumEquation:()=>o8,eitherStridesOrDilationsAreOne:()=>ir,expandShapeToKeepDim:()=>iZ,exponent:()=>o3,exponents:()=>o4,fromStringArrayToUint8:()=>ly,fromUint8ToStringArray:()=>lb,getAxesPermutation:()=>i1,getBroadcastDims:()=>nx,getComplexWithIndex:()=>o0,getEinsumComputePath:()=>le,getEinsumPermutation:()=>o9,getFusedBiasGradient:()=>sX,getFusedDyActivation:()=>sK,getImageCenter:()=>oD,getInnerMostAxes:()=>i0,getPermuted:()=>oO,getRaggedRank:()=>oE,getReductionAxes:()=>nN,getReshaped:()=>oF,getReshapedPermuted:()=>oP,getRowPartitionTypesHelper:()=>o_,getSliceBeginCoords:()=>oM,getSliceSize:()=>oB,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>lr,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>ln,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>li,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>ll,getSparseReshapeInputOutputMismatchErrorMessage:()=>ld,getSparseReshapeInputOutputMultipleErrorMessage:()=>lp,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>ls,getSparseReshapeNegativeOutputDimErrorMessage:()=>lo,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>lm,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>lu,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>lh,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>lc,getUndoAxesPermutation:()=>i2,isIdentityPermutation:()=>lt,log:()=>aA,mergeRealAndImagArrays:()=>oZ,prepareAndValidate:()=>oz,prepareSplitSize:()=>la,segment_util:()=>u,shouldFuse:()=>sJ,slice_util:()=>d,splitRealAndImagArrays:()=>oQ,stridesOrDilationsArePositive:()=>ii,tupleValuesAreOne:()=>ia,upcastType:()=>ra,validateDefaultValueShape:()=>o$,validateInput:()=>oU,validateUpdateShape:()=>oV,warn:()=>aT});var c={};a.r(c),a.d(c,{addImpl:()=>mO,bincountImpl:()=>m2,bincountReduceImpl:()=>m0,bitwiseAndImpl:()=>m5,castImpl:()=>mR,ceilImpl:()=>m3,concatImpl:()=>m9,equalImpl:()=>fl,expImpl:()=>fu,expm1Impl:()=>fm,floorImpl:()=>fN,gatherNdImpl:()=>fI,gatherV2Impl:()=>fC,greaterEqualImpl:()=>f_,greaterImpl:()=>fT,lessEqualImpl:()=>fO,lessImpl:()=>fD,linSpaceImpl:()=>fM,logImpl:()=>fB,maxImpl:()=>fq,maximumImpl:()=>fH,minimumImpl:()=>fX,multiplyImpl:()=>fi,negImpl:()=>fQ,notEqualImpl:()=>f1,prodImpl:()=>f6,raggedGatherImpl:()=>f9,raggedRangeImpl:()=>f7,raggedTensorToTensorImpl:()=>gn,rangeImpl:()=>gi,rsqrtImpl:()=>gl,scatterImpl:()=>gd,sigmoidImpl:()=>mC,simpleAbsImpl:()=>mz,sliceImpl:()=>mQ,sparseFillEmptyRowsImpl:()=>gv,sparseReshapeImpl:()=>gb,sparseSegmentReductionImpl:()=>gy,sqrtImpl:()=>gw,staticRegexReplaceImpl:()=>gk,stridedSliceImpl:()=>gC,stringNGramsImpl:()=>gA,stringSplitImpl:()=>g_,stringToHashBucketFastImpl:()=>gE,subImpl:()=>fb,tileImpl:()=>gL,topKImpl:()=>gF,transposeImpl:()=>mj,uniqueImpl:()=>gM});var m=a(326),f=a(7577),g={};!function e(t,a,r,n){var i,s,o,l,p,d,u,h,c,m,f,g=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),v="function"==typeof Path2D&&"function"==typeof DOMMatrix;function b(){}function y(e){var r=a.exports.Promise,n=void 0!==r?r:t.Promise;return"function"==typeof n?new n(e):(e(b,b),null)}var w=(i=function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),a=e.getContext("2d");a.fillRect(0,0,1,1);var r=e.transferToImageBitmap();a.createPattern(r,"no-repeat")}catch(e){return!1}return!0}(),s=new Map,{transform:function(e){if(i)return e;if(s.has(e))return s.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),s.set(e,t),t},clear:function(){s.clear()}}),x=(p=Math.floor(1e3/60),d={},u=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(o=function(e){var t=Math.random();return d[t]=requestAnimationFrame(function a(r){u===r||u+p-1<r?(u=r,delete d[t],e()):d[t]=requestAnimationFrame(a)}),t},l=function(e){d[e]&&cancelAnimationFrame(d[e])}):(o=function(e){return setTimeout(e,p)},l=function(e){return clearTimeout(e)}),{frame:o,cancel:l}),N=(m={},function(){if(h)return h;if(!r&&g){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{h=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("\uD83C\uDF8A Could not load worker",e),null}!function(e){function t(t,a){e.postMessage({options:t||{},callback:a})}e.init=function(t){var a=t.transferControlToOffscreen();e.postMessage({canvas:a},[a])},e.fire=function(a,r,n){if(c)return t(a,null),c;var i=Math.random().toString(36).slice(2);return c=y(function(r){function s(t){t.data.callback===i&&(delete m[i],e.removeEventListener("message",s),c=null,w.clear(),n(),r())}e.addEventListener("message",s),t(a,i),m[i]=s.bind(null,{data:{callback:i}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),m)m[t](),delete m[t]}}(h)}return h}),k={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(e,t,a){var r;return r=e&&null!=e[t]?e[t]:k[t],a?a(r):r}function I(e){return e<0?0:Math.floor(e)}function C(e){return parseInt(e,16)}function T(e){return e.map(A)}function A(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:C(t.substring(0,2)),g:C(t.substring(2,4)),b:C(t.substring(4,6))}}function _(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function E(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function $(e,a){var i,s=!e,o=!!S(a||{},"resize"),l=!1,p=S(a,"disableForReducedMotion",Boolean),d=g&&S(a||{},"useWorker")?N():null,u=s?_:E,h=!!e&&!!d&&!!e.__confetti_initialized,c="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function m(a){var m,f=p||S(a,"disableForReducedMotion",Boolean),g=S(a,"zIndex",Number);if(f&&c)return y(function(e){e()});s&&i?e=i.canvas:s&&!e&&((m=document.createElement("canvas")).style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=g,e=m,document.body.appendChild(e)),o&&!h&&u(e);var b={width:e.width,height:e.height};function N(){if(d){var t={getBoundingClientRect:function(){if(!s)return e.getBoundingClientRect()}};u(t),d.postMessage({resize:{width:t.width,height:t.height}});return}b.width=b.height=null}function k(){i=null,o&&(l=!1,t.removeEventListener("resize",N)),s&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,h=!1)}return(d&&!h&&d.init(e),h=!0,d&&(e.__confetti_initialized=!0),o&&!l&&(l=!0,t.addEventListener("resize",N,!1)),d)?d.fire(a,b,k):function(t,a,s){for(var o,l,p,d,h,c,m,f=S(t,"particleCount",I),g=S(t,"angle",Number),b=S(t,"spread",Number),N=S(t,"startVelocity",Number),k=S(t,"decay",Number),C=S(t,"gravity",Number),A=S(t,"drift",Number),_=S(t,"colors",T),E=S(t,"ticks",Number),$=S(t,"shapes"),R=S(t,"scalar"),L=!!S(t,"flat"),D=((o=S(t,"origin",Object)).x=S(o,"x",Number),o.y=S(o,"y",Number),o),F=f,O=[],P=e.width*D.x,M=e.height*D.y;F--;)O.push(function(e){var t=e.angle*(Math.PI/180),a=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*a-Math.random()*a),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}({x:P,y:M,angle:g,spread:b,startVelocity:N,color:_[F%_.length],shape:$[Math.floor(Math.random()*($.length-0))+0],ticks:E,decay:k,gravity:C,drift:A,scalar:R,flat:L}));return i?i.addFettis(O):(l=e,h=O.slice(),c=l.getContext("2d"),m=y(function(e){function t(){p=d=null,c.clearRect(0,0,a.width,a.height),w.clear(),s(),e()}p=x.frame(function e(){r&&!(a.width===n.width&&a.height===n.height)&&(a.width=l.width=n.width,a.height=l.height=n.height),a.width||a.height||(u(l),a.width=l.width,a.height=l.height),c.clearRect(0,0,a.width,a.height),(h=h.filter(function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var a,r,n,i,s,o,l,p,d,u,h,c,m,f,g,b,y=t.tick++/t.totalTicks,x=t.x+t.random*t.tiltCos,N=t.y+t.random*t.tiltSin,k=t.wobbleX+t.random*t.tiltCos,S=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-y)+")",e.beginPath(),v&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill((a=t.shape.path,r=t.shape.matrix,n=t.x,i=t.y,s=.1*Math.abs(k-x),o=.1*Math.abs(S-N),l=Math.PI/10*t.wobble,p=new Path2D(a),(d=new Path2D).addPath(p,new DOMMatrix(r)),(u=new Path2D).addPath(d,new DOMMatrix([Math.cos(l)*s,Math.sin(l)*s,-Math.sin(l)*o,Math.cos(l)*o,n,i])),u));else if("bitmap"===t.shape.type){var I=Math.PI/10*t.wobble,C=.1*Math.abs(k-x),T=.1*Math.abs(S-N),A=t.shape.bitmap.width*t.scalar,_=t.shape.bitmap.height*t.scalar,E=new DOMMatrix([Math.cos(I)*C,Math.sin(I)*C,-Math.sin(I)*T,Math.cos(I)*T,t.x,t.y]);E.multiplySelf(new DOMMatrix(t.shape.matrix));var $=e.createPattern(w.transform(t.shape.bitmap),"no-repeat");$.setTransform(E),e.globalAlpha=1-y,e.fillStyle=$,e.fillRect(t.x-A/2,t.y-_/2,A,_),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(k-x)*t.ovalScalar,Math.abs(S-N)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(h=t.x,c=t.y,m=Math.abs(k-x)*t.ovalScalar,f=Math.abs(S-N)*t.ovalScalar,g=Math.PI/10*t.wobble,b=2*Math.PI,e.save(),e.translate(h,c),e.rotate(g),e.scale(m,f),e.arc(0,0,1,0,b,void 0),e.restore());else if("star"===t.shape)for(var R=Math.PI/2*3,L=4*t.scalar,D=8*t.scalar,F=t.x,O=t.y,P=5,M=Math.PI/5;P--;)F=t.x+Math.cos(R)*D,O=t.y+Math.sin(R)*D,e.lineTo(F,O),R+=M,F=t.x+Math.cos(R)*L,O=t.y+Math.sin(R)*L,e.lineTo(F,O),R+=M;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(N)),e.lineTo(Math.floor(k),Math.floor(S)),e.lineTo(Math.floor(x),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}(c,e)})).length?p=x.frame(e):t()}),d=t}),(i={addFettis:function(e){return h=h.concat(e),m},canvas:l,promise:m,reset:function(){p&&x.cancel(p),d&&d()}}).promise)}(a,b,k)}return m.reset=function(){d&&d.reset(),i&&i.reset()},m}function R(){return f||(f=$(null,{useWorker:!0,resize:!0})),f}a.exports=function(){return R().apply(this,arguments)},a.exports.reset=function(){R().reset()},a.exports.create=$,a.exports.shapeFromPath=function(e){if(!v)throw Error("path confetti are not supported in this browser");"string"==typeof e?r=e:(r=e.path,n=e.matrix);var t=new Path2D(r),a=document.createElement("canvas").getContext("2d");if(!n){for(var r,n,i,s,o=1e3,l=1e3,p=0,d=0,u=0;u<1e3;u+=2)for(var h=0;h<1e3;h+=2)a.isPointInPath(t,u,h,"nonzero")&&(o=Math.min(o,u),l=Math.min(l,h),p=Math.max(p,u),d=Math.max(d,h));var c=Math.min(10/(i=p-o),10/(s=d-l));n=[c,0,0,c,-Math.round(i/2+o)*c,-Math.round(s/2+l)*c]}return{type:"path",path:r,matrix:n}},a.exports.shapeFromText=function(e){var t,a=1,r="#000000",n='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,a="scalar"in e?e.scalar:a,n="fontFamily"in e?e.fontFamily:n,r="color"in e?e.color:r);var i=10*a,s=""+i+"px "+n,o=new OffscreenCanvas(i,i),l=o.getContext("2d");l.font=s;var p=l.measureText(t),d=Math.ceil(p.actualBoundingBoxRight+p.actualBoundingBoxLeft),u=Math.ceil(p.actualBoundingBoxAscent+p.actualBoundingBoxDescent),h=p.actualBoundingBoxLeft+2,c=p.actualBoundingBoxAscent+2;d+=4,u+=4,(l=(o=new OffscreenCanvas(d,u)).getContext("2d")).font=s,l.fillStyle=r,l.fillText(t,h,c);var m=1/a;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[m,0,0,m,-d*m/2,-u*m/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),g,!1);let v=g.exports;g.exports.create;class b{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class y{refCount(e){return w("refCount")}incRef(e){return w("incRef")}timerAvailable(){return!0}time(e){return w("time")}read(e){return w("read")}readSync(e){return w("readSync")}readToGPU(e,t){return w("readToGPU")}numDataIds(){return w("numDataIds")}disposeData(e,t){return w("disposeData")}write(e,t,a){return w("write")}move(e,t,a,r,n){return w("move")}createTensorFromGPUData(e,t,a){return w("createTensorFromGPUData")}memory(){return w("memory")}floatPrecision(){return w("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return w("dispose")}}function w(e){throw Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function x(e,t,a){return Math.max(e,Math.min(t,a))}function N(e){return e%2==0?e:e+1}function k(e,t,a){let r=e[t];e[t]=e[a],e[a]=r}function S(e,t){if(!e)throw Error("string"==typeof t?t:t())}function I(e,t,a=""){S(A(e,t),()=>a+` Shapes ${e} and ${t} must match`)}function C(e){S(null!=e,()=>"The input to the tensor constructor must be a non-null value.")}function T(e){if(0===e.length)return 1;let t=e[0];for(let a=1;a<e.length;a++)t*=e[a];return t}function A(e,t){if(e===t)return!0;if(null==e||null==t||e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}function _(e){let t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function E(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function $(e,t=e=>0,a,r){return new Promise((n,i)=>{let s=0,o=()=>{if(e()){n();return}let l=t(++s);if(null!=a&&s>=a){i();return}null!=r?r(o,l):setTimeout(o,l)};o()})}function R(e,t){let a=1,r=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)a*=e[t];else if(-1===e[t]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${t}`);r=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===r){if(t>0&&t!==a)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===a)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%a!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${a}`);let n=e.slice();return n[r]=t/a,n}function L(e,t){let a=t.length;return S((e=null==e?t.map((e,t)=>t):[].concat(e)).every(e=>e>=-a&&e<a),()=>`All values in axis param must be in range [-${a}, ${a}) but got axis ${e}`),S(e.every(e=>e%1==0),()=>`All values in axis param must be integers but got axis ${e}`),e.map(e=>e<0?a+e:e)}function D(e,t){let a=[],r=[],n=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||n?null:L(t,e).sort(),s=0;for(let t=0;t<e.length;++t){if(null!=i){if(i[s]===t&&1!==e[t])throw Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==i[s]||i[s]>t)&&1===e[t]&&(a.push(e[t]),r.push(t)),i[s]<=t&&s++}1!==e[t]&&(a.push(e[t]),r.push(t))}return{newShape:a,keptDims:r}}function F(e,t){let a=null;if(null==e||"float32"===e)a=new Float32Array(t);else if("int32"===e)a=new Int32Array(t);else if("bool"===e)a=new Uint8Array(t);else if("string"===e)a=Array(t);else throw Error(`Unknown data type ${e}`);return a}function O(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function P(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw Error(`Unknown dtype ${e}`)}function M(e){return"string"==typeof e||e instanceof String}function B(e){return"number"==typeof e}function z(e){if(Array.isArray(e))return z(e[0]);if(e instanceof Float32Array);else if(e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return"int32";else if(B(e));else{if(M(e))return"string";if("boolean"==typeof e)return"bool"}return"float32"}function V(e){return!!(e&&e.constructor&&e.call&&e.apply)}function U(e,t){for(let a=t;a<e;++a)if(e%a==0)return a;return e}function j(e){let t=e.length;if(t<2)return[];let a=Array(t-1);a[t-2]=e[t-1];for(let r=t-3;r>=0;--r)a[r]=a[r+1]*e[r+1];return a}function W(e,t,a=!1){if(0===e.length)return t[0];let r=e.reduce((e,t)=>e*t)*(a?2:1);if(0===r)return[];if(r!==t.length)throw Error(`[${e}] does not match the input size ${t.length}${a?" for a complex tensor":""}.`);return function e(t,a,r,n=!1){let i=[];if(1===a.length){let e=a[0]*(n?2:1);for(let a=0;a<e;a++)i[a]=r[t+a]}else{let s=a[0],o=a.slice(1),l=o.reduce((e,t)=>e*t)*(n?2:1);for(let a=0;a<s;a++)i[a]=e(t+a*l,o,r,n)}return i}(0,e,t,a)}function q(e,t){let a=G(e,t);for(let e=0;e<a.length;e++)a[e]=1;return a}function G(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw Error(`Unknown data type ${t}`)}function H(e,t){let a=e.reduce((e,t)=>e*t,1);if(null==t||"float32"===t)return W(e,new Float32Array(a));if("int32"===t)return W(e,new Int32Array(a));if("bool"===t)return W(e,new Uint8Array(a));throw Error(`Unknown data type ${t}`)}function K(e){e.forEach(t=>{S(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function X(e,t,a){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let t=0;t<e.length-1;++t)r+=a[t]*e[t];return r}function Y(e,t,a){if(0===t)return[];if(1===t)return[e];let r=Array(t);for(let t=0;t<r.length-1;++t)r[t]=Math.floor(e/a[t]),e-=r[t]*a[t];return r[r.length-1]=e,r}function J(e){return e&&e.then&&"function"==typeof e.then}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Z="tfjsflags";class Q{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=ee,this.populateURLFlags()}setPlatform(e,t){null==this.platform||et.getBool("IS_TEST")||et.getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`),this.platformName=e,this.platform=t}registerFlag(e,t,a){if(this.flagRegistry[e]={evaluationFn:t,setHook:a},null!=this.urlFlags[e]){let t=this.urlFlags[e];et.getBool("IS_TEST")||et.getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];let t=this.evaluateFlag(e);if(J(t))throw Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;let e=this.getQueryParams(this.global.location.search);Z in e&&e[Z].split(",").forEach(e=>{let[t,a]=e.split(":");this.urlFlags[t]=function(e,t){let a=t.toLowerCase();return"true"===a||"false"===a?"true"===a:`${+a}`===a?+a:t}(0,a)})}}function ee(e){let t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(e,...a)=>{var r,n;return r=a[0],n=a[1],t[decodeURIComponent(r)]=decodeURIComponent(n||""),a.join("=")}),t}let et=null;function ea(){if(null==r){let e;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof global)e=global;else if("undefined"!=typeof process)e=process;else if("undefined"!=typeof self)e=self;else throw Error("Could not find a global object");r=e}return r}function er(e,t){let a=function(){let e=ea();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(a.has(e))return a.get(e);{let r=t();return a.set(e,r),a.get(e)}}let en="Acos",ei="Acosh",es="AddN",eo="ArgMax",el="ArgMin",ep="Asin",ed="Asinh",eu="Atan",eh="Atanh",ec="Atan2",em="AvgPool",ef="AvgPoolGrad",eg="AvgPool3D",ev="AvgPool3DGrad",eb="BatchMatMul",ey="BatchToSpaceND",ew="Bincount",ex="BitwiseAnd",eN="BroadcastArgs",ek="Cast",eS="Ceil",eI="ClipByValue",eC="Complex",eT="ComplexAbs",eA="Concat",e_="Conv2D",eE="Conv2DBackpropFilter",e$="Conv2DBackpropInput",eR="Conv3D",eL="Conv3DBackpropFilterV2",eD="Conv3DBackpropInputV2",eF="Cosh",eO="Cumprod",eP="Cumsum",eM="CropAndResize",eB="DenseBincount",ez="DepthToSpace",eV="DepthwiseConv2dNative",eU="DepthwiseConv2dNativeBackpropFilter",ej="DepthwiseConv2dNativeBackpropInput",eW="Diag",eq="Dilation2D",eG="Dilation2DBackpropInput",eH="Dilation2DBackpropFilter",eK="RealDiv",eX="Einsum",eY="EluGrad",eJ="Equal",eZ="ExpandDims",eQ="Expm1",e1="Fill",e2="FlipLeftRight",e0="Floor",e5="FloorDiv",e4="FusedBatchNorm",e3="GatherV2",e6="GatherNd",e8="Greater",e9="GreaterEqual",e7="Identity",te="IFFT",tt="Imag",ta="IsFinite",tr="IsInf",tn="IsNan",ti="LeakyRelu",ts="Less",to="LessEqual",tl="LinSpace",tp="Log1p",td="LogicalAnd",tu="LogicalNot",th="LogicalOr",tc="LRNGrad",tm="Maximum",tf="MaxPool",tg="MaxPoolGrad",tv="MaxPool3D",tb="MaxPool3DGrad",ty="MaxPoolWithArgmax",tw="Mean",tx="Minimum",tN="MirrorPad",tk="Multinomial",tS="Multiply",tI="NotEqual",tC="NonMaxSuppressionV3",tT="NonMaxSuppressionV4",tA="NonMaxSuppressionV5",t_="OnesLike",tE="OneHot",t$="Pack",tR="PadV2",tL="Prelu",tD="Prod",tF="RaggedGather",tO="RaggedRange",tP="RaggedTensorToTensor",tM="Range",tB="Real",tz="Reciprocal",tV="Relu",tU="Reshape",tj="ResizeNearestNeighbor",tW="ResizeNearestNeighborGrad",tq="ResizeBilinear",tG="ResizeBilinearGrad",tH="Relu6",tK="Reverse",tX="Round",tY="Rsqrt",tJ="ScatterNd",tZ="TensorScatterUpdate",tQ="SearchSorted",t1="Select",t2="Selu",t0="Slice",t5="Sinh",t4="Sign",t3="Sigmoid",t6="Softplus",t8="Sqrt",t9="SpaceToBatchND",t7="SplitV",ae="Softmax",at="SparseFillEmptyRows",aa="SparseReshape",ar="SparseSegmentMean",an="SparseSegmentSum",ai="SparseToDense",as="SquaredDifference",ao="Square",al="StaticRegexReplace",ap="StridedSlice",ad="StringNGrams",au="StringSplit",ah="StringToHashBucketFast",ac="Tanh",am="Tile",af="TopK",ag="Transform",av="Transpose",ab="Unique",ay="Unpack",aw="UnsortedSegmentSum",ax="ZerosLike",aN="Step",ak="RotateWithOffset",aS="_FusedMatMul",aI="FusedConv2D",aC="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aT(...e){et.getBool("IS_TEST")||et.getBool("PROD")||console.warn(...e)}function aA(...e){et.getBool("IS_TEST")||et.getBool("PROD")||console.log(...e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let a_=er("kernelRegistry",()=>new Map),aE=er("gradRegistry",()=>new Map);function a$(e,t){var a,r;let n=(a=e,r=t,`${r}_${a}`);return a_.get(n)}function aR(e){let t=a_.entries(),a=[];for(;;){let{done:r,value:n}=t.next();if(r)break;let[i,s]=n,[o]=i.split("_");o===e&&a.push(s)}return a}function aL(e){var t,a;let{kernelName:r,backendName:n}=e,i=(t=r,a=n,`${a}_${t}`);a_.has(i)&&aT(`The kernel '${r}' for backend '${n}' is already registered`),a_.set(i,e)}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aD(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var aF=a(6508);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let aO=a.n(aF)()||aF;function aP(e){return aO.fromString(e,!0,16)}let aM=aP("c3a5c85c97cb3127"),aB=aP("b492b66fbe98f273"),az=aP("9ae16a3b2f90404f");function aV(e){return e.xor(e.shru(47))}function aU(e,t,a){let r=e.slice(t,t+a);return aO.fromBytes(Array.from(r),!0,!0)}function aj(e,t){return aU(e,t,8)}function aW(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function aq(e,t,a=aP("9ddfea08eb382d69")){let r=e.xor(t).mul(a);r=r.xor(r.shru(47));let n=t.xor(r).mul(a);return(n=n.xor(n.shru(47))).mul(a)}function aG(e,t,a,r){return function(e,t,a,r,n,i){n=n.add(e),i=aW(i.add(n).add(r),21);let s=n;return n=(n=n.add(t)).add(a),i=i.add(aW(n,44)),[n.add(r),i.add(s)]}(aj(e,t),aj(e,t+8),aj(e,t+16),aj(e,t+24),a,r)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aH(e,t){return"string"===t?aY(e):aK([e],t)}function aK(e,t){var a;if("string"===t)throw Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=aQ(e)),et.getBool("DEBUG")&&function(e,t){for(let a=0;a<e.length;a++){let r=e[a];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),(a=e)instanceof Float32Array&&"float32"===t||a instanceof Int32Array&&"int32"===t||a instanceof Uint8Array&&"bool"===t)return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){let t=new Uint8Array(e.length);for(let a=0;a<t.length;++a)0!==Math.round(e[a])&&(t[a]=1);return t}throw Error(`Unknown data type ${t}`)}function aX(){return et.platform.now()}function aY(e,t="utf-8"){return t=t||"utf-8",et.platform.encode(e,t)}function aJ(e,t="utf-8"){return t=t||"utf-8",et.platform.decode(e,t)}function aZ(e){return null!=et.platform.isTypedArray?et.platform.isTypedArray(e):aD(e)}function aQ(e,t=[],a=!1){if(null==t&&(t=[]),"boolean"==typeof e||"number"==typeof e||"string"==typeof e||J(e)||null==e||aZ(e)&&a)t.push(e);else if(Array.isArray(e)||aZ(e))for(let r=0;r<e.length;++r)aQ(e[r],t,a);else{let r=-1;for(let t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let n=0;n<=r;n++)aQ(e[n],t,a)}return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class a1{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new a2)}profileKernel(e,t,a){let r,n;let i=()=>{r=a()},s=aX();if(this.backendTimer.timerAvailable())n=this.backendTimer.time(i);else{for(let e of(i(),r))e.dataSync();n=Promise.resolve({kernelMs:aX()-s})}if(et.getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<r.length;t++){let a=r[t];a.data().then(t=>{(function(e,t,a){if("float32"===t)for(let t=0;t<e.length;t++){let r=e[t];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${a}'`),!0}})(t,a.dtype,e)})}return{kernelName:e,outputs:r,inputs:t,timeMs:n.then(e=>e.kernelMs),extraInfo:n.then(e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():"")}}logKernelProfile(e){let{kernelName:t,outputs:a,timeMs:r,inputs:n,extraInfo:i}=e;a.forEach(e=>{Promise.all([e.data(),r,i]).then(a=>{this.logger.logKernelProfile(t,e,a[0],a[1],n,a[2])})})}}class a2{logKernelProfile(e,t,a,r,n,i){let s="number"==typeof r?E(`${r}ms`,9):r.error,o=E(e,25),l=t.rank,p=t.size,d=E(t.shape.toString(),14),u="";for(let e in n){let a=n[e];if(null!=a){let r=a.shape||t.shape,n=r.length;u+=`${e}: ${n}D ${n>0?r:""} `}}console.log(`%c${o}	%c${s}	%c${l}D ${d}	%c${p}	%c${u}	%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function a0(e,t,a){return E(Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:M(e)?`'${e}'`:"bool"===a?a5(e):parseFloat(e.toFixed(7)).toString(),t)}function a5(e){return 0===e?"false":"true"}function a4(e){let t=[];for(let a=0;a<e.length;a+=2)t.push([e[a],e[a+1]]);return t}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class a3{constructor(e,t,a){if(this.dtype=t,this.shape=e.slice(),this.size=T(e),null!=a){let e=a.length;S(e===this.size,()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`)}if("complex64"===t)throw Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=a||F(t,this.size),this.strides=j(e)}set(e,...t){0===t.length&&(t=[0]),S(t.length===this.rank,()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`);let a=this.locToIndex(t);this.values[a]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(let a of e){if(a<0||a>=this.shape[t])throw Error(`Requested out of range element at ${e}.   Buffer shape=${this.shape}`);t++}let a=e[e.length-1];for(let t=0;t<e.length-1;++t)a+=this.strides[t]*e[t];return this.values[a]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let a=0;a<e.length-1;++a)t+=this.strides[a]*e[a];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];let t=Array(this.shape.length);for(let a=0;a<t.length-1;++a)t[a]=Math.floor(e/this.strides[a]),e-=t[a]*this.strides[a];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return a6().makeTensor(this.values,this.shape,this.dtype)}}let a6=null,a8=null;class a9{constructor(e,t,a,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=T(e),this.strides=j(e),this.dataId=a,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){let e=await this.data();return a8.buffer(this.shape,this.dtype,e)}bufferSync(){return a8.buffer(this.shape,this.dtype,this.dataSync())}async array(){let e=await this.data();return W(this.shape,e,"complex64"===this.dtype)}arraySync(){return W(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();let e=a6().read(this.dataId);if("string"===this.dtype){let t=await e;try{return t.map(e=>aJ(e))}catch(e){throw Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),a6().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();let e=a6().readSync(this.dataId);if("string"===this.dtype)try{return e.map(e=>aJ(e))}catch(e){throw Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();let e=await a6().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),a6().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw Error("Tensor is disposed.")}print(e=!1){return a8.print(this,e)}clone(){return this.throwIfDisposed(),a8.clone(this)}toString(e=!1){return function(e,t,a,r){let n=j(t),i=function(e,t,a,r){let n=T(t),i=r[r.length-1],s=Array(i).fill(0),o=t.length,l="complex64"===a?a4(e):e;if(o>1)for(let e=0;e<n/i;e++){let t=e*i;for(let e=0;e<i;e++)s[e]=Math.max(s[e],a0(l[t+e],0,a).length)}return s}(e,t,a,n),s=t.length,o=function e(t,a,r,n,i,s=!0){let o="complex64"===r?2:1,l=a[0],p=a.length;if(0===p)return"complex64"===r?[a0(a4(t)[0],0,r)]:"bool"===r?[a5(t[0])]:[t[0].toString()];if(1===p){if(l>20){let e=Array.from(t.slice(0,3*o)),a=Array.from(t.slice((l-3)*o,l*o));return"complex64"===r&&(e=a4(e),a=a4(a)),["["+e.map((e,t)=>a0(e,i[t],r)).join(", ")+", ..., "+a.map((e,t)=>a0(e,i[l-3+t],r)).join(", ")+"]"]}return["["+("complex64"===r?a4(t):Array.from(t)).map((e,t)=>a0(e,i[t],r)).join(", ")+"]"]}let d=a.slice(1),u=n.slice(1),h=n[0]*o,c=[];if(l>20){for(let a=0;a<3;a++){let n=a*h,s=n+h;c.push(...e(t.slice(n,s),d,r,u,i,!1))}c.push("...");for(let a=l-3;a<l;a++){let n=a*h,s=n+h;c.push(...e(t.slice(n,s),d,r,u,i,a===l-1))}}else for(let a=0;a<l;a++){let n=a*h,s=n+h;c.push(...e(t.slice(n,s),d,r,u,i,a===l-1))}let m=2===p?",":"";c[0]="["+(l>0?c[0]+m:"");for(let e=1;e<c.length-1;e++)c[e]=" "+c[e]+m;let f=",\n";for(let e=2;e<p;e++)f+="\n";return c[c.length-1]=" "+c[c.length-1]+"]"+(s?"":f),c}(e,t,a,n,i),l=["Tensor"];return r&&(l.push(`  dtype: ${a}`),l.push(`  rank: ${s}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(o.map(e=>"    "+e).join("\n")),l.join("\n")}(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),a8.cast(this,e)}variable(e=!0,t,a){return this.throwIfDisposed(),a6().makeVariable(this,e,t,a)}}function a7(){return er("Tensor",()=>a9)}Object.defineProperty(a9,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),a7();class re extends a9{constructor(e,t,a,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=a}assign(e){if(e.dtype!==this.dtype)throw Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!A(e.shape,this.shape))throw Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);a6().disposeTensor(this),this.dataId=e.dataId,a6().incRef(this,null)}dispose(){a6().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(re,Symbol.hasInstance,{value:e=>e instanceof a9&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(NX||(NX={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(NY||(NY={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(NJ||(NJ={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(NZ||(NZ={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(NQ||(NQ={}));let rt={float32:NZ,int32:NY,bool:NJ,complex64:NQ};function ra(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw Error(`Can not upcast ${e} with ${t}`)}return rt[e][t]}function rr(e){return ra(e,"int32")}function rn(e){return null!=e&&"object"==typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function ri(e){return"undefined"!=typeof GPUBuffer&&null!=e&&"object"==typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rs(e,t){if(e.dtype===t.dtype)return[e,t];let a=ra(e.dtype,t.dtype);return[e.cast(a),t.cast(a)]}function ro(e,t){return t.some(t=>t.id===e.id)}function rl(e){let t=[];return function e(t,a,r){if(null!=t){if(t instanceof a9){a.push(t);return}if(Array.isArray(t)||"object"==typeof t)for(let n in t){let i=t[n];r.has(i)||(r.add(i),e(i,a,r))}}}(e,t,new Set),t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rp(e){return null!=e.kernelName}class rd{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(let e in this.registeredVariables)this.registeredVariables[e].dispose()}}class ru{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new rd}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then(()=>{});if(null!=this.backendInstance)return;let e=this.getSortedBackends();for(let t=0;t<e.length;t++){let a=e[t];if(await this.initializeBackend(a).success){await this.setBackend(a);return}}throw Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){let{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{let{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,a=1){return e in this.registryFactory?(aT(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:a},!0)}async setBackend(e){if(null==this.registryFactory[e])throw Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;let{success:t,asyncInit:a}=this.initializeBackend(e);if(!(a?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new a1(this.backendInstance),!0}setupRegisteredKernels(){aR(this.backendName).forEach(e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){aR(e).forEach(t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])})}initializeBackend(e){let t=this.registryFactory[e];if(null==t)throw Error(`Cannot initialize backend ${e}, no registration found.`);try{let a=t.factory();if(!a||a instanceof y||"function"!=typeof a.then)return this.registry[e]=a,{success:!0,asyncInit:!1};{let t=++this.pendingBackendInitId,r=a.then(a=>!(t<this.pendingBackendInitId)&&(this.registry[e]=a,this.pendingBackendInit=null,!0)).catch(a=>!(t<this.pendingBackendInitId)&&(this.pendingBackendInit=null,aT(`Initialization of backend ${e} failed`),aT(a.stack||a.message),!1));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(t){return aT(`Initialization of backend ${e} failed`),aT(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){let e=this.getSortedBackends();for(let t=0;t<e.length;t++){let a=e[t],{success:r,asyncInit:n}=this.initializeBackend(a);if(n||r)return{name:a,asyncInit:n}}throw Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){let a=this.state.tensorInfo.get(t),r=a.backend,n=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),a.backend=e,e.move(t,n,a.shape,a.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let a,r=null;if(null==t){if("function"!=typeof e)throw Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun(()=>this.startScope(r),()=>this.endScope(a),()=>((a=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(e,t,a){e();try{let e=a();return t(),e}catch(e){throw t(),e}}nextTensorId(){return ru.nextTensorId++}nextVariableId(){return ru.nextVariableId++}clone(e){let t=rc.runKernel(e7,{x:e});return this.addTapeNode(this.state.activeScope.name,{x:e},[t],e=>({x:()=>rc.runKernel(ek,{x:e},{dtype:"float32"})}),[],{}),t}runKernel(e,t,a){if(null==this.backendName&&this.backend,!(null!=a$(e,this.backendName)))throw Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:a})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,a){let r=this.backend.numDataIds(),n=0;a.forEach(e=>{n+="complex64"===e.dtype?3:1});let i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=r-t-n-i;if(s>0)throw Error(`Backend '${this.backendName}' has an internal memory leak (${s} data ids) after running '${e}'`)}runKernelFunc(e){let t,a,r,n;let i=[],s=this.isTapeOn(),o=this.state.numBytes,l=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;let p=rp(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(rp(e)){let{kernelName:t,inputs:n,attrs:o}=e;null==this.backendName&&this.backend;let l=a$(t,this.backendName);S(null!=l,()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`),a=()=>{let e=this.backend.numDataIds(),a=Array.isArray(r=l.kernelFunc({inputs:n,attrs:o,backend:this.backend}))?r:[r];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,a);let p=a.map(e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e));if(s){let e=this.getTensorsForGradient(t,n,p);i=this.saveTensorsForBackwardMode(e)}return p}}else{let{forwardFunc:t}=e,n=e=>{s&&(i=e.map(e=>this.keep(this.clone(e))))};a=()=>{let e=this.backend.numDataIds(),a=Array.isArray(r=this.tidy(()=>t(this.backend,n)))?r:[r];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,e,a),a}}let{inputs:d,attrs:u}=e,h=rp(e)?null:e.backwardsFunc;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(n=this.profiler.profileKernel(p,d,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(n),t=n.outputs):t=a()}),s&&this.addTapeNode(p,d,t,h,i,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:p,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-l,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(d).map(e=>null!=d[e]?d[e].shape:null),outputShapes:t.map(e=>e.shape),kernelTimeMs:n.timeMs,extraInfo:n.extraInfo}),Array.isArray(r)?t:t[0]}saveTensorsForBackwardMode(e){return e.map(e=>this.keep(this.clone(e)))}getTensorsForGradient(e,t,a){let r=aE.get(e);if(null!=r){let e;let n=r.inputsToSave||[],i=r.outputsToSave||[];r.saveAllInputs?(S(Array.isArray(t),()=>"saveAllInputs is true, expected inputs to be an array."),e=Object.keys(t).map(e=>t[e])):e=n.map(e=>t[e]);let s=a.filter((e,t)=>i[t]);return e.concat(s)}return[]}makeTensor(e,t,a,r){if(null==e)throw Error("Values passed to engine.makeTensor() are null");a=a||"float32",r=r||this.backend;let n=e;"string"===a&&M(e[0])&&(n=e.map(e=>aY(e)));let i=r.write(n,t,a),s=new a9(t,a,i,this.nextTensorId());if(this.trackTensor(s,r),"string"===a){let e=this.state.tensorInfo.get(i),t=function(e){if(null==e)return 0;let t=0;return e.forEach(e=>t+=e.length),t}(n);this.state.numBytes+=t-e.bytes,e.bytes=t}return s}makeTensorFromDataId(e,t,a,r){let n={dataId:e,shape:t,dtype:a=a||"float32"};return this.makeTensorFromTensorInfo(n,r)}makeTensorFromTensorInfo(e,t){let{dataId:a,shape:r,dtype:n}=e,i=new a9(r,n,a,this.nextTensorId());return this.trackTensor(i,t),i}makeVariable(e,t=!0,a,r){a=a||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));let n=new re(e,t,a,this.nextTensorId());if(null!=this.state.registeredVariables[n.name])throw Error(`Variable with name ${n.name} was already registered`);return this.state.registeredVariables[n.name]=n,this.incRef(n,this.backend),n}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let a=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(a=e.size*P(e.dtype)),this.state.numBytes+=a,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:a})),e instanceof re||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;let t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){let t=e.size*P(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(let e in this.state.registeredVariables){let t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){let e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;let t=this.state.numBytes,a=this.state.numTensors;for(let r of(this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(e=>e.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-a,this.state.activeProfile.kernels))r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,a,r,n,i){let s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:a,saved:n},o=aE.get(e);null!=o&&(r=o.gradFunc),null!=r&&(s.gradient=e=>(e=e.map((e,t)=>{if(null==e){let e=a[t],r=G(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e}),r(e.length>1?e:e[0],n,i))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){let t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){let t=rl(e),a=new Set(t.map(e=>e.id));for(let e=0;e<this.state.activeScope.track.length;e++){let t=this.state.activeScope.track[e];t.kept||a.has(t.id)||t.dispose()}let r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach(e=>{e.kept||e.scopeId!==r.id||this.track(e)})}gradients(e,t,a,r=!1){if(S(t.length>0,()=>"gradients() received an empty list of xs."),null!=a&&"float32"!==a.dtype)throw Error(`dy must have 'float32' dtype, but has '${a.dtype}'`);let n=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));S(n instanceof a9,()=>"The result y returned by f() must be a tensor.");let i=/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r={},n={};for(let e=0;e<t.length;e++)r[t[e].id]=!0;for(let a=0;a<e.length;a++){let i=e[a],s=i.inputs;for(let e in s){let a=s[e],o=!1;for(let e=0;e<t.length;e++)if(r[a.id]){i.outputs.forEach(e=>r[e.id]=!0),o=!0,n[i.id]=!0;break}if(o)break}}let i={};i[a.id]=!0;let s={};for(let t=e.length-1;t>=0;t--){let a=e[t],r=a.inputs;for(let e=0;e<a.outputs.length;e++)if(i[a.outputs[e].id]){for(let e in r)i[r[e].id]=!0,s[a.id]=!0;break}}let o=[];for(let t=0;t<e.length;t++){let a=e[t];if(n[a.id]&&s[a.id]){let e={};for(let t in a.inputs){let n=a.inputs[t];r[n.id]&&(e[t]=n)}let t=Object.assign({},a);t.inputs=e,t.outputs=a.outputs,o.push(t)}}return o}(this.state.activeTape,t,n);if(!r&&0===i.length&&t.length>0)throw Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{let e={};e[n.id]=null==a?function(e){let t=q(T(e),"float32");return rc.makeTensor(t,e,"float32")}(n.shape):a,function(e,t,a,r){for(let n=t.length-1;n>=0;n--){let i=t[n],s=[];if(i.outputs.forEach(t=>{let a=e[t.id];null!=a?s.push(a):s.push(null)}),null==i.gradient)throw Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);let o=i.gradient(s);for(let t in i.inputs){if(!(t in o))throw Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(o)}.`);let n=a(()=>o[t]());if("float32"!==n.dtype)throw Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${n.dtype}'`);let s=i.inputs[t];if(!A(n.shape,s.shape))throw Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${t}' has shape '${n.shape}', which does not match the shape of the input '${s.shape}'`);if(null==e[s.id])e[s.id]=n;else{let t=e[s.id];e[s.id]=r(t,n),t.dispose()}}}}(e,i,e=>this.tidy(e),rm);let r=t.map(t=>e[t.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(e=>{for(let t of e.saved)t.dispose()}),this.state.activeTape=null),{value:n,grads:r}})}customGrad(e){return S(V(e),()=>"The f passed in customGrad(f) must be a function."),(...t)=>{let a;S(t.every(e=>e instanceof a9),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r={};return t.forEach((e,t)=>{r[t]=e}),this.runKernelFunc({forwardFunc:(r,n)=>(S((a=e(...t,n)).value instanceof a9,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),S(V(a.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),a.value),backwardsFunc:(e,r)=>{let n=a.gradFunc(e,r),i=Array.isArray(n)?n:[n];S(i.length===t.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),S(i.every(e=>e instanceof a9),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");let s={};return i.forEach((e,t)=>{s[t]=()=>e}),s},inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){let t=aX(),a=await this.backend.time(e);return a.wallMs=aX()-t,a}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){for(let e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new rd,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function rh(){let e=ea();if(null==e._tfengine){let t=new Q(e);e._tfengine=new ru(t)}return et=e._tfengine.ENV,a6=()=>e._tfengine,e._tfengine}ru.nextTensorId=0,ru.nextVariableId=0;let rc=rh();function rm(e,t){return rc.runKernel("Add",{a:e,b:t})}function rf(e){if(void 0!==n)return n;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;let t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){let t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function rg(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let rv=et;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rb(e,t){let a=e;if(aZ(e))return"string"===t?[]:[e.length];if(rn(e)){let t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(ri(e))return[e.buffer.size/(null==t?4:P(t))];if(!Array.isArray(e))return[];let r=[];for(;Array.isArray(a)||aZ(a)&&"string"!==t;)r.push(a.length),a=a[0];return Array.isArray(e)&&et.getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,a,r){if(r=r||[],!Array.isArray(t)&&!aZ(t)){S(0===a.length,()=>`Element arr[${r.join("][")}] is a primitive, but should be an array/TypedArray of ${a[0]} elements`);return}S(a.length>0,()=>`Element arr[${r.join("][")}] should be a primitive, but is an array of ${t.length} elements`),S(t.length===a[0],()=>`Element arr[${r.join("][")}] should have ${a[0]} elements, but has ${t.length} elements`);let n=a.slice(1);for(let a=0;a<t.length;++a)e(t[a],n,r.concat(a))}(e,r,[]),r}function ry(e,t,a,r){if("string_or_numeric"!==e){if(null==e)throw Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw Error(`Argument '${a}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function rw(e,t,a,r="numeric"){if(e instanceof a7())return ry(r,e.dtype,t,a),e;let n=z(e);if("string"!==n&&["bool","int32","float32"].indexOf(r)>=0&&(n=r),ry(r,n,t,a),null==e||!aZ(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){let r=null==e?"null":e.constructor.name;throw Error(`Argument '${t}' passed to '${a}' must be a Tensor or TensorLike, but got '${r}'`)}let i=rb(e,n);aZ(e)||Array.isArray(e)||(e=[e]);let s="string"!==n?aK(e,n):aQ(e,[],!0);return rc.makeTensor(s,i,n)}function rx(e,t,a,r="numeric"){if(!Array.isArray(e))throw Error(`Argument ${t} passed to ${a} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((e,n)=>rw(e,`${t}[${n}]`,a,r))}function rN(e){let t=Object.keys(e);if(1!==t.length)throw Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let a=t[0],r=e[a];a.endsWith("_")&&(a=a.substring(0,a.length-1));let n=(...e)=>{rc.startScope(a);try{let t=r(...e);return J(t)&&console.error("Cannot return a Promise inside of tidy."),rc.endScope(t),t}catch(e){throw rc.endScope(null),e}};return Object.defineProperty(n,"name",{value:a+="__op",configurable:!0}),n}rv.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),rv.registerFlag("IS_BROWSER",()=>rg()),rv.registerFlag("IS_NODE",()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node),rv.registerFlag("IS_CHROME",()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),rv.registerFlag("IS_SAFARI",()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),rv.registerFlag("PROD",()=>!1),rv.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>rv.getBool("DEBUG")),rv.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),rv.registerFlag("IS_TEST",()=>!1),rv.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>rv.getBool("DEBUG")),rv.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),rv.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),rv.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);let rk=rN({complex_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"real","complex"),r=rw(t,"imag","complex");return I(a.shape,r.shape,`real and imag shapes, ${a.shape} and ${r.shape}, must match in call to tf.complex().`),rc.runKernel(eC,{real:a,imag:r})}});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rS(e,t,a,r){if(null==r)r=z(e);else if("complex64"===r)throw Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(ri(e)||rn(e)){if("float32"!==r&&"int32"!==r)throw Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return rc.backend.createTensorFromGPUData(e,t||a,r)}if(!aZ(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){K(t);let e=T(t),r=T(a);S(e===r,()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`);for(let e=0;e<a.length;++e){let r=a[e],n=e!==a.length-1||r!==T(t.slice(e));S(a[e]===t[e]||!n,()=>`Error creating a new Tensor. Inferred shape (${a}) does not match the provided shape (${t}). `)}}return aZ(e)||Array.isArray(e)||(e=[e]),t=t||a,e="string"!==r?aK(e,r):aQ(e,[],!0),rc.makeTensor(e,t,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rI(e,t,a){let r=rb(e,a);return rS(e,t,r,a)}class rC{static join(e){return new rC(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e||(e instanceof Array||(e=[e]),0===(e=e.map(e=>aZ(e)?e.buffer:e)).length))return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let a=0;a<e.length;a++){let r=e[a];a!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);let n=t+r.byteLength;this.shards.push({buffer:r,start:t,end:n}),t=n}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,t=this.byteLength){if(0===this.shards.length||(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),(t=Math.min(this.byteLength,t))<=e))return new ArrayBuffer(0);let a=this.findShardForByte(e);if(-1===a)throw Error(`Could not find start shard for byte ${e}`);let r=new ArrayBuffer(t-e),n=new Uint8Array(r),i=0;for(let r=a;r<this.shards.length;r++){let a=this.shards[r],s=e+i-a.start,o=i,l=Math.min(t,a.end)-a.start,p=new Uint8Array(a.buffer,s,l-s);if(n.set(p,o),i+=p.length,t<a.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return -1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;let a=function(e,t){let a=0,r=e.length;for(;a<=r;){let n=Math.floor((r-a)/2)+a,i=t(e[n]);if(0===i)return n;i<0?r=n:a=n+1}return -1}(this.shards,t);return -1===a?-1:(this.previousShardIndex=a,this.previousShardIndex)}}function rT(){return rc.memory()}function rA(e,t){return rc.tidy(e,t)}function r_(e){rl(e).forEach(e=>e.dispose())}function rE(e){return rc.keep(e)}function r$(e,t,a=1){return rc.registerBackend(e,t,a)}async function rR(e,t){let a=[],r=[],n=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);for(let i=0;i<n.length;++i){let s=n[i],o=Array.isArray(e)?e[i].tensor:e[s];if("float32"!==o.dtype&&"int32"!==o.dtype&&"bool"!==o.dtype&&"string"!==o.dtype&&"complex64"!==o.dtype)throw Error(`Unsupported dtype in weight '${s}': ${o.dtype}`);let l={name:s,shape:o.shape,dtype:o.dtype};if("string"===o.dtype){let e=new Promise(async e=>{let t=await o.bytes(),a=new Uint8Array(t.reduce((e,t)=>e+t.length,0)+4*t.length),r=0;for(let e=0;e<t.length;e++){let n=t[e],i=new Uint8Array(new Uint32Array([n.length]).buffer);a.set(i,r),r+=4,a.set(n,r),r+=n.length}e(a)});r.push(e)}else r.push(o.data());null!=t&&(l.group=t),a.push(l)}return{data:function(e){if(null===e)throw Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0,a=[];e.forEach(e=>{if(t+=e.byteLength,a.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)});let r=new Uint8Array(t),n=0;return a.forEach(e=>{r.set(new Uint8Array(e.buffer),n),n+=e.byteLength}),r.buffer}(await Promise.all(r)),specs:a}}let rL="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function rD(e){return rL?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function rF(e,t){let a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(a.signature=e.signature),null!=e.userDefinedMetadata&&(a.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(a.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(a.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(a.trainingConfig=e.trainingConfig),a}async function rO(e,t){let a,r;return null!=e.weightsManifest&&([a,r]=await t(e.weightsManifest)),function(e,t,a){let r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw Error("modelJSON has weightsManifest but weightSpecs is null");if(!a)throw Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=a}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}(e,a,r)}function rP(e){if(e.modelTopology instanceof ArrayBuffer)throw Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:rD(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:rD(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new rC(e.weightData).byteLength}}function rM(e){let t=[];for(let a of e)t.push(...a.weights);return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rB{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==rB.instance&&(rB.instance=new rB),rB.instance}static registerSaveRouter(e){rB.getInstance().saveRouters.push(e)}static registerLoadRouter(e){rB.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return rB.getHandlers(e,"save")}static getLoadHandlers(e,t){return rB.getHandlers(e,"load",t)}static getHandlers(e,t,a){let r=[];return("load"===t?rB.getInstance().loadRouters:rB.getInstance().saveRouters).forEach(t=>{let n=t(e,a);null!==n&&r.push(n)}),r}}let rz=e=>rB.getSaveHandlers(e),rV="tensorflowjs",rU="models_store",rj="model_info_store";function rW(){if(!et.getBool("IS_BROWSER"))throw Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");let e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw Error("The current browser does not appear to support IndexedDB.");return t}function rq(e){let t=e.result;t.createObjectStore(rU,{keyPath:"modelPath"}),t.createObjectStore(rj,{keyPath:"modelPath"})}class rG{constructor(e){if(this.indexedDB=rW(),null==e||!e)throw Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise((e,a)=>{let r=this.indexedDB.open(rV,1);r.onupgradeneeded=()=>rq(r),r.onsuccess=()=>{let n=r.result;if(null==t){let t=n.transaction(rU,"readonly"),r=t.objectStore(rU).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return n.close(),a(Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(n.close(),a(r.error)),t.oncomplete=()=>n.close()}else{let r,i;t.weightData=rC.join(t.weightData);let s=rP(t),o=n.transaction(rj,"readwrite"),l=o.objectStore(rj);try{r=l.put({modelPath:this.modelPath,modelArtifactsInfo:s})}catch(e){return a(e)}r.onsuccess=()=>{let r;let p=(i=n.transaction(rU,"readwrite")).objectStore(rU);try{r=p.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:s})}catch(e){return a(e)}r.onsuccess=()=>e({modelArtifactsInfo:s}),r.onerror=e=>{let t=(l=o.objectStore(rj)).delete(this.modelPath);t.onsuccess=()=>(n.close(),a(r.error)),t.onerror=e=>(n.close(),a(r.error))}},r.onerror=e=>(n.close(),a(r.error)),o.oncomplete=()=>{null==i?n.close():i.oncomplete=()=>n.close()}}},r.onerror=e=>a(r.error)})}}rG.URL_SCHEME="indexeddb://";let rH=e=>{var t;return et.getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(rG.URL_SCHEME)?(t=e.slice(rG.URL_SCHEME.length),new rG(t)):null};rB.registerSaveRouter(rH),rB.registerLoadRouter(rH);class rK{constructor(){this.indexedDB=rW()}async listModels(){return new Promise((e,t)=>{let a=this.indexedDB.open(rV,1);a.onupgradeneeded=()=>rq(a),a.onsuccess=()=>{let r=a.result,n=r.transaction(rj,"readonly"),i=n.objectStore(rj).getAll();i.onsuccess=()=>{let t={};for(let e of i.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},i.onerror=e=>(r.close(),t(i.error)),n.oncomplete=()=>r.close()},a.onerror=e=>t(a.error)})}async removeModel(e){var t;return e=(t=e).startsWith(rG.URL_SCHEME)?t.slice(rG.URL_SCHEME.length):t,new Promise((t,a)=>{let r=this.indexedDB.open(rV,1);r.onupgradeneeded=()=>rq(r),r.onsuccess=()=>{let n;let i=r.result,s=i.transaction(rj,"readwrite"),o=s.objectStore(rj),l=o.get(e);l.onsuccess=()=>{if(null==l.result)return i.close(),a(Error(`Cannot find model with path '${e}' in IndexedDB.`));{let r=o.delete(e),s=()=>{let r=(n=i.transaction(rU,"readwrite")).objectStore(rU).delete(e);r.onsuccess=()=>t(l.result.modelArtifactsInfo),r.onerror=e=>a(l.error)};r.onsuccess=s,r.onerror=e=>(s(),i.close(),a(l.error))}},l.onerror=e=>(i.close(),a(l.error)),s.oncomplete=()=>{null==n?i.close():n.oncomplete=()=>i.close()}},r.onerror=e=>a(r.error)})}}let rX="tensorflowjs_models",rY="info";function rJ(e){return{info:[rX,e,rY].join("/"),topology:[rX,e,"model_topology"].join("/"),weightSpecs:[rX,e,"weight_specs"].join("/"),weightData:[rX,e,"weight_data"].join("/"),modelMetadata:[rX,e,"model_metadata"].join("/")}}function rZ(e){for(let t of Object.values(e))window.localStorage.removeItem(t)}class rQ{constructor(e){if(!et.getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=rJ(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{let t=JSON.stringify(e.modelTopology),a=JSON.stringify(e.weightSpecs),r=rP(e),n=rC.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,a),this.LS.setItem(this.keys.weightData,function(e){if(rL)return Buffer.from(e).toString("base64");let t=new Uint8Array(e),a="";for(let e=0,r=t.length;e<r;e++)a+=String.fromCharCode(t[e]);return btoa(a)}(n));let i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:r}}catch(e){throw rZ(this.keys),Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){let e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");let t={},a=JSON.parse(this.LS.getItem(this.keys.topology));if(null==a)throw Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=a;let r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;let n=this.LS.getItem(this.keys.modelMetadata);if(null!=n){let e=JSON.parse(n);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}let i=this.LS.getItem(this.keys.weightData);if(null==i)throw Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(rL){let t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}let t=atob(e),a=new Uint8Array(t.length);for(let e=0;e<t.length;++e)a.set([t.charCodeAt(e)],e);return a.buffer}(i),t}}rQ.URL_SCHEME="localstorage://";let r1=e=>{var t;return et.getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(rQ.URL_SCHEME)?(t=e.slice(rQ.URL_SCHEME.length),new rQ(t)):null};rB.registerSaveRouter(r1),rB.registerLoadRouter(r1);class r2{constructor(){S(et.getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),S("undefined"==typeof window||void 0!==window.localStorage,()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){let e={},t=rX+"/",a="/"+rY;for(let r=0;r<this.LS.length;++r){let n=this.LS.key(r);n.startsWith(t)&&n.endsWith(a)&&(e[function(e){let t=e.split("/");if(t.length<3)throw Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join("/")}(n)]=JSON.parse(this.LS.getItem(n)))}return e}async removeModel(e){var t;let a=rJ(e=(t=e).startsWith(rQ.URL_SCHEME)?t.slice(rQ.URL_SCHEME.length):t);if(null==this.LS.getItem(a.info))throw Error(`Cannot find model at path '${e}'`);let r=JSON.parse(this.LS.getItem(a.info));return rZ(a),r}}class r0{constructor(){this.managers={}}static getInstance(){return null==r0.instance&&(r0.instance=new r0),r0.instance}static registerManager(e,t){S(null!=e,()=>"scheme must not be undefined or null."),e.endsWith("://")&&(e=e.slice(0,e.indexOf("://"))),S(e.length>0,()=>"scheme must not be an empty string.");let a=r0.getInstance();S(null==a.managers[e],()=>`A model store manager is already registered for scheme '${e}'.`),a.managers[e]=t}static getManager(e){let t=r0.getInstance().managers[e];if(null==t)throw Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(r0.getInstance().managers)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class r5{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){if("undefined"==typeof window||!et.getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,t);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",e=>{e.source===window&&e.data.name===this.messageName&&(e.stopPropagation(),(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0))},!0))}isTypedArray(e){return aD(e)}}if(et.get("IS_BROWSER")){et.setPlatform("browser",new r5);try{r0.registerManager(rQ.URL_SCHEME,new r2)}catch(e){}try{r0.registerManager(rG.URL_SCHEME,new rK)}catch(e){}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let r4={importFetch:()=>a(735)};class r3{constructor(){this.util=a(3837),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=et.global.fetch?et.global.fetch(e,t):(null==i&&(i=r4.importFetch()),i(e,t))}now(){let e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r6(e,t="float32",a){return t=t||"float32",K(e),new a3(e,t,a)}et.get("IS_NODE")&&!et.get("IS_BROWSER")&&et.setPlatform("node",new r3);let r8=rN({cast_:/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"x","cast");if(!("bool"===t||"complex64"===t||"float32"===t||"int32"===t||"string"===t))throw Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==a.dtype||"string"!==t&&"string"===a.dtype)throw Error("Only strings can be casted to strings");return rc.runKernel(ek,{x:a},{dtype:t})}}),r9=rN({clone_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","clone","string_or_numeric");return rc.runKernel(e7,{x:t})}});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rh(),a8={buffer:r6,cast:r8,clone:r9,print:/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=!1){console.log(e.toString(t))}};let r7=rN({add_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","add"),r=rw(t,"b","add");[a,r]=rs(a,r);let n={a:a,b:r};return rc.runKernel("Add",n)}}),ne=rN({floorDiv_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","floorDiv"),r=rw(t,"b","floorDiv");[a,r]=rs(a,r);let n={a:a,b:r};return rc.runKernel(e5,n)}}),nt=rN({div_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","div"),r=rw(t,"b","div");if([a,r]=rs(a,r),"int32"===a.dtype&&"int32"===r.dtype)return ne(a,r);let n={a:a,b:r};return rc.runKernel(eK,n,{})}}),na=rN({mul_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","mul"),r=rw(t,"b","mul");[a,r]=rs(a,r);let n={a:a,b:r};return rc.runKernel(tS,n)}}),nr=rN({sqrt_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","sqrt","float32");return rc.runKernel(t8,{x:t})}}),nn=rN({square_:/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","square");return rc.runKernel("Square",{x:t},{})}}),ni=rN({zerosLike_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","zerosLike");return rc.runKernel(ax,{x:t})}});function ns(e){return rc.customGrad(e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function no(e,t){if((aZ(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&aZ(e)&&!(e instanceof Uint8Array))throw Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return rS(e,[],[],t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let nl=new Map,np=new Map;class nd{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class nu{constructor(){this.classNameMap={}}static getMap(){return null==nu.instance&&(nu.instance=new nu),nu.instance}static register(e){nu.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function nh(e,t,a){S(null!=e.className,()=>"Class being registered does not have the static className property defined."),S("string"==typeof e.className,()=>"className is required to be a string, but got type "+typeof e.className),S(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),void 0===t&&(t="Custom"),void 0===a&&(a=e.className);let r=t+">"+a;return nu.register(e),nl.set(r,e),np.set(e,r),e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nc extends nd{minimize(e,t=!1,a){let{value:r,grads:n}=this.computeGradients(e,a);if(null!=a){let e=a.map(e=>({name:e.name,tensor:n[e.name]}));this.applyGradients(e)}else this.applyGradients(n);return(r_(n),t)?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){S(V(e),()=>"The f passed in variableGrads(f) must be a function"),S(null==t||Array.isArray(t)&&t.every(e=>e instanceof re),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");let a=null!=t;if(!a)for(let e in t=[],rc.registeredVariables)t.push(rc.registeredVariables[e]);let r=a?t.filter(e=>!e.trainable):null,n=t.length;S((t=t.filter(e=>e.trainable)).length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${n} variables is trainable.`);let{value:i,grads:s}=rc.gradients(e,t,null,!0);S(s.some(e=>null!=e),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),S(0===i.rank,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`);let o={};return t.forEach((e,t)=>{null!=s[t]&&(o[e.name]=s[t])}),null!=r&&r.forEach(e=>o[e.name]=null),{value:i,grads:o}}(e,t)}dispose(){null!=this.iterations_&&r_(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:no(this.iterations_,"int32")}}async getWeights(){throw Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(nc,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nm extends nc{static get className(){return"Adadelta"}constructor(e,t,a=null){super(),this.learningRate=e,this.rho=t,this.epsilon=a,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==a&&(this.epsilon=rc.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,a)=>{let r=rc.registeredVariables[t];null==this.accumulatedGrads[a]&&(this.accumulatedGrads[a]={originalName:`${t}/accum_grad`,variable:rA(()=>ni(r).variable(!1))}),null==this.accumulatedUpdates[a]&&(this.accumulatedUpdates[a]={originalName:`${t}/accum_var`,variable:rA(()=>ni(r).variable(!1))});let n=Array.isArray(e)?e[a].tensor:e[t];if(null==n)return;let i=this.accumulatedGrads[a].variable,s=this.accumulatedUpdates[a].variable;rA(()=>{let e=r7(na(i,this.rho),na(nn(n),1-this.rho)),t=na(nt(nr(r7(s,this.epsilon)),nr(r7(i,this.epsilon))),n),a=r7(na(s,this.rho),na(nn(t),1-this.rho));i.assign(e),s.assign(a);let o=r7(na(t,-this.learningRate),r);r.assign(o)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(r_(this.accumulatedGrads.map(e=>e.variable)),r_(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){let e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){let t=(e=await this.extractIterations(e)).length/2;this.accumulatedGrads=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.accumulatedUpdates=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nf(e,t,a){K(e),a=a||z(t);let r={shape:e,value:t,dtype:a};return rc.runKernel(e1,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ng extends nc{static get className(){return"Adagrad"}constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,a)=>{let r=rc.registeredVariables[t];null==this.accumulatedGrads[a]&&(this.accumulatedGrads[a]={originalName:`${t}/accumulator`,variable:rA(()=>nf(r.shape,this.initialAccumulatorValue).variable(!1))});let n=Array.isArray(e)?e[a].tensor:e[t];if(null==n)return;let i=this.accumulatedGrads[a].variable;rA(()=>{let e=r7(i,nn(n));i.assign(e);let t=r7(na(nt(n,nr(r7(e,rc.backend.epsilon()))),-this.learningRate),r);r.assign(t)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&r_(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e),this.accumulatedGrads=e.map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}let nv=rN({pow_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"base","pow"),r=rw(t,"exp","pow");[a,r]=rs(a,r);let n={a:a,b:r};return rc.runKernel("Pow",n)}}),nb=rN({sub_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","sub"),r=rw(t,"b","sub");[a,r]=rs(a,r);let n={a:a,b:r};return rc.runKernel("Sub",n)}});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ny extends nc{static get className(){return"Adam"}constructor(e,t,a,r=null){super(),this.learningRate=e,this.beta1=t,this.beta2=a,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],rA(()=>{this.accBeta1=no(t).variable(),this.accBeta2=no(a).variable()}),null==r&&(this.epsilon=rc.backend.epsilon())}applyGradients(e){let t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);rA(()=>{let a=nb(1,this.accBeta1),r=nb(1,this.accBeta2);t.forEach((t,n)=>{let i=rc.registeredVariables[t];null==this.accumulatedFirstMoment[n]&&(this.accumulatedFirstMoment[n]={originalName:`${t}/m`,variable:rA(()=>ni(i).variable(!1))}),null==this.accumulatedSecondMoment[n]&&(this.accumulatedSecondMoment[n]={originalName:`${t}/v`,variable:rA(()=>ni(i).variable(!1))});let s=Array.isArray(e)?e[n].tensor:e[t];if(null==s)return;let o=this.accumulatedFirstMoment[n].variable,l=this.accumulatedSecondMoment[n].variable,p=r7(na(o,this.beta1),na(s,1-this.beta1)),d=r7(na(l,this.beta2),na(nn(s),1-this.beta2)),u=nt(p,a),h=nt(d,r);o.assign(p),l.assign(d);let c=r7(na(nt(u,r7(nr(h),this.epsilon)),-this.learningRate),i);i.assign(c)}),this.accBeta1.assign(na(this.accBeta1,this.beta1)),this.accBeta2.assign(na(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&r_(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedSecondMoment&&r_(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){let e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e),rA(()=>{this.accBeta1.assign(nv(this.beta1,this.iterations_+1)),this.accBeta2.assign(nv(this.beta2,this.iterations_+1))});let t=e.length/2;this.accumulatedFirstMoment=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.accumulatedSecondMoment=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}let nw=rN({abs_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","abs");return"complex64"===t.dtype?rc.runKernel(eT,{x:t}):rc.runKernel("Abs",{x:t})}});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nx(e,t){let a=e.length,r=[];for(let n=0;n<a;n++){let i=a-1-n,s=e[i]||1;(t[t.length-1-n]||1)>1&&1===s&&r.unshift(i)}return r}function nN(e,t){let a=[];for(let r=0;r<t.length;r++){let n=e[e.length-r-1],i=t.length-r-1,s=t[i];(null==n||1===n&&s>1)&&a.unshift(i)}return a}function nk(e,t){let a=Math.max(e.length,t.length),r=Array(a);for(let n=0;n<a;n++){let i=e[e.length-n-1];null==i&&(i=1);let s=t[t.length-n-1];if(null==s&&(s=1),1===i)r[a-n-1]=s;else if(1===s)r[a-n-1]=i;else if(i!==s)throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`);else r[a-n-1]=i}return r}let nS=rN({maximum_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","maximum"),r=rw(t,"b","maximum");[a,r]=rs(a,r),"bool"===a.dtype&&(a=r8(a,"int32"),r=r8(r,"int32")),nk(a.shape,r.shape);let n={a:a,b:r};return rc.runKernel(tm,n)}});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nI extends nc{static get className(){return"Adamax"}constructor(e,t,a,r=null,n=0){super(),this.learningRate=e,this.beta1=t,this.beta2=a,this.epsilon=r,this.decay=n,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],rA(()=>{this.iteration=no(0).variable(),this.accBeta1=no(t).variable()}),null==r&&(this.epsilon=rc.backend.epsilon())}applyGradients(e){let t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);rA(()=>{let a=nb(1,this.accBeta1),r=nt(-this.learningRate,r7(na(this.iteration,this.decay),1));t.forEach((t,n)=>{let i=rc.registeredVariables[t];null==this.accumulatedFirstMoment[n]&&(this.accumulatedFirstMoment[n]={originalName:`${t}/m`,variable:ni(i).variable(!1)}),null==this.accumulatedWeightedInfNorm[n]&&(this.accumulatedWeightedInfNorm[n]={originalName:`${t}/v`,variable:ni(i).variable(!1)});let s=Array.isArray(e)?e[n].tensor:e[t];if(null==s)return;let o=this.accumulatedFirstMoment[n].variable,l=this.accumulatedWeightedInfNorm[n].variable,p=r7(na(o,this.beta1),na(s,1-this.beta1)),d=nS(na(l,this.beta2),nw(s));o.assign(p),l.assign(d);let u=r7(na(nt(r,a),nt(p,r7(d,this.epsilon))),i);i.assign(u)}),this.iteration.assign(r7(this.iteration,1)),this.accBeta1.assign(na(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&r_(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedWeightedInfNorm&&r_(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nC extends nc{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,a)=>{let r=Array.isArray(e)?e[a].tensor:e[t];if(null==r)return;let n=rc.registeredVariables[t];rA(()=>{let e=r7(na(this.c,r),n);n.assign(e)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=rE(no(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nT extends nC{static get className(){return"Momentum"}constructor(e,t,a=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=a,this.accumulations=[],this.m=no(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,a)=>{let r=rc.registeredVariables[t];null==this.accumulations[a]&&(this.accumulations[a]={originalName:`${t}/momentum`,variable:rA(()=>ni(r).variable(!1))});let n=this.accumulations[a].variable,i=Array.isArray(e)?e[a].tensor:e[t];null!=i&&rA(()=>{let e;let t=r7(na(this.m,n),i);e=this.useNesterov?r7(na(this.c,r7(i,na(t,this.m))),r):r7(na(this.c,t),r),n.assign(t),r.assign(e)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&r_(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e),this.accumulations=e.map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nA extends nc{static get className(){return"RMSProp"}constructor(e,t=.9,a=0,r=null,n=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=a,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=n,null==r&&(this.epsilon=rc.backend.epsilon()),null==e)throw Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,a)=>{let r=rc.registeredVariables[t];null==this.accumulatedMeanSquares[a]&&(this.accumulatedMeanSquares[a]={originalName:`${t}/rms`,variable:rA(()=>ni(r).variable(!1))}),null==this.accumulatedMoments[a]&&(this.accumulatedMoments[a]={originalName:`${t}/momentum`,variable:rA(()=>ni(r).variable(!1))}),null==this.accumulatedMeanGrads[a]&&this.centered&&(this.accumulatedMeanGrads[a]={originalName:`${t}/mg`,variable:rA(()=>ni(r).variable(!1))});let n=Array.isArray(e)?e[a].tensor:e[t];if(null==n)return;let i=this.accumulatedMeanSquares[a].variable,s=this.accumulatedMoments[a].variable;rA(()=>{let e=r7(na(i,this.decay),na(nn(n),1-this.decay));if(this.centered){let t=this.accumulatedMeanGrads[a].variable,o=r7(na(t,this.decay),na(n,1-this.decay)),l=nt(na(n,this.learningRate),nr(nb(e,r7(nn(o),this.epsilon)))),p=r7(na(s,this.momentum),l);i.assign(e),t.assign(o),s.assign(p);let d=nb(r,p);r.assign(d)}else{let e=r7(na(i,this.decay),na(nn(n),1-this.decay)),t=r7(na(s,this.momentum),nt(na(n,this.learningRate),nr(r7(e,this.epsilon))));i.assign(e),s.assign(t);let a=nb(r,t);r.assign(a)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&r_(this.accumulatedMeanSquares.map(e=>e.variable)),null!=this.accumulatedMeanGrads&&this.centered&&r_(this.accumulatedMeanGrads.map(e=>e.variable)),null!=this.accumulatedMoments&&r_(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){let e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);let t=this.centered?e.length/3:e.length/2;this.accumulatedMeanSquares=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.accumulatedMoments=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let n_=[nm,ng,ny,nI,nT,nA,nC];function nE(e){return new Promise(e=>setTimeout(e)).then(e)}class n${constructor(e){if(!et.getBool("IS_BROWSER"))throw Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(n$.URL_SCHEME)&&(e=e.slice(n$.URL_SCHEME.length)),(null==e||0===e.length)&&(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw Error("Browser downloads are not supported in this environment since `document` is not present");let t=rC.join(e.weightData),a=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{let t=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r=rF(e,t),n=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),i=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(i.download=this.modelJsonFileName,i.href=n,await nE(()=>i.dispatchEvent(new MouseEvent("click"))),null!=e.weightData){let e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=a,await nE(()=>e.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:rP(e)}}}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nR(e,t,a,r){var n,i;S(null!=e&&Array.isArray(e)&&e.length>0,()=>"promises must be a none empty array"),n=a=null==a?0:a,i=r=null==r?1:r,S(n>=0&&n<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${n}`),S(i>=0&&i<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${i}`),S(i>=n,()=>`startFraction must be no more than endFraction, but got startFraction ${n} and endFraction ${i}`);let s=0;return Promise.all(e.map(n=>(n.then(n=>(t(a+ ++s/e.length*(r-a)),n)),n)))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function nL(e,t){null==t&&(t={});let a=null==t.fetchFunc?et.platform.fetch:t.fetchFunc,r=e.map(e=>a(e,t.requestInit,{isBinary:!0})),n=(null==t.onProgress?await Promise.all(r):await nR(r,t.onProgress,0,.5)).map(e=>e.arrayBuffer());return null==t.onProgress?await Promise.all(n):await nR(n,t.onProgress,.5,1)}n$.URL_SCHEME="downloads://",rB.registerSaveRouter(e=>et.getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(n$.URL_SCHEME)?function(e="model"){return new n$(e)}(e.slice(n$.URL_SCHEME.length)):null);class nD{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(S("function"==typeof t.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=t.fetchFunc):this.fetch=et.platform.fetch,S(null!=e&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&S(2===e.length,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");let t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;let a=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=rF(e,a);if(t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData){let a=rC.join(e.weightData);t.body.append("model.weights.bin",new Blob([a],{type:"application/octet-stream"}),"model.weights.bin")}let n=await this.fetch(this.path,t);if(n.ok)return{modelArtifactsInfo:rP(e),responses:[n]};throw Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${n.status}.`)}async loadModelJSON(){let e;let t=await this.fetch(this.path,this.requestInit);if(!t.ok)throw Error(`Request to ${this.path} failed with status code ${t.status}. Please verify this URL points to the model JSON of the model to load.`);try{e=await t.json()}catch(t){let e=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?e+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":e+=" Please make sure the server is serving valid JSON for this request.",Error(e)}let a=e.modelTopology,r=e.weightsManifest;if(null==a&&null==r)throw Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return e}async load(){return this.loadOptions.streamWeights?this.loadStream():rO(await this.loadModelJSON(),e=>this.loadWeights(e))}async loadStream(){let e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),a=rM(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:a,getWeightStream:()=>(function(e,t){var a;let r;let n=null==t.fetchFunc?et.platform.fetch:t.fetchFunc,i=0;return null===(a=t.onProgress)||void 0===a||a.call(t,0),new ReadableStream({pull:async a=>{for(var s;i<e.length;){r||(r=(await n(e[i],t.requestInit,{isBinary:!0})).body.getReader());let{done:o,value:l}=await r.read();if(o){i++,r=void 0,null===(s=t.onProgress)||void 0===s||s.call(t,i/e.length);continue}a.enqueue(l);return}a.close()}})})(t,this.loadOptions)})}async getWeightUrls(e){let[t,a]=function(e){let t=e.lastIndexOf("/"),a=e.lastIndexOf("?");return[e.substring(0,t)+"/",a>t?e.substring(a):""]}(Array.isArray(this.path)?this.path[1]:this.path),r=this.weightPathPrefix||t,n=[],i=[];for(let t of e)for(let e of t.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(e)):n.push(r+e+a);return this.weightUrlConverter&&n.push(...await Promise.all(i)),n}async loadWeights(e){let t=await this.getWeightUrls(e);return[rM(e),await nL(t,this.loadOptions)]}}function nF(e){return null!=e.match(nD.URL_SCHEME_REGEX)}nD.URL_SCHEME_REGEX=/^https?:\/\//;let nO=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc));else if(Array.isArray(e)?e.every(e=>nF(e)):nF(e))return new nD(e,t);return null};function nP(e,t,a){let r=e.shape.length;S(r===t.length,()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`),S(r===a.length,()=>`Error in slice${r}D: Length of size ${a} must match the rank of the array (${r}).`);for(let n=0;n<r;++n)S(t[n]+a[n]<=e.shape[n],()=>`Error in slice${r}D: begin[${n}] + size[${n}] (${t[n]+a[n]}) would overflow input.shape[${n}] (${e.shape[n]})`)}function nM(e){let t=[],a=0;for(;e>0;)1&e&&t.push(a),e/=2,a++;return t}function nB(e,t,a){let r=[];for(let n=0;n<e.length;n++)r[n]=Math.ceil((t[n]-e[n])/a[n]);return r}function nz(e,t,a,r){let n=[...e];for(let e=n.length;e<r.length;e++)n.push(1);for(let e=0;e<a;e++)0===e?n[t]=1:(n.splice(t,0,1),n.pop());return n}rB.registerSaveRouter(nO),rB.registerLoadRouter(nO);function nV(e,t){let a=[];for(let r=0;r<e;r++)a.push(t+r);return a}function nU(e,t,a,r,n,i,s,o,l){let p=e.length,d=Array(p),u=Array(p),h=Array(p);if(t.length&&a>0){let l=t[0],p=a+1;d=nj(s,l,p,r,e),u=nW(o,l,p,n,e),h=nz(i,l,p,e)}else for(let t=0;t<p;t++)d[t]=nG(s,r,i,e,t,l),u[t]=nH(o,n,i,e,t,l),h[t]=nq(i,t,l);return{begin:d,end:u,strides:h}}function nj(e,t,a,r,n){let i=[...n],s=nV(a,t);for(let n=0;n<i.length;n++)if(s.indexOf(n)>-1)i[n]=0;else{var o;let s=(o=n)<=t?o:o-(a-1),l=r[s];e&1<<s&&(l=0),i[n]=l}return i}function nW(e,t,a,r,n){let i=[...n],s=nV(a,t);for(let n=0;n<i.length;n++)if(s.indexOf(n)>-1)i[n]=Number.MAX_SAFE_INTEGER;else{var o;let s=(o=n)<=t?o:o-(a-1),l=r[s];e&1<<s&&(l=Number.MAX_SAFE_INTEGER),i[n]=l}for(let e=0;e<i.length;e++){let t=n[e];i[e]<0&&(i[e]+=t),i[e]=x(0,i[e],n[e])}return i}function nq(e,t,a){let r=e[t];return(a&1<<t||null==r)&&(r=1),r}function nG(e,t,a,r,n,i){let s=t[n],o=a[n]||1;(e&1<<n||i&1<<n||null==s)&&(s=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);let l=r[n];return s<0&&(s+=l),s=x(0,s,l-1)}function nH(e,t,a,r,n,i){let s=t[n],o=a[n]||1;(e&1<<n||i&1<<n||null==s)&&(s=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);let l=r[n];return s<0&&(s+=l),s=o>0?x(0,s,l):x(-1,s,l-1)}function nK(e,t,a){let r=a.length;for(let e=0;e<a.length;e++)if(a[e]>1){r=e;break}for(let n=r+1;n<a.length;n++)if(t[n]>0||a[n]!==e[n])return!1;return!0}function nX(e,t){let a=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)a+=e[r]*t[r];return a}function nY(e,t,a){let r,n;let i=e.shape.length;return(r="number"==typeof t?[t,...Array(i-1).fill(0)]:t.length<i?t.concat(Array(i-t.length).fill(0)):t.slice()).forEach(e=>{S(-1!==e,()=>"slice() does not support negative begin indexing.")}),n=(n=null==a?Array(i).fill(-1):"number"==typeof a?[a,...Array(i-1).fill(-1)]:a.length<i?a.concat(Array(i-a.length).fill(-1)):a).map((t,a)=>t>=0?t:(S(-1===t,()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${a}.`),e.shape[a]-r[a])),[r,n]}function nJ(e,t,a,r,n,i,s,o,l){let p;if(null==r?(p=Array(t.length)).fill(1):p=r,null!=s&&(s&s-1)!=0)throw Error("Multiple ellipses in slice is not allowed.");let d=!1,u={dims:p.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:a.slice(),strides:p.slice(),beginMask:n,endMask:i,ellipsisMask:s,newAxisMask:o,shrinkAxisMask:l};for(let e=0;e<u.dims;e++)d&&(1<<e&o)!=0&&u.numAddAxisAfterEllipsis++,1<<e&s&&(d=!0);!d&&(u.ellipsisMask|=1<<u.dims,u.dims++);let h={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};(function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let a=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=Array(t.dims),t.end=Array(t.dims),t.strides=Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){let n=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;a<n;a++)t.begin[a]=0,t.end[a]=0,t.strides[a]=1,t.beginMask|=1<<a,t.endMask|=1<<a,t.finalShapeGatherIndices.push(a),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[a]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(a===t.begin.length)throw Error(`Index out of range using input dim ${a}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[a]=e.begin[r]),null!=e.end&&(t.end[a]=e.end[r]),t.strides[a]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<a),e.endMask&1<<r&&(t.endMask|=1<<a),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<a):(t.finalShapeGatherIndices.push(a),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[a]=r,a++}})(u,h);let c=!0,m=!0,f=!0,g=[],v=[];for(let t=0;t<e.length;++t){let a;if(0===h.strides[t])throw Error(`strides[${t}] must be non-zero`);let r=!!(h.shrinkAxisMask&1<<t),n=e[t];if(-1===n){g.push(r?1:-1);continue}let i=[h.beginMask&1<<t,h.endMask&1<<t],s=[h.strides[t]>0?0:-1,h.strides[t]>0?n:n-1];if(r&&h.strides[t]<=0)throw Error("only stride 1 allowed on non-range indexing.");f=f&&1===h.strides[t];let o=!!(h.beginMask&1<<t&&h.endMask&1<<t);if(h.beginValid&&h.endValid){if(r){let e=h.begin[t]<0?n+h.begin[t]:h.begin[t];if(h.begin[t]=e,h.end[t]=h.begin[t]+1,e<0||e>=n)throw Error(`slice index ${h.begin[t]} of dimension ${t} out of bounds.`)}else h.begin[t]=nZ(h.begin[t],0,h.strides[t],n,i,s),h.end[t]=nZ(h.end[t],1,h.strides[t],n,i,s);let e=1===h.strides[t]&&0===h.begin[t]&&h.end[t]===n;c=c&&e,m=m&&(0===t&&1===h.strides[t]||e)}else c=c&&1===h.strides[t]&&o,m=m&&(0===t&&1===h.strides[t]||o);let l=!1;if(h.beginValid&&h.endValid?(a=h.end[t]-h.begin[t],l=!0):r?(a=1,l=!0):o&&n>=0&&(a=h.strides[t]<0?-n:n,l=!0),l){let e;e=0===a||a<0!=h.strides[t]<0?0:Math.trunc(a/h.strides[t])+(a%h.strides[t]!=0?1:0),g.push(e)}else g.push(-1)}for(let e=0;e<h.finalShapeGatherIndices.length;++e){let t=h.finalShapeGatherIndices[e];t>=0?v.push(g[t]):-2===t&&v.push(1)}return{finalShapeSparse:v.filter((e,t)=>-2!==h.finalShapeGatherIndices[t]),finalShape:v,isIdentity:c,sliceDim0:m,isSimpleSlice:f,begin:h.begin,end:h.end,strides:h.strides}}function nZ(e,t,a,r,n,i){if(n[t])return a>0?i[t]:i[t+1&1];{let t=e<0?r+e:e;return t<i[0]?i[0]:t>i[1]?i[1]:t}}let nQ=rN({all_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,a=!1){let r=rw(e,"x","all","bool");return rc.runKernel("All",{x:r},{axis:t,keepDims:a})}}),n1=rN({any_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,a=!1){let r=rw(e,"x","any","bool");return rc.runKernel("Any",{x:r},{axis:t,keepDims:a})}}),n2=rN({argMax_:/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0){let a=rw(e,"x","argMax");return rc.runKernel(eo,{x:a},{axis:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n0(e,t,a,r,n="NHWC",i){let s=[...t,e[3]];return n3(e,s,a,i,r,null,null,is(n))}function n5(e,t,a,r,n,i,s="channelsLast"){let o;let[l,p]=n9(t);if("channelsLast"===s)o=[l,p,e[3],e[3]];else if("channelsFirst"===s)o=[l,p,e[1],e[1]];else throw Error(`Unknown dataFormat ${s}`);return n3(e,o,a,r,n,i,!1,s)}function n4(e,t,a,r,n,i,s="NDHWC"){let o,l;let[p,d,u]=n7(t);if("NDHWC"===s)l="channelsLast",o=[p,d,u,e[4],e[4]];else if("NCDHW"===s)l="channelsFirst",o=[p,d,u,e[1],e[1]];else throw Error(`Unknown dataFormat ${s}`);return n6(e,o,a,r,n,!1,l,i)}function n3(e,t,a,r,n,i,s=!1,o="channelsLast"){let l,[p,d,u,h]=[-1,-1,-1,-1];if("channelsLast"===o)[p,d,u,h]=e;else if("channelsFirst"===o)[p,h,d,u]=e;else throw Error(`Unknown dataFormat ${o}`);let[c,m,,f]=t,[g,v]=n9(a),[b,y]=n9(r),w=ie(c,b),x=ie(m,y),{padInfo:N,outHeight:k,outWidth:S}=function(e,t,a,r,n,i,s,o,l){let p,d,u;if("number"==typeof e){let n=0===e?"VALID":"NUMBER";p={top:e,bottom:e,left:e,right:e,type:n};let s=function(e,t,a,r,n){null==r&&(r=n8(e,t,a));let i=e[0],s=e[1];return[it((i-t+2*r)/a+1,n),it((s-t+2*r)/a+1,n)]}([t,a],i,r,e,o);d=s[0],u=s[1]}else if("same"===e){let e=Math.max(0,((d=Math.ceil(t/r))-1)*r+i-t),o=Math.max(0,((u=Math.ceil(a/n))-1)*n+s-a),l=Math.floor(e/2),h=Math.floor(o/2);p={top:l,bottom:e-l,left:h,right:o-h,type:"SAME"}}else if("valid"===e)p={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((t-i+1)/r),u=Math.ceil((a-s+1)/n);else if("object"==typeof e){let h="channelsLast"===l?e[1][0]:e[2][0],c="channelsLast"===l?e[1][1]:e[2][1],m="channelsLast"===l?e[2][0]:e[3][0],f="channelsLast"===l?e[2][1]:e[3][1];p={top:h,bottom:c,left:m,right:f,type:0===h&&0===c&&0===m&&0===f?"VALID":"EXPLICIT"},d=it((t-i+h+c)/r+1,o),u=it((a-s+m+f)/n+1,o)}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:p,outHeight:d,outWidth:u}}(n,d,u,g,v,w,x,i,o),I=s?f*h:f;return"channelsFirst"===o?l=[p,I,k,S]:"channelsLast"===o&&(l=[p,k,S,I]),{batchSize:p,dataFormat:o,inHeight:d,inWidth:u,inChannels:h,outHeight:k,outWidth:S,outChannels:I,padInfo:N,strideHeight:g,strideWidth:v,filterHeight:c,filterWidth:m,effectiveFilterHeight:w,effectiveFilterWidth:x,dilationHeight:b,dilationWidth:y,inShape:e,outShape:l,filterShape:t}}function n6(e,t,a,r,n,i=!1,s="channelsLast",o){let l,[p,d,u,h,c]=[-1,-1,-1,-1,-1];if("channelsLast"===s)[p,d,u,h,c]=e;else if("channelsFirst"===s)[p,c,d,u,h]=e;else throw Error(`Unknown dataFormat ${s}`);let[m,f,g,,v]=t,[b,y,w]=n7(a),[x,N,k]=n7(r),S=ie(m,x),I=ie(f,N),C=ie(g,k),{padInfo:T,outDepth:A,outHeight:_,outWidth:E}=function(e,t,a,r,n,i,s,o,l,p,d){let u,h,c,m;if("valid"===e&&(e=0),"number"==typeof e){let f=0===e?"VALID":"NUMBER";u={top:e,bottom:e,left:e,right:e,front:e,back:e,type:f};let g=function(e,t,a,r,n,i){null==n&&(n=n8(e,t[0],r[0]));let s=[0,0,0,1];for(let a=0;a<3;a++)e[a]+2*n>=t[a]&&(s[a]=it((e[a]-t[a]+2*n)/r[a]+1,i));return s}([t,a,r,1],[o,l,p],0,[n,i,s],e,d);h=g[0],c=g[1],m=g[2]}else if("same"===e){let e=((h=Math.ceil(t/n))-1)*n+o-t,d=((c=Math.ceil(a/i))-1)*i+l-a,f=((m=Math.ceil(r/s))-1)*s+p-r,g=Math.floor(e/2),v=Math.floor(d/2),b=Math.floor(f/2);u={top:v,bottom:d-v,left:b,right:f-b,front:g,back:e-g,type:"SAME"}}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:u,outDepth:h,outHeight:c,outWidth:m}}(n,d,u,h,b,y,w,S,I,C,o),$=i?v*c:v;return"channelsFirst"===s?l=[p,$,A,_,E]:"channelsLast"===s&&(l=[p,A,_,E,$]),{batchSize:p,dataFormat:s,inDepth:d,inHeight:u,inWidth:h,inChannels:c,outDepth:A,outHeight:_,outWidth:E,outChannels:$,padInfo:T,strideDepth:b,strideHeight:y,strideWidth:w,filterDepth:m,filterHeight:f,filterWidth:g,effectiveFilterDepth:S,effectiveFilterHeight:I,effectiveFilterWidth:C,dilationDepth:x,dilationHeight:N,dilationWidth:k,inShape:e,outShape:l,filterShape:t}}function n8(e,t,a,r=1){let n=ie(t,r);return Math.floor((e[0]*(a-1)-a+n)/2)}function n9(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function n7(e){return"number"==typeof e?[e,e,e]:e}function ie(e,t){return t<=1?e:e+(e-1)*(t-1)}function it(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw Error(`Unknown roundingMode ${t}`)}}function ia(e){let[t,a,r]=n9(e);return 1===t&&1===a&&1===r}function ir(e,t){return ia(e)||ia(t)}function ii(e){return n9(e).every(e=>e>0)}function is(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw Error(`Unknown dataFormat ${e}`)}function io(e,t,a){if(null!=a){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${a} but got pad ${t}.`);if("number"==typeof t)S(t%1==0,()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${a} but got pad ${t}.`);else if("object"==typeof t)t.forEach(t=>{t.forEach(t=>{S(t%1==0,()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${a} but got pad ${t}.`)})});else throw Error(`Error in ${e}: Unknown padding parameter: ${t}`)}}let il=rN({reshape_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"x","reshape","string_or_numeric");return rc.runKernel(tU,{x:a},{shape:t})}}),ip=rN({avgPool_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n){let i=rw(e,"x","avgPool","float32");S(ir(a,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`);let s=i,o=!1;3===i.rank&&(o=!0,s=il(i,[1,i.shape[0],i.shape[1],i.shape[2]])),S(4===s.rank,()=>`Error in avgPool: x must be rank 4 but got rank ${s.rank}.`),io("avgPool",r,n);let l={x:s},p=rc.runKernel(em,l,{filterSize:t,strides:a,pad:r,dimRoundingMode:n});return(p=r8(p,i.dtype),o)?il(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),id=rN({avgPool3d_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n,i="NDHWC"){let s=rw(e,"x","avgPool3d","float32"),o=s,l=!1;4===s.rank&&(l=!0,o=il(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),S(5===o.rank,()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`),S("NDHWC"===i,()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),S("number"==typeof a&&a>0||Array.isArray(a)&&a[0]>0&&a[1]>0&&a[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${a}'`),io("avgPool3d",r,n);let p={x:o},d=rc.runKernel(eg,p,{filterSize:t,strides:a,pad:r,dimRoundingMode:n,dataFormat:i});return(d=r8(d,o.dtype),l)?il(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}}),iu=rN({batchNorm_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n,i){let s,o;null==i&&(i=.001);let l=rw(e,"x","batchNorm"),p=rw(t,"mean","batchNorm"),d=rw(a,"variance","batchNorm");null!=n&&(s=rw(n,"scale","batchNorm")),null!=r&&(o=rw(r,"offset","batchNorm")),S(p.rank===d.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),S(null==o||p.rank===o.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),S(null==s||p.rank===s.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let u={x:0===l.rank||1===l.rank?il(l,[1,1,1,l.size]):2===l.rank?il(l,[1,1,l.shape[0],l.shape[1]]):3===l.rank?il(l,[1,l.shape[0],l.shape[1],l.shape[2]]):l,scale:s,offset:o,mean:p,variance:d},h={varianceEpsilon:i};return il(rc.runKernel(e4,u,h),l.shape)}}),ih=rN({batchNorm2d_:function(e,t,a,r,n,i){let s,o;let l=rw(e,"x","batchNorm"),p=rw(t,"mean","batchNorm"),d=rw(a,"variance","batchNorm");return null!=n&&(s=rw(n,"scale","batchNorm")),null!=r&&(o=rw(r,"offset","batchNorm")),S(2===l.rank,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${l.rank}.`),S(2===p.rank||1===p.rank,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${p.rank}.`),S(2===d.rank||1===d.rank,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${d.rank}.`),null!=s&&S(2===s.rank||1===s.rank,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${s.rank}.`),null!=o&&S(2===o.rank||1===o.rank,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${o.rank}.`),iu(l,p,d,o,s,i)}}),ic=rN({batchNorm3d_:function(e,t,a,r,n,i){let s,o;let l=rw(e,"x","batchNorm"),p=rw(t,"mean","batchNorm"),d=rw(a,"variance","batchNorm");return null!=n&&(s=rw(n,"scale","batchNorm")),null!=r&&(o=rw(r,"offset","batchNorm")),S(3===l.rank,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${l.rank}.`),S(3===p.rank||1===p.rank,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${p.rank}.`),S(3===d.rank||1===d.rank,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${d.rank}.`),null!=s&&S(3===s.rank||1===s.rank,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${s.rank}.`),null!=o&&S(3===o.rank||1===o.rank,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${o.rank}.`),iu(l,p,d,o,s,i)}}),im=rN({batchNorm4d_:function(e,t,a,r,n,i){let s,o;let l=rw(e,"x","batchNorm"),p=rw(t,"mean","batchNorm"),d=rw(a,"variance","batchNorm");return null!=n&&(s=rw(n,"scale","batchNorm")),null!=r&&(o=rw(r,"offset","batchNorm")),S(4===l.rank,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${l.rank}.`),S(4===p.rank||1===p.rank,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${p.rank}.`),S(4===d.rank||1===d.rank,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${d.rank}.`),null!=s&&S(4===s.rank||1===s.rank,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${s.rank}.`),null!=o&&S(4===o.rank||1===o.rank,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${o.rank}.`),iu(l,p,d,o,s,i)}}),ig=rN({broadcastTo_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"broadcastTo","x"),r=a.shape;if(K(t),t.length<a.rank)throw Error(`broadcastTo(): shape.length=${t.length} < input.rank=${a.rank}.`);if(t.length>a.rank){let e=a.shape.slice();for(;e.length<t.length;)e.unshift(1);a=il(a,e)}let n=a.shape,i=Array.from(t);for(let e=t.length-1;e>=0;e--)if(n[e]===t[e])i[e]=1;else if(1!==a.shape[e])throw Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(0===i.map((e,t)=>e>1?t:-1).filter(e=>e>=0).length)return r9(a);let s={x:a};return rc.runKernel(am,s,{reps:i})}}),iv=rN({clipByValue_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(e,"x","clipByValue");return(S(t<=a,()=>`Error in clip: min (${t}) must be less than or equal to max (${a}).`),t===a)?nf(r.shape,t,r.dtype):rc.runKernel(eI,{x:r},{clipValueMin:t,clipValueMax:a})}}),ib=rN({concat_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0){S(e.length>=1,()=>"Pass at least one tensor to concat");let a=rx(e,"tensors","concat","string_or_numeric");return("complex64"===a[0].dtype&&a.forEach(e=>{if("complex64"!==e.dtype)throw Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${e.dtype}. `)}),1===a.length)?r9(a[0]):rc.runKernel(eA,a,{axis:t})}}),iy=rN({concat1d_:function(e){return ib(e,0)}}),iw=rN({concat2d_:function(e,t){return ib(e,t)}}),ix=rN({concat3d_:function(e,t){return ib(e,t)}}),iN=rN({concat4d_:function(e,t){return ib(e,t)}}),ik=rN({conv2d_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n="NHWC",i=[1,1],s){let o=rw(e,"x","conv2d","float32"),l=rw(t,"filter","conv2d","float32"),p=o,d=!1;3===o.rank&&(d=!0,p=il(o,[1,o.shape[0],o.shape[1],o.shape[2]])),S(4===p.rank,()=>`Error in conv2d: input must be rank 4, but got rank ${p.rank}.`),S(4===l.rank,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),io("conv2d",r,s);let u="NHWC"===n?p.shape[3]:p.shape[1];S(u===l.shape[2],()=>`Error in conv2d: depth of input (${u}) must match input depth for filter ${l.shape[2]}.`),S(ir(a,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${a} and dilations '${i}'`),S(ii(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),S(ii(a),()=>"Error in conv2D: Strides should be larger than 0.");let h={x:p,filter:l},c=rc.runKernel(e_,h,{strides:a,pad:r,dataFormat:n,dilations:i,dimRoundingMode:s});return d?il(c,[c.shape[1],c.shape[2],c.shape[3]]):c}}),iS=rN({conv1d_:function(e,t,a,r,n="NWC",i=1,s){let o=rw(e,"x","conv1d"),l=rw(t,"filter","conv1d"),p=o,d=!1;2===o.rank&&(d=!0,p=il(o,[1,o.shape[0],o.shape[1]])),S(3===p.rank,()=>`Error in conv1d: input must be rank 3, but got rank ${p.rank}.`),S(3===l.rank,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),io("conv1d",r,s),S(p.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${p.shape[2]}) must match input depth for filter ${l.shape[1]}.`),S(ir(a,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${a} and dilation '${i}'`),S(ii(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),S(ii(a),()=>"Error in conv1D: Stride should be larger than 0."),S("NWC"===n,()=>`Error in conv1d: got dataFormat of ${n} but only NWC is currently supported.`);let u=il(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=ik(il(p,[p.shape[0],1,p.shape[1],p.shape[2]]),u,[1,a],r,"NHWC",[1,i],s);return d?il(h,[h.shape[2],h.shape[3]]):il(h,[h.shape[0],h.shape[2],h.shape[3]])}}),iI=rN({conv2DBackpropInput_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n,i="NHWC",s){S(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let o=e,l=t,p=!1;3===t.rank&&(p=!0,l=il(t,[1,t.shape[0],t.shape[1],t.shape[2]]),o=[1,e[0],e[1],e[2]]),S(4===o.length,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`),S(4===l.rank,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),S(4===a.rank,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${a.rank}`);let d="NHWC"===i?o[3]:o[1],u="NHWC"===i?l.shape[3]:l.shape[1];S(d===a.shape[2],()=>`Error in conv2dDerInput: depth of input (${d}) must match input depth for filter ${a.shape[2]}.`),S(u===a.shape[3],()=>`Error in conv2dDerInput: depth of output (${u}) must match output depth for filter ${a.shape[3]}.`),io("conv2dDerInput",n,s);let h={dy:l,filter:a},c={strides:r,pad:n,dataFormat:i,dimRoundingMode:s,inputShape:o},m=rc.runKernel(e$,h,c);return p?il(m,[m.shape[1],m.shape[2],m.shape[3]]):m}}),iC=rN({conv2dTranspose_:function(e,t,a,r,n,i){return iI(a,rw(e,"x","conv2dTranspose"),rw(t,"filter","conv2dTranspose"),r,n,"NHWC",i)}}),iT=rN({conv3d_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n="NDHWC",i=[1,1,1]){let s=rw(e,"x","conv3d"),o=rw(t,"filter","conv3d"),l=s,p=!1;4===s.rank&&(p=!0,l=il(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),S(5===l.rank,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),S(5===o.rank,()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`),S(l.shape[4]===o.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`),S(ir(a,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${a} and dilations '${i}'`),S("NDHWC"===n,()=>`Error in conv3d: got dataFormat of ${n} but only NDHWC is currently supported.`),S(ii(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),S(ii(a),()=>"Error in conv3D: Strides should be larger than 0.");let d={x:l,filter:o},u=rc.runKernel(eR,d,{strides:a,pad:r,dataFormat:n,dilations:i});return p?il(u,[u.shape[1],u.shape[2],u.shape[3],u.shape[4]]):u}}),iA=rN({conv3DBackpropInput_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n){S(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let i=e,s=t,o=!1;4===t.rank&&(o=!0,s=il(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);let l=i[4],p=s.shape[4];S(5===i.length,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),S(5===s.rank,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${s.rank}`),S(5===a.rank,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${a.rank}`),S(l===a.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${a.shape[3]}.`),S(p===a.shape[4],()=>`Error in conv3dDerInput: depth of output (${p}) must match output depth for filter ${a.shape[4]}.`);let d={dy:s,filter:a},u={pad:n,strides:r,inputShape:i},h=rc.runKernel(eD,d,u);return o?il(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),i_=rN({conv3dTranspose_:function(e,t,a,r,n){return iA(a,rw(e,"x","conv3dTranspose"),rw(t,"filter","conv3dTranspose"),r,n)}}),iE=rN({denseBincount_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r=!1){let n=rw(e,"x","denseBincount"),i=rw(t,"weights","denseBincount");return S("int32"===n.dtype,()=>`Error in denseBincount: input dtype must be int32, but got ${n.dtype}`),S(n.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${n.rank}.`),S(a>=0,()=>`size must be non-negative, but got ${a}.`),S(i.size===n.size||0===i.size,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${n.shape}, weights shape: ${i.shape}.`),rc.runKernel(eB,{x:n,weights:i},{size:a,binaryOutput:r})}}),i$=rN({depthwiseConv2d_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n="NHWC",i=[1,1],s){let o=rw(e,"x","depthwiseConv2d","float32"),l=rw(t,"filter","depthwiseConv2d","float32"),p=o,d=!1;3===o.rank&&(d=!0,p=il(o,[1,o.shape[0],o.shape[1],o.shape[2]])),S(4===p.rank,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`),S(4===l.rank,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);let u="NHWC"===n?p.shape[3]:p.shape[1];S(u===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${u}) must match the inChannels dimension in filter ${l.shape[2]}.`),io("depthwiseConv2d",r,s);let h={x:p,filter:l},c=rc.runKernel(eV,h,{strides:a,pad:r,dataFormat:n,dilations:i,dimRoundingMode:s});return d?il(c,[c.shape[1],c.shape[2],c.shape[3]]):c}}),iR=rN({elu_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","elu","float32");return rc.runKernel("Elu",{x:t})}}),iL=rN({equal_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","equal","string_or_numeric"),r=rw(t,"b","equal","string_or_numeric");[a,r]=rs(a,r),nk(a.shape,r.shape);let n={a:a,b:r};return rc.runKernel(eJ,n)}}),iD=rN({erf_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","erf");S("int32"===t.dtype||"float32"===t.dtype,()=>"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=r8(t,"float32"));let a={x:t};return rc.runKernel("Erf",a)}}),iF=rN({exp_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","exp");return rc.runKernel("Exp",{x:t})}}),iO=rN({expandDims_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0){let a=rw(e,"x","expandDims","string_or_numeric");return S(t<=a.rank,()=>"Axis must be <= rank of the tensor"),rc.runKernel(eZ,{input:a},{dim:t})}}),iP=rN({tile_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"x","tile","string_or_numeric");return S(a.rank===t.length,()=>`Error in transpose: rank of input ${a.rank} must match length of reps ${t}.`),rc.runKernel(am,{x:a},{reps:t})}}),iM=rN({eye_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r="float32"){null==t&&(t=e);let n=r6([e,t],r),i=e<=t?e:t;for(let e=0;e<i;++e)n.set(1,e,e);let s=il(n.toTensor(),[e,t]);if(null==a)return s;if(1===a.length)return iP(iO(s,0),[a[0],1,1]);if(2===a.length)return iP(iO(iO(s,0),0),[a[0],a[1],1,1]);if(3===a.length)return iP(iO(iO(iO(s,0),0),0),[a[0],a[1],a[2],1,1]);throw Error(`eye() currently supports only 1D and 2D batchShapes, but received ${a.length}D.`)}}),iB=rN({floor_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","floor","float32");return rc.runKernel(e0,{x:t})}}),iz=rN({gather_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a=0,r=0){let n=rw(e,"x","gather"),i=rw(t,"indices","gather","int32");return rc.runKernel(e3,{x:n,indices:i},{axis:a,batchDims:r})}}),iV=rN({greater_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","greater","string_or_numeric"),r=rw(t,"b","greater","string_or_numeric");[a,r]=rs(a,r),nk(a.shape,r.shape);let n={a:a,b:r};return rc.runKernel(e8,n)}}),iU=rN({greaterEqual_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","greaterEqual","string_or_numeric"),r=rw(t,"b","greaterEqual","string_or_numeric");[a,r]=rs(a,r),nk(a.shape,r.shape);let n={a:a,b:r};return rc.runKernel(e9,n)}}),ij=rN({leakyRelu_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=.2){let a=rw(e,"x","leakyRelu");return rc.runKernel(ti,{x:a},{alpha:t})}}),iW=rN({log_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","log","float32");return rc.runKernel("Log",{x:t})}}),iq=rN({log1p_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","log1p");return rc.runKernel(tp,{x:t})}}),iG=rN({max_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,a=!1){let r=rw(e,"x","max");return rc.runKernel("Max",{x:r},{reductionIndices:t,keepDims:a})}}),iH=rN({sum_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,a=!1){let r=rw(e,"x","sum");"bool"===r.dtype&&(r=r8(r,"int32"));let n={x:r};return rc.runKernel("Sum",n,{axis:t,keepDims:a})}}),iK=rN({logSoftmax_:/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=-1){let a=rw(e,"logits","logSoftmax");if(-1===t&&(t=a.rank-1),t!==a.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${a.rank} and axis was ${t}`);return ns((e,a)=>{let r=iG(e,t,!0),n=nb(e,r),i=nb(r8(n,"float32"),iW(iH(iF(n),t,!0)));return a([i]),{value:i,gradFunc:(e,a)=>{let[r]=a,n=iF(r);return nb(e,na(iH(e,t,!0),n))}}})(a)}});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iX(e,t){for(let a=0;a<e.length;++a)if(e[e.length-a-1]!==t-1-a)return!1;return!0}function iY(e,t,a){let r=e.length+t.length,n=[],i=0,s=0;for(let o=0;o<r;o++)-1===a.indexOf(o)?n.push(e[i++]):n.push(t[s++]);return n}function iJ(e,t){let a=[],r=e.length;for(let n=0;n<r;n++)-1===t.indexOf(n)&&a.push(e[n]);return[a,t.map(t=>e[t])]}function iZ(e,t){return iY(e,t.map(e=>1),t)}function iQ(e,t,a){S(iX(t,a),()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${a} input.`)}function i1(e,t){if(iX(e,t))return null;let a=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&a.push(r);return e.forEach(e=>a.push(e)),a}function i2(e){return e.map((e,t)=>[t,e]).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}function i0(e,t){let a=[];for(let r=t-e;r<t;++r)a.push(r);return a}let i5=rN({logSumExp_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,a=!1){let r=rw(e,"x","logSumExp"),n=L(t,r.shape),i=iG(r,n,!0),s=iW(iH(iF(nb(r,i)),n)),o=r7(il(i,s.shape),s);if(a){let e=iZ(o.shape,n);return il(o,e)}return o}}),i4=rN({logicalAnd_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","logicalAnd","bool"),r=rw(t,"b","logicalAnd","bool");return nk(a.shape,r.shape),rc.runKernel(td,{a:a,b:r})}}),i3=rN({matMul_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a=!1,r=!1){let n=rw(e,"a","matMul"),i=rw(t,"b","matMul");[n,i]=rs(n,i);let s={a:n,b:i};return rc.runKernel(eb,s,{transposeA:a,transposeB:r})}}),i6=rN({maxPool_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n){let i=rw(e,"x","maxPool"),s=i,o=!1;3===i.rank&&(o=!0,s=il(i,[1,i.shape[0],i.shape[1],i.shape[2]])),S(4===s.rank,()=>`Error in maxPool: input must be rank 4 but got rank ${s.rank}.`),S(ir(a,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`),io("maxPool",r,n);let l={x:s},p=rc.runKernel(tf,l,{filterSize:t,strides:a,pad:r,dimRoundingMode:n});return o?il(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),i8=rN({maxPool3d_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=[1,1,1],a,r,n,i="NDHWC"){let s=rw(e,"x","maxPool3d"),o=s,l=!1;4===s.rank&&(l=!0,o=il(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),S(5===o.rank,()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`),S("NDHWC"===i,()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),io("maxPool3d",r,n);let p={x:o},d=rc.runKernel(tv,p,{filterSize:t,strides:a,pad:r,dimRoundingMode:n,dataFormat:i});return l?il(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}}),i9=rN({mean_:/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,a=!1){let r=rw(e,"x","mean");return rc.runKernel(tw,{x:r},{axis:t,keepDims:a})}}),i7=rN({min_:/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,a=!1){let r=rw(e,"x","min");return rc.runKernel("Min",{x:r},{axis:t,keepDims:a})}}),se=rN({minimum_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","minimum"),r=rw(t,"b","minimum");[a,r]=rs(a,r),"bool"===a.dtype&&(a=r8(a,"int32"),r=r8(r,"int32")),nk(a.shape,r.shape);let n={a:a,b:r};return rc.runKernel(tx,n)}}),st=rN({moments_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,a=!1){let r=L(t,(e=rw(e,"x","moments")).shape),n=i9(e,r,a),i=n.shape;a||(i=iZ(n.shape,r));let s=i9(nn(nb(r8(e,"float32"),il(n,i))),r,a);return{mean:n,variance:s}}}),sa=rN({neg_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","neg");return rc.runKernel("Neg",{x:t})}}),sr=rN({notEqual_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","notEqual","string_or_numeric"),r=rw(t,"b","notEqual","string_or_numeric");[a,r]=rs(a,r),nk(a.shape,r.shape);let n={a:a,b:r};return rc.runKernel(tI,n)}}),sn=rN({oneHot_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a=1,r=0,n="int32"){if(t<2)throw Error(`Error in oneHot: depth must be >=2, but it is ${t}`);let i=rw(e,"indices","oneHot","int32");return rc.runKernel(tE,{indices:i},{dtype:n,depth:t,onValue:a,offValue:r})}});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function si(e,t="float32"){if(K(e),"complex64"===t)return rk(si(e,"float32"),si(e,"float32"));let a=G(T(e),t);return rc.makeTensor(a,e,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ss(e,t="float32"){if(K(e),"complex64"===t)return rk(ss(e,"float32"),si(e,"float32"));let a=q(T(e),t);return rc.makeTensor(a,e,t)}let so=rN({onesLike_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","onesLike");return rc.runKernel(t_,{x:t})}}),sl=rN({pad_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a=0){let r=rw(e,"x","pad");if(0===r.rank)throw Error("pad(scalar) is not defined. Pass non-scalar to pad");return rc.runKernel(tR,{x:r},{paddings:t,constantValue:a})}}),sp=rN({prelu_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"x","prelu"),r=rw(t,"alpha","prelu");return rc.runKernel(tL,{x:a,alpha:r})}});var sd=a(2918);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class su{constructor(e,t,a,r,n){this.mean=e,this.stdDev=t,this.dtype=a,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);let i=n||Math.random();this.random=sd.alea(i.toString())}nextValue(){let e,t;if(!isNaN(this.nextVal)){let e=this.nextVal;return this.nextVal=NaN,e}let a=!1;for(;!a;){let r,n,i;do i=(r=2*this.random()-1)*r+(n=2*this.random()-1)*n;while(i>=1||0===i);let s=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*r*s,t=this.mean+this.stdDev*n*s,(!this.truncated||this.isValidTruncated(e))&&(a=!0)}return(!this.truncated||this.isValidTruncated(t))&&(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class sh{constructor(e=0,t=1,a,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=a,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=sd.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}let sc=rN({randomNormal_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0,a=1,r,n){if(K(e),null!=r&&"bool"===r)throw Error(`Unsupported data type ${r}`);let i=new su(t,a,r,!1,n),s=r6(e,r);for(let e=0;e<s.values.length;e++)s.values[e]=i.nextValue();return s.toTensor()}}),sm=rN({randomUniform_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0,a=1,r="float32",n){K(e);let i=r6(e,r),s=new sh(t,a,null,n);for(let e=0;e<i.values.length;e++)i.values[e]=s.nextValue();return i.toTensor()}});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sf(e,t,a=1,r="float32"){if(0===a)throw Error("Cannot have a step of zero");return rc.runKernel(tM,{},{start:e,stop:t,step:a,dtype:r})}let sg=rN({relu_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","relu");return rc.runKernel(tV,{x:t})}}),sv=rN({reverse_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"x","reverse");return rc.runKernel(tK,{x:a},{dims:t})}}),sb=rN({selu_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","selu");return rc.runKernel(t2,{x:t})}}),sy=rN({separableConv2d_:function(e,t,a,r,n,i=[1,1],s="NHWC"){let o=rw(e,"x","separableConv2d"),l=rw(t,"depthwiseFilter","separableConv2d"),p=rw(a,"pointwiseFilter","separableConv2d"),d=o,u=!1;if(3===o.rank&&(u=!0,d=il(o,[1,o.shape[0],o.shape[1],o.shape[2]])),"NCHW"===s)throw Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");S(4===d.rank,()=>`Error in separableConv2d: input must be rank 4, but got rank ${d.rank}.`),S(4===l.rank,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),S(4===p.rank,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),S(1===p.shape[0],()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${p.shape[0]}.`),S(1===p.shape[1],()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${p.shape[1]}.`);let h=l.shape[2],c=l.shape[3];S(p.shape[2]===h*c,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${h*c}, but got ${p.shape[2]}.`);let m=ik(i$(d,l,r,n,s,i),p,1,"valid",s);return u?il(m,[m.shape[1],m.shape[2],m.shape[3]]):m}}),sw=rN({sigmoid_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","sigmoid","float32");return rc.runKernel(t3,{x:t})}}),sx=rN({slice_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(e,"x","slice","string_or_numeric");if(0===r.rank)throw Error("Slicing scalar is not possible");return rc.runKernel(t0,{x:r},{begin:t,size:a})}}),sN=rN({slice1d_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(e,"x","slice1d");return S(1===r.rank,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),sx(r,[t],[a])}}),sk=rN({slice2d_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(e,"x","slice2d");return S(2===r.rank,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),sx(r,t,a)}}),sS=rN({slice3d_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(e,"x","slice3d");return S(3===r.rank,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),sx(r,t,a)}}),sI=rN({slice4d_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(e,"x","slice4d");return S(4===r.rank,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),sx(r,t,a)}}),sC=rN({softmax_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=-1){let a=rw(e,"logits","softmax","float32");if(-1===t&&(t=a.rank-1),t!==a.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${a.rank} and dim was ${t}`);let r={dim:t};return rc.runKernel(ae,{logits:a},r)}}),sT=rN({softplus_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","softplus");return rc.runKernel(t6,{x:t})}}),sA=rN({split_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a=0){let r=rw(e,"x","split");return rc.runKernel(t7,{x:r},{numOrSizeSplits:t,axis:a})}}),s_=rN({squeeze_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"x","squeeze","string_or_numeric");return il(a,D(a.shape,t).newShape)}}),sE=rN({stack_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0){let a=rx(e,"tensors","stack","string_or_numeric");return S(a.length>=1,()=>"Pass at least one tensor to tf.stack"),a.length>0&&S(t<=a[0].rank,()=>"Axis must be <= rank of the tensor"),rc.runKernel(t$,a,{axis:t})}}),s$=rN({tanh_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","tanh","float32");return rc.runKernel(ac,{x:t})}});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sR(e,t){C(e);let a=rb(e,t);if(1!==a.length)throw Error("tensor1d() requires values to be a flat/TypedArray");return rS(e,null,a,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sL(e,t,a){if(C(e),null!=t&&2!==t.length)throw Error("tensor2d() requires shape to have two numbers");let r=rb(e,a);if(2!==r.length&&1!==r.length)throw Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return rS(e,t,r,a)}let sD=rN({truncatedNormal_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0,a=1,r,n){if(K(e),null!=r&&"bool"===r)throw Error("Unsupported data type $ { dtype }");let i=new su(t,a,r,!0,n),s=r6(e,r);for(let e=0;e<s.values.length;e++)s.values[e]=i.nextValue();return s.toTensor()}}),sF=rN({unstack_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0){let a=rw(e,"x","unstack","string_or_numeric");return S(t>=-a.shape.length&&t<a.shape.length,()=>`Axis = ${t} is not in [-${a.shape.length}, ${a.shape.length})`),rc.runKernel(ay,{value:a},{axis:t})}}),sO=rN({where_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(t,"a","where"),n=rw(a,"b","where"),i=rw(e,"condition","where","bool"),s=nk(nk(i.shape,r.shape),n.shape),o=ig(i,s),l=ig(r,s),p=ig(n,s);return rc.runKernel(t1,{condition:o,t:l,e:p})}}),sP=rN({imag_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"input","imag");return rc.runKernel(tt,{input:t})}}),sM=rN({real_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"input","real");return rc.runKernel(tB,{input:t})}}),sB=rN({transpose_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(e,"x","transpose");if(null==t&&(t=r.shape.map((e,t)=>t).reverse()),S(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`),t.forEach(e=>{S(e>=0&&e<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${t}`)}),r.rank<=1)return r.clone();let n={perm:t};return"complex64"===r.dtype?rA(()=>{let e=sM(r),t=sP(r);return e=rc.runKernel(av,{x:e},n),t=rc.runKernel(av,{x:t},n),a&&(t=sa(t)),rk(e,t)}):rc.runKernel(av,{x:r},n)}}),sz=rN({dropout_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r){let n=rw(e,"x","dropout");if(S("float32"===n.dtype,()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${n.dtype} tensor instead.`),S(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),0===t)return e instanceof a9?n.clone():n;let i=/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){if(null==t)return e.shape.slice();if(A(e.shape,t))return t;if(e.shape.length===t.length){let a=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?a.push(e.shape[r]):a.push(t[r]);return a}return t}(n,a),s=1-t;return na(n,nt(iB(r7(sm(i,0,1,"float32",r),s)),s))}}),sV=rN({fft_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){return S("complex64"===e.dtype,()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`),rc.runKernel("FFT",{input:e})}}),sU=rN({rfft_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a;S("float32"===e.dtype,()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let r=e.shape[e.shape.length-1],n=e.size/r;if(null!=t&&t<r){let n=e.shape.map(e=>0),i=e.shape.map(e=>e);i[e.shape.length-1]=t,a=sx(e,n,i),r=t}else if(null!=t&&t>r){let n=e.shape.map(e=>e);n[e.shape.length-1]=t-r,a=ib([e,si(n)],e.shape.length-1),r=t}else a=e;let i=ni(a),s=sV(il(rk(a,i),[n,r])),o=Math.floor(r/2)+1,l=sM(s),p=sP(s),d=sA(l,[o,r-o],l.shape.length-1),u=sA(p,[o,r-o],p.shape.length-1),h=a.shape.slice();return h[a.shape.length-1]=o,il(rk(d[0],u[0]),h)}}),sj=rN({ifft_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){return S("complex64"===e.dtype,()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`),rc.runKernel(te,{input:e})}}),sW=rN({irfft_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let a=e.shape[e.shape.length-1],r=e.size/a;if(a<=2)t=sj(il(e,[r,a]));else{let n=[r,2*(a-1)],i=il(sM(e),[r,a]),s=il(sP(e),[r,a]),o=sv(sx(i,[0,1],[r,a-2]),1),l=na(sv(sx(s,[0,1],[r,a-2]),1),no(-1));t=sj(il(rk(ib([i,o],1),ib([s,l],1)),[n[0],n[1]]))}if(t=sM(t),3===e.rank&&0!==e.shape[0]){let a=t,r=e.shape[0];t=il(t,[r,t.shape[0]/r,t.shape[1]]),a.dispose()}return t}}),sq=rN({conv2DBackpropFilter_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n,i="NHWC",s){let o=e;3===e.rank&&(o=il(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=il(t,[1,t.shape[0],t.shape[1],t.shape[2]])),S(4===o.rank,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`),S(4===l.rank,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),S(4===a.length,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${a}.`);let p="NHWC"===i?o.shape[3]:o.shape[1],d="NHWC"===i?l.shape[3]:l.shape[1];S(p===a[2],()=>`Error in conv2dDerFilter: depth of input ${p}) must match input depth in filter (${a[2]}.`),S(d===a[3],()=>`Error in conv2dDerFilter: depth of dy (${d}) must match output depth for filter (${a[3]}).`),io("conv2dDerFilter",n,s);let u={x:o,dy:l};return rc.runKernel(eE,u,{strides:r,pad:n,dataFormat:i,dimRoundingMode:s,filterShape:a})}}),sG=rN({relu6_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","relu6");return rc.runKernel(tH,{x:t})}}),sH=rN({step_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0){let a=rw(e,"x","step");return rc.runKernel(aN,{x:a},{alpha:t})}});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sK(e,t,a){if(null==a||"linear"===a)return e;if("relu"===a)return na(e,sH(t));throw Error(`Cannot compute gradient for fused activation ${a}.`)}function sX(e,t){let a=t,r=nN(e.shape,t.shape);return r.length>0&&(a=iH(a,r)),il(a,e.shape)}function sY(e,t,a,r){if("linear"===t)return e;if("relu"===t)return sg(e);if("elu"===t)return iR(e);if("relu6"===t)return sG(e);if("prelu"===t)return sp(e,a);if("leakyrelu"===t)return ij(e,r);if("sigmoid"===t)return sw(e);throw Error(`Unknown fused activation ${t}.`)}let sJ=(e,t)=>!(e>0)||"linear"===t,sZ=rN({fusedConv2d_:/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function({x:e,filter:t,strides:a,pad:r,dataFormat:n="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:o,activation:l="linear",preluActivationWeights:p,leakyreluAlpha:d}){let u,h;if(l=l||"linear",!1===sJ(rc.state.gradientDepth,l)){S("NHWC"===n,()=>`Error in fused conv2d: got dataFormat of ${n} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let u=ik(e,t,a,r,n,i,s);return null!=o&&(u=r7(u,o)),sY(u,l,p,d)}let c=rw(e,"x","conv2d","float32"),m=rw(t,"filter","conv2d","float32"),f=c,g=!1;3===c.rank&&(g=!0,f=il(c,[1,c.shape[0],c.shape[1],c.shape[2]])),S(4===f.rank,()=>`Error in fused conv2d: input must be rank 4, but got rank ${f.rank}.`),S(4===m.rank,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${m.rank}.`),io("fused conv2d",r,s);let v="NHWC"===n?f.shape[3]:f.shape[1];S(m.shape[2]===v,()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${m.shape[2]}.`),S(ir(a,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${a} and dilations '${i}'`);let b=n3(f.shape,m.shape,a,i,r,s);if(null!=o&&(u=rw(o,"bias","fused conv2d"),[u]=rs(u,c),"NHWC"===n?nk(b.outShape,u.shape):(S(u.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${u.shape.length}.`),S(0===u.shape.length||u.shape[0]===b.outChannels||1===u.shape[0],()=>`Error in fused conv2d: bias shape (${u.shape}) is not compatible with the number of output channels (${b.outChannels})`))),null!=p){let e=p.shape;if(S(e.length<=1||3===e.length,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`),1===e.length)S(1===e[0]||e[0]===b.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${b.outChannels}).`);else if(3===e.length)try{nk(e,b.outShape)}catch(t){throw Error(`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${b.outShape}).`)}h=rw(p,"prelu weights","fused conv2d")}let y=(e,t)=>{S("NHWC"===n,()=>`Error in gradient of fused conv2D: got dataFormat of ${n} but only NHWC is currently supported.`);let[s,o,p,d]=t,u=sK(e,p,l);S(ia(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);let h=[iI(o.shape,u,s,a,r),sq(o,u,s.shape,a,r)];if(null!=d){let e=sX(d,u);h.push(e)}return h},w={x:f,filter:m,bias:u,preluActivationWeights:h},x={strides:a,pad:r,dataFormat:n,dilations:i,dimRoundingMode:s,activation:l,leakyreluAlpha:d};return null==o?ns((e,t,a)=>{let r=rc.runKernel(aI,w,x);return a([t,e,r]),g&&(r=il(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:y}})(f,m):ns((e,t,a,r)=>{let n=rc.runKernel(aI,w,x);return r([t,e,n,a]),g&&(n=il(n,[n.shape[1],n.shape[2],n.shape[3]])),{value:n,gradFunc:y}})(f,m,u)}}),sQ=rN({depthwiseConv2dNativeBackpropFilter_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n,i=[1,1],s){let o=e;3===e.rank&&(o=il(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=il(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let p={x:o,dy:l};return rc.runKernel(eU,p,{strides:r,pad:n,dimRoundingMode:s,dilations:i,filterShape:a})}}),s1=rN({depthwiseConv2dNativeBackpropInput_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n,i=[1,1],s){let o=t,l=!1;3===t.rank&&(l=!0,o=il(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let p={dy:o,filter:a},d=rc.runKernel(ej,p,{strides:r,pad:n,dimRoundingMode:s,dilations:i,inputShape:e});return l?il(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),s2=rN({fusedMatMul_:/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function({a:e,b:t,transposeA:a=!1,transposeB:r=!1,bias:n,activation:i="linear",preluActivationWeights:s,leakyreluAlpha:o=.2}){let l,p;if(!1===sJ(rc.state.gradientDepth,i)){let l=i3(e,t,a,r);return null!=n&&(l=r7(l,n)),sY(l,i,s,o)}let d=rw(e,"a","fused matMul"),u=rw(t,"b","fused matMul");[d,u]=rs(d,u);let h=a?d.shape[d.rank-2]:d.shape[d.rank-1],c=r?u.shape[u.rank-1]:u.shape[u.rank-2],m=a?d.shape[d.rank-1]:d.shape[d.rank-2],f=r?u.shape[u.rank-2]:u.shape[u.rank-1],g=d.shape.slice(0,-2),v=u.shape.slice(0,-2),b=T(g),y=T(v);S(h===c,()=>`Error in fused matMul: inner shapes (${h}) and (${c}) of Tensors with shapes ${d.shape} and ${u.shape} and transposeA=${a} and transposeB=${r} must match.`);let w=nk(d.shape.slice(0,-2),u.shape.slice(0,-2)).concat([m,f]),x=a?il(d,[b,h,m]):il(d,[b,m,h]),N=r?il(u,[y,f,c]):il(u,[y,c,f]);null!=n&&(l=rw(n,"bias","fused matMul"),[l]=rs(l,d),nk(w,l.shape)),null!=s&&(p=rw(s,"prelu weights","fused matMul"));let k=(e,t)=>{let s,o;let[l,p,d,u]=t,h=sK(il(e,d.shape),d,i);return(a||r?!a&&r?(s=i3(h,p,!1,!1),o=i3(h,l,!0,!1)):a&&!r?(s=i3(p,h,!1,!0),o=i3(l,h,!1,!1)):(s=i3(p,h,!0,!0),o=i3(h,l,!0,!0)):(s=i3(h,p,!1,!0),o=i3(l,h,!0,!1)),null!=n)?[s,o,sX(u,h)]:[s,o]},I={a:x,b:N,bias:l,preluActivationWeights:p},C={transposeA:a,transposeB:r,activation:i,leakyreluAlpha:o};return null==n?ns((e,t,a)=>{let r=rc.runKernel(aS,I,C);return a([e,t,r]),{value:il(r,w),gradFunc:k}})(x,N):ns((e,t,a,r)=>{let n=rc.runKernel(aS,I,C);return r([e,t,n,a]),{value:il(n,w),gradFunc:k}})(x,N,l)}}),s0=rN({cropAndResize_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n="bilinear",i=0){let s=rw(e,"image","cropAndResize"),o=rw(t,"boxes","cropAndResize","float32"),l=rw(a,"boxInd","cropAndResize","int32"),p=o.shape[0];return S(4===s.rank,()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`),S(2===o.rank&&4===o.shape[1],()=>`Error in cropAndResize: boxes must be have size [${p},4] but had shape ${o.shape}.`),S(1===l.rank&&l.shape[0]===p,()=>`Error in cropAndResize: boxInd must be have size [${p}] but had shape ${o.shape}.`),S(2===r.length,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),S(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),S("bilinear"===n||"nearest"===n,()=>`method must be bilinear or nearest, but was ${n}`),rc.runKernel(eM,{image:s,boxes:o,boxInd:l},{method:n,extrapolationValue:i,cropSize:r})}}),s5=rN({flipLeftRight_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"image","flipLeftRight","float32");return S(4===t.rank,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`),rc.runKernel(e2,{image:t},{})}}),s4=rN({grayscaleToRGB_:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"image","grayscaleToRGB"),a=t.rank-1,r=t.shape[a];S(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),S(1===r,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);let n=Array(t.rank);return n.fill(1,0,a),n[a]=3,iP(t,n)}}),s3=rN({einsum_:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,...t){let a=t.map((e,t)=>rw(e,`tensors${t}`,"einsum"));return rc.runKernel(eX,a,{equation:e})}}),s6=rN({rgbToGrayscale_:/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let a=rw(e,"image","RGBToGrayscale"),r=a.rank-1,n=a.shape[r];S(a.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${a.rank}.`),S(3===n,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${n}.`);let i=a.dtype,s=r8(a,"float32"),o=sR([.2989,.587,.114]);switch(a.rank){case 2:t=s3("ij,j->i",s,o);break;case 3:t=s3("ijk,k->ij",s,o);break;case 4:t=s3("ijkl,l->ijk",s,o);break;case 5:t=s3("ijklm,m->ijkl",s,o);break;case 6:t=s3("ijklmn,n->ijklm",s,o);break;default:throw Error("Not a valid tensor rank.")}return r8(t=iO(t,-1),i)}}),s8=rN({rotateWithOffset_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a=0,r=.5){let n=rw(e,"image","rotateWithOffset","float32");return S(4===n.rank,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${n.rank}.`),rc.runKernel(ak,{image:n},{radians:t,fillValue:a,center:r})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s9(e,t,a,r,n,i){null==r&&(r=.5),null==n&&(n=Number.NEGATIVE_INFINITY),null==i&&(i=0);let s=e.shape[0];return a=Math.min(a,s),S(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),S(2===e.rank,()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`),S(4===e.shape[1],()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`),S(1===t.rank,()=>"scores must be a 1D tensor"),S(t.shape[0]===s,()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${t.shape[0]}`),S(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:a,iouThreshold:r,scoreThreshold:n,softNmsSigma:i}}let s7=rN({nonMaxSuppression_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r=.5,n=Number.NEGATIVE_INFINITY){let i=rw(e,"boxes","nonMaxSuppression","float32"),s=rw(t,"scores","nonMaxSuppression","float32"),o=s9(i,s,a,r,n),l={maxOutputSize:a=o.maxOutputSize,iouThreshold:r=o.iouThreshold,scoreThreshold:n=o.scoreThreshold};return rc.runKernel(tC,{boxes:i,scores:s},l)}});function oe(e,t){return e>t?1:e<t?-1:0}function ot(e,t,a,r,n,i){return oa(e,t,a,r,n,0,!1,i,!0)}function oa(e,t,a,r,n,i,s=!1,o=!1,l=!1){let p=[];for(let e=0;e<t.length;e++)t[e]>n&&p.push({score:t[e],boxIndex:e,suppressBeginIndex:0});p.sort(or);let d=i>0?-.5/i:0,u=[],h=[];for(;u.length<a&&p.length>0;){let t=p.pop(),{score:a,boxIndex:i,suppressBeginIndex:s}=t;if(a<n)break;let o=!1;for(let a=u.length-1;a>=s;--a){let s=function(e,t,a){let r=e.subarray(4*t,4*t+4),n=e.subarray(4*a,4*a+4),i=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),p=Math.min(n[0],n[2]),d=Math.min(n[1],n[3]),u=Math.max(n[0],n[2]),h=Math.max(n[1],n[3]),c=(o-i)*(l-s),m=(u-p)*(h-d);if(c<=0||m<=0)return 0;let f=Math.max(Math.min(o,u)-Math.max(i,p),0)*Math.max(Math.min(l,h)-Math.max(s,d),0);return f/(c+m-f)}(e,i,u[a]);if(s>=r){o=!0;break}if(t.score=t.score*function(e,t,a){let r=Math.exp(t*a*a);return a<=e?r:0}(r,d,s),t.score<=n)break}t.suppressBeginIndex=u.length,!o&&(t.score===a?(u.push(i),h.push(t.score)):t.score>n&&/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=function(e,t,a){let r=0,n=e.length,i=0,s=!1;for(;r<n;){let o=a(t,e[i=r+(n-r>>>1)]);o>0?r=i+1:(n=i,s=!o)}return s?r:-r-1}(e,t,a||oe);e.splice(r<0?-(r+1):r,0,t)}(p,t,or))}let c=u.length,m=a-c;o&&m>0&&(u.push(...Array(m).fill(0)),h.push(...Array(m).fill(0)));let f={selectedIndices:u};return s&&(f.selectedScores=h),l&&(f.validOutputs=c),f}function or(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function on(e,t,a,r=.5,n=Number.NEGATIVE_INFINITY){var i;let s=rw(e,"boxes","nonMaxSuppressionAsync"),o=rw(t,"scores","nonMaxSuppressionAsync"),l=s9(s,o,a,r,n);a=l.maxOutputSize,r=l.iouThreshold,n=l.scoreThreshold;let p=await Promise.all([s.data(),o.data()]),{selectedIndices:d}=(i=p[0],oa(i,p[1],a,r,n,0));return s!==e&&s.dispose(),o!==t&&o.dispose(),sR(d,"int32")}let oi=rN({nonMaxSuppressionWithScore_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r=.5,n=Number.NEGATIVE_INFINITY,i=0){let s=rw(e,"boxes","nonMaxSuppression"),o=rw(t,"scores","nonMaxSuppression"),l=s9(s,o,a,r,n,i);a=l.maxOutputSize,r=l.iouThreshold;let p={maxOutputSize:a,iouThreshold:r,scoreThreshold:n=l.scoreThreshold,softNmsSigma:i=l.softNmsSigma},d=rc.runKernel(tA,{boxes:s,scores:o},p);return{selectedIndices:d[0],selectedScores:d[1]}}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function os(e,t,a,r=.5,n=Number.NEGATIVE_INFINITY,i=0){var s;let o=rw(e,"boxes","nonMaxSuppressionAsync"),l=rw(t,"scores","nonMaxSuppressionAsync"),p=s9(o,l,a,r,n,i);a=p.maxOutputSize,r=p.iouThreshold,n=p.scoreThreshold,i=p.softNmsSigma;let d=await Promise.all([o.data(),l.data()]),{selectedIndices:u,selectedScores:h}=(s=d[0],oa(s,d[1],a,r,n,i,!0));return o!==e&&o.dispose(),l!==t&&l.dispose(),{selectedIndices:sR(u,"int32"),selectedScores:sR(h)}}let oo=rN({nonMaxSuppressionPadded_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r=.5,n=Number.NEGATIVE_INFINITY,i=!1){let s=rw(e,"boxes","nonMaxSuppression"),o=rw(t,"scores","nonMaxSuppression"),l=s9(s,o,a,r,n,null),p=l.maxOutputSize,d=l.iouThreshold,u=l.scoreThreshold,h=rc.runKernel(tT,{boxes:s,scores:o},{maxOutputSize:p,iouThreshold:d,scoreThreshold:u,padToMaxOutputSize:i});return{selectedIndices:h[0],validOutputs:h[1]}}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function ol(e,t,a,r=.5,n=Number.NEGATIVE_INFINITY,i=!1){let s=rw(e,"boxes","nonMaxSuppressionAsync"),o=rw(t,"scores","nonMaxSuppressionAsync"),l=s9(s,o,a,r,n,null),p=l.maxOutputSize,d=l.iouThreshold,u=l.scoreThreshold,[h,c]=await Promise.all([s.data(),o.data()]),{selectedIndices:m,validOutputs:f}=ot(h,c,p,d,u,i);return s!==e&&s.dispose(),o!==t&&o.dispose(),{selectedIndices:sR(m,"int32"),validOutputs:no(f,"int32")}}let op=rN({resizeBilinear_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a=!1,r=!1){let n=rw(e,"images","resizeBilinear");S(3===n.rank||4===n.rank,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${n.rank}.`),S(2===t.length,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),S(!1===r||!1===a,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=n,s=!1;3===n.rank&&(s=!0,i=il(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let[]=t,o={images:i},l=rc.runKernel(tq,o,{alignCorners:a,halfPixelCenters:r,size:t});return s?il(l,[l.shape[1],l.shape[2],l.shape[3]]):l}}),od=rN({resizeNearestNeighbor_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a=!1,r=!1){let n=rw(e,"images","resizeNearestNeighbor");S(3===n.rank||4===n.rank,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${n.rank}.`),S(2===t.length,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),S("float32"===n.dtype||"int32"===n.dtype,()=>"`images` must have `int32` or `float32` as dtype"),S(!1===r||!1===a,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=n,s=!1;3===n.rank&&(s=!0,i=il(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let[]=t,o={images:i},l=rc.runKernel(tj,o,{alignCorners:a,halfPixelCenters:r,size:t});return s?il(l,[l.shape[1],l.shape[2],l.shape[3]]):l}}),ou=rN({bincount_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(e,"x","bincount"),n=rw(t,"weights","bincount");return S("int32"===r.dtype,()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),S(a>=0,()=>`size must be non-negative, but got ${a}.`),S(n.size===r.size||0===n.size,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${n.shape}.`),rc.runKernel(ew,{x:r,weights:n},{size:a})}}),oh=rN({lessEqual_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","lessEqual","string_or_numeric"),r=rw(t,"b","lessEqual","string_or_numeric");[a,r]=rs(a,r),nk(a.shape,r.shape);let n={a:a,b:r};return rc.runKernel(to,n)}}),oc=rN({round_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","round");return rc.runKernel(tX,{x:t})}}),om=rN({threshold_:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t="binary",a=!1,r=.5){let n,i,s,o;let l=rw(e,"image","threshold"),p=l.shape[0]*l.shape[1],d=na(sR([r]),255);if(S(3===l.rank,()=>`Error in threshold: image must be rank 3,but got rank ${l.rank}.`),S(3===l.shape[2]||1===l.shape[2],()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${l.shape[2]}.`),S("int32"===l.dtype||"float32"===l.dtype,()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${l.dtype}.`),S("otsu"===t||"binary"===t,()=>`Method must be binary or otsu, but was ${t}`),3===l.shape[2]){[n,i,s]=sA(l,[1,1,1],-1);let e=na(n,.2989),t=na(i,.587),a=na(s,.114);o=r7(r7(e,t),a)}else o=e;return"otsu"===t&&(d=function(e,t){let a,r,n,i,s,o,l=sR([-1]),p=sR([0]),d=sR([0]);for(let u=0;u<e.size-1;u++){a=sx(e,0,u+1),r=sx(e,u+1),s=nt(iH(a),t),o=nt(iH(r),t),n=nt(iH(na(a,sf(0,a.size))),iH(a));let h=nf(r.shape,a.size),c=r7(sf(0,r.size),h),m=nb(n,i=nt(iH(na(r,c)),iH(r))),f=nb(n,i),g=na(s,o),v=iV(d=na(na(g,m),f),p);p=sO(v,d,p),l=sO(v,sR([u]),l)}return l}(ou(r8(oc(o),"int32"),rI([]),256),p)),r8(na(a?oh(o,d):iV(o,d),255),"int32")}}),of=rN({transform_:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a="nearest",r="constant",n=0,i){let s=rw(e,"image","transform","float32"),o=rw(t,"transforms","transform","float32");return S(4===s.rank,()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`),S(2===o.rank&&(o.shape[0]===s.shape[0]||1===o.shape[0])&&8===o.shape[1],()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),S(null==i||2===i.length,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`),rc.runKernel(ag,{image:s,transforms:o},{interpolation:a,fillMode:r,fillValue:n,outputShape:i})}}),og=rN({less_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","less","string_or_numeric"),r=rw(t,"b","less","string_or_numeric");[a,r]=rs(a,r),nk(a.shape,r.shape);let n={a:a,b:r};return rc.runKernel(ts,n)}}),ov=rN({norm_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t="euclidean",a=null,r=!1){let n=function e(t,a,r=null){if(0===t.rank)return nw(t);if(1!==t.rank&&null===r)return e(il(t,[-1]),a,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===a)return iH(nw(t),r);if(a===1/0)return iG(nw(t),r);if(a===-1/0)return i7(nw(t),r);if("euclidean"===a||2===a)return nr(iH(nv(nw(t),no(2,"int32")),r));throw Error(`Error in norm: invalid ord value: ${a}`)}if(Array.isArray(r)&&2===r.length){if(1===a)return iG(iH(nw(t),r[0]),r[1]-1);if(a===1/0)return iG(iH(nw(t),r[1]),r[0]);if(a===-1/0)return i7(iH(nw(t),r[1]),r[0]);if("fro"===a||"euclidean"===a)return nr(iH(nn(t),r));throw Error(`Error in norm: invalid ord value: ${a}`)}throw Error(`Error in norm: invalid axis: ${r}`)}(e=rw(e,"x","norm"),t,a),i=n.shape;if(r){let t=L(a,e.shape);i=iZ(n.shape,t)}return il(n,i)}});function ob(e,t=!1){return rc.tidy(()=>{S(2===e.shape.length,()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`);let a=e.shape[0],r=e.shape[1],n=iM(a),i=r9(e),s=sL([[1]],[1,1]),o=r9(s),l=a>=r?r:a;for(let e=0;e<l;++e){let t=i,l=o,p=n;[o,i,n]=rc.tidy(()=>{let t=sx(i,[e,e],[a-e,1]),l=ov(t),p=sx(i,[e,e],[1,1]),d=sO(iV(p,0),sL([[-1]]),sL([[1]])),u=nb(p,na(d,l)),h=nt(t,u);o=1===h.shape[0]?r9(s):ib([s,sx(h,[1,0],[h.shape[0]-1,h.shape[1]])],0);let c=sa(nt(i3(d,u),l)),m=sx(i,[e,0],[a-e,r]),f=na(c,o),g=sB(o);if(0===e)i=nb(m,i3(f,i3(g,m)));else{let t=nb(m,i3(f,i3(g,m)));i=ib([sx(i,[0,0],[e,r]),t],0)}let v=sB(f),b=sx(n,[0,e],[a,n.shape[1]-e]);if(0===e)n=nb(b,i3(i3(b,o),v));else{let t=nb(b,i3(i3(b,o),v));n=ib([sx(n,[0,0],[a,e]),t],1)}return[o,i,n]}),r_([t,l,p])}return!t&&a>r&&(n=sx(n,[0,0],[a,r]),i=sx(i,[0,0],[r,r])),[n,i]})}let oy=rN({qr_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=!1){if(S(e.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`),2===e.rank)return ob(e,t);{let a=e.shape.slice(0,e.shape.length-2).reduce((e,t)=>e*t),r=sF(il(e,[a,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),n=[],i=[];return r.forEach(e=>{let[a,r]=ob(e,t);n.push(a),i.push(r)}),[il(sE(n,0),e.shape),il(sE(i,0),e.shape)]}}});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(N1||(N1={}));let ow=rN({squaredDifference_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","squaredDifference"),r=rw(t,"b","squaredDifference");[a,r]=rs(a,r),nk(a.shape,r.shape);let n={a:a,b:r};return rc.runKernel(as,n,{})}}),ox={flipLeftRight:s5,grayscaleToRGB:s4,resizeNearestNeighbor:od,resizeBilinear:op,rgbToGrayscale:s6,rotateWithOffset:s8,cropAndResize:s0,nonMaxSuppression:s7,nonMaxSuppressionAsync:on,nonMaxSuppressionWithScore:oi,nonMaxSuppressionWithScoreAsync:os,nonMaxSuppressionPadded:oo,nonMaxSuppressionPaddedAsync:ol,threshold:om,transform:of},oN={qr:oy};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ok{static sgd(e){return new nC(e)}static momentum(e,t,a=!1){return new nT(e,t,a)}static rmsprop(e,t=.9,a=0,r=null,n=!1){return new nA(e,t,a,r,n)}static adam(e=.001,t=.9,a=.999,r=null){return new ny(e,t,a,r)}static adadelta(e=.001,t=.95,a=null){return new nm(e,t,a)}static adamax(e=.002,t=.9,a=.999,r=null,n=0){return new nI(e,t,a,r,n)}static adagrad(e,t=.1){return new ng(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let oS="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function oI(){return new Promise(e=>oS(()=>e()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oC(e,t){let a=e[0].length;e.forEach((e,t)=>{S(e.length===a,()=>`Error in concat${a}D: rank of tensors[${t}] must be the same as the rank of the rest (${a})`)}),S(t>=0&&t<a,()=>`Error in concat${a}D: axis must be between 0 and ${a-1}.`);let r=e[0];e.forEach((e,n)=>{for(let i=0;i<a;i++)S(i===t||e[i]===r[i],()=>`Error in concat${a}D: Shape of tensors[${n}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${n}.`)})}function oT(e,t){let a=e[0].slice();for(let r=1;r<e.length;r++)a[t]+=e[r][t];return a}function oA(e,t,a){let r=[];if(null==a&&null==t)return r;if(null==t)for(;r.length<e+a.length;)r.push(-1);else r=t.slice();if(null==a)return r;if(e+a.length!==r.length)throw Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+a.length}, but shape.rank = ${r.length}`);for(let n=1;n<a.length;++n){let i=a[n],s=r[r.length-a.length+n],o=r[s];if(i>=0){if(o>=0){if(o!==i)throw Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${n+e}] = ${i} but shape[${n+e}] = ${o}`)}else r[s]=i}}return r}function o_(e){let t={FIRST_DIM_SIZE:N2.FIRST_DIM_SIZE,VALUE_ROWIDS:N2.VALUE_ROWIDS,ROW_LENGTHS:N2.ROW_LENGTHS,ROW_SPLITS:N2.ROW_SPLITS,ROW_LIMITS:N2.ROW_LIMITS,ROW_STARTS:N2.ROW_STARTS},a=[];for(let r of e)if(r in t)a.push(t[r]);else break;return a}function oE(e){return 0===e.length?0:e[0]===N2.FIRST_DIM_SIZE?e.length-1:e.length}function o$(e,t){if(null==e||null==t)return;let a=e.length,r=t.length;if(a>=r)throw Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${a} must be less than ragged tensor input flatValues.rank = ${r})`);for(let n=0;n<Math.min(a,r-1);++n){let a=e[n],r=t[n+1];if(a>=0&&r>=0&&1!==a&&a!==r)throw Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${n-e.length}] = ${a} but ragged tensor input.flatValues.shape[${n-e.length}] = ${r}`)}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(N2||(N2={}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let oR=30;function oL(e){return e<=oR?e:U(e,Math.floor(Math.sqrt(e)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oD(e,t,a){return[a*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oF(e,t,a,r=!0){let n=[];if(r)(n=n.concat(t.slice(0))).push(e[0]/a),n=n.concat(e.slice(1));else{n=n.concat(e[0]);let a=t.length;for(let r=0;r<a;++r)n=n.concat([e[r+1]/t[r],t[r]]);n=n.concat(e.slice(a+1))}return n}function oO(e,t,a=!0){let r=[];if(a){r.push(t);for(let a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{let a=[],n=[];for(let r=1;r<e;++r)r>=2*t+1||r%2==1?n.push(r):a.push(r);r.push(...a),r.push(0),r.push(...n)}return r}function oP(e,t,a,r=!0){let n=[];r?n.push(e[0]/a):n.push(e[0]*a);for(let a=1;a<e.length;++a)a<=t.length?r?n.push(t[a-1]*e[a]):n.push(e[a]/t[a-1]):n.push(e[a]);return n}function oM(e,t){let a=[0];for(let r=0;r<t;++r)a.push(e[r][0]);return a}function oB(e,t,a){let r=e.slice(0,1);for(let n=0;n<a;++n)r.push(e[n+1]-t[n][0]-t[n][1]);return r}function oz(e,t){let a=e.shape.length,r=t.shape.length;if(a<1)throw Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${a}.`);if(r<1)throw Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>a)throw Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${a}`);if(0===T(e.shape))throw Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);let n=t.shape,i=n[n.length-1],s=1;for(let e=0;e<n.length-1;++e)s*=n[e];let o=e.shape,l=n.slice();l.pop();let p=1;for(let e=i;e<a;++e)p*=o[e],l.push(o[e]);let d=[...j(e.shape).map(e=>e/p),1].slice(0,i);return[l,s,p,d]}function oV(e,t,a){let r=t.rank>1?t.shape[t.rank-1]:1,n=t.rank>1?t.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${a.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${n}.`;if(a.rank<n)throw Error(i+` update.rank < ${n}. `);if(e.length<r+(a.rank-n))throw Error(i+` Output shape length < ${r+(a.rank-n)}`);if(a.rank!==n+e.length-r)throw Error(i+` update.rank != ${n+e.length-r}`);for(let e=0;e<n;++e)if(a.shape[e]!==t.shape[e])throw Error(i+` updates.shape[${e}] (${a.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<a.rank-n;++t)if(a.shape[t+n]!==e[t+r])throw Error(i+` updates.shape[${t+n}] (${a.shape[t+n]}) != shape[${t+n}] (${e[t+n]})`)}function oU(e,t,a){if(t.rank<1)throw Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(a.length<1)throw Error(`Output rank must be greater or equal to 1, but got shape: ${a}`);if(0===a.length){if(0===t.size)throw Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw Error(`Updates specified for empty output. updates shape: ${e.shape}`)}oV(a,t,e)}function oj(e,t,a){let r=t.shape.length,n=r>1?t.shape[r-1]:1,i=a.length,s=1;for(let e=n;e<i;++e)s*=a[e];let o=n<1?1:n,l=T(t.shape)/o,p=[...j(a.slice(0,n)),1];return{sliceRank:n,numUpdates:l,sliceSize:s,strides:p,outputSize:T(a)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let oW=1.7580993408473768,oq=1.0507009873554805,oG=.3275911,oH=.254829592,oK=-.284496736,oX=1.421413741,oY=-1.453152027,oJ=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oZ(e,t){if(e.length!==t.length)throw Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);let a=new Float32Array(2*e.length);for(let r=0;r<a.length;r+=2)a[r]=e[r/2],a[r+1]=t[r/2];return a}function oQ(e){let t=new Float32Array(e.length/2),a=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],a[r/2]=e[r+1];return{real:t,imag:a}}function o1(e){let t=Math.ceil(e.length/4),a=new Float32Array(t),r=new Float32Array(t);for(let t=0;t<e.length;t+=4)a[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:a,imag:r}}function o2(e){let t=Math.floor(e.length/4),a=new Float32Array(t),r=new Float32Array(t);for(let t=2;t<e.length;t+=4)a[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:a,imag:r}}function o0(e,t){return{real:e[2*t],imag:e[2*t+1]}}function o5(e,t,a,r){e[2*r]=t,e[2*r+1]=a}function o4(e,t){let a=new Float32Array(e/2),r=new Float32Array(e/2);for(let n=0;n<Math.ceil(e/2);n++){let i=(t?2:-2)*Math.PI*(n/e);a[n]=Math.cos(i),r[n]=Math.sin(i)}return{real:a,imag:r}}function o3(e,t,a){let r=(a?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}let o6=/->/g;function o8(e,t){let a=((e=e.replace(/\s/g,"")).length-e.replace(o6,"").length)/2;if(a<1)throw Error("Equations without an arrow are not supported.");if(a>1)throw Error('Equation must contain exactly one arrow ("->").');let[r,n]=e.split("->");S(-1===r.indexOf("..."),()=>'The ellipsis notation ("...") is not supported yet.');let i=r.split(","),s=i.length;if(t!==s)throw Error(`Expected ${s} input tensors, received ${t}`);if(s>2)throw Error("Support for more than 2 input tensors is not implemented yet.");let o=[];for(let e=0;e<n.length;++e){let t=n[e];if(!i.some(e=>-1!==e.indexOf(t)))throw Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===o.indexOf(t)&&o.push(t)}for(let e=0;e<r.length;++e){let t=r[e];-1===o.indexOf(t)&&","!==t&&o.push(t)}let l=Array(i.length);for(let e=0;e<s;++e){if(new Set(i[e].split("")).size!==i[e].length)throw Error(`Found duplicate axes in input component ${i[e]}. Support for duplicate axes in input is not implemented yet.`);l[e]=[];for(let t=0;t<i[e].length;++t)l[e].push(o.indexOf(i[e][t]))}let p=o.length,d=n.length,u=[];for(let e=d;e<p;++e)u.push(e);return{allDims:o,summedDims:u,idDims:l}}function o9(e,t){let a=Array(e);a.fill(-1);for(let e=0;e<t.length;++e)a[t[e]]=e;let r=[];for(let t=0;t<e;++t)-1===a[t]&&r.push(t);return{permutationIndices:a=a.filter(e=>-1!==e),expandDims:r}}function o7(e,t,a){let r=Array(e);for(let e=0;e<a.length;++e){let n=a[e].shape;for(let a=0;a<t[e].length;++a)void 0===r[t[e][a]]?r[t[e][a]]=n[a]:S(r[t[e][a]]===n[a],()=>`Expected dimension ${r[t[e][a]]} at axis ${a} of input shaped ${JSON.stringify(n)}, but got dimension ${n[a]}`)}}function le(e,t){let a=[],r=0;0===e.length&&e.push(-1),r=e.length+1;for(let e=0;e<r;++e)a.push([]);let n=[];for(let r=0;r<e.length;++r)for(let i of function(e,t){let a=[];for(let r=0;r<e.length;++r)(0===e[r].length||-1!==e[r].indexOf(t)||-1===t)&&a.push(r);return a}(t,e[r]))-1===n.indexOf(i)&&(a[r].push(i),n.push(i));return{path:e,steps:a}}function lt(e){return e.every((e,t)=>e===t)}function la(e,t,a=0){let r=[];if("number"==typeof t)S(e.shape[a]%t==0,()=>"Number of splits must evenly divide the axis."),r=Array(t).fill(e.shape[a]/t);else{S(1>=t.reduce((e,t)=>(-1===t&&(e+=1),e),0),()=>"There should be only one negative value in split array.");let n=t.indexOf(-1);if(-1!==n){let r=t.reduce((e,t)=>t>0?e+t:e);t[n]=e.shape[a]-r}S(e.shape[a]===t.reduce((e,t)=>e+t),()=>"The sum of sizes must match the size of the axis dimension."),r=t}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lr(e){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${e}`}function ln(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function li(e,t,a){return`indices(${e}, 0) is invalid: ${t} >= ${a}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ls(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function lo(e,t){return`size ${e} must be non-negative, not ${t}`}function ll(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function lp(e,t){let a=T(e),r=T(t);return`Input to reshape is a SparseTensor with ${a}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${e} outputShape= ${t}`}function ld(e,t){let a=T(e),r=T(t);return`Input to reshape is a tensor with ${a} dense values, but the requested shape has ${r}. inputShape=${e} outputShape=${t}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lu(){return"segment ids must be >= 0"}function lh(){return"segment ids are not increasing"}function lc(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function lm(e,t,a){return`Bad: indices[${e}] == ${t} out of range [0, ${a})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lf(e,t){let a,r=!1;for(e<=oR?(a=e,r=!0):a=U(e,Math.floor(Math.sqrt(e)));!r;)a>t||a===e?r=!0:a=U(e,a+1);return a}function lg(e,t,a){let r=[],n=e.length;for(let i=0;i<n;i++)i!==t?r.push(e[i]):r.push(a);return r}function lv(e,t,a,r){let n=t.shape.length,i=e.shape.length;if(0!==r&&(r<-n||r>n))throw Error(`Expect batchDims in the range of [-${n}, ${n}], but got ${r}`);if(r<0&&(r+=n),r>i)throw Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(a<r)throw Error(`batchDims (${r}) must be less than or equal to axis (${a}).`);for(let a=0;a<r;++a)if(e.shape[a]!==t.shape[a])throw Error(`x.shape[${a}]: ${e.shape[a]} should be equal to indices.shape[${a}]: ${t.shape[a]}.`);let s=e.shape[a],o=[],l=1,p=1,d=1;for(let t=0;t<r;++t)o.push(e.shape[t]),l*=e.shape[t];for(let t=r;t<a;t++)o.push(e.shape[t]),p*=e.shape[t];for(let e=r;e<n;e++)o.push(t.shape[e]);for(let t=a+1;t<i;t++)o.push(e.shape[t]),d*=e.shape[t];return{batchSize:l,sliceSize:d,outerSize:p,dimSize:s,outputShape:o}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lb(e){try{return e.map(e=>aJ(e))}catch(e){throw Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function ly(e){return e.map(e=>aY(e))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lw(e,t){let a=[];for(let e=0;e<t.length;e++)t[e]&&a.push(e);let r=r6(e,"int32"),n=r6([a.length,e.length],"int32");for(let t=0;t<a.length;t++){let i=r.indexToLoc(a[t]),s=t*e.length;n.values.set(i,s)}return n.toTensor()}!/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(){for(let e of n_)nh(e)}();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let lx={kernelName:"Abs",inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(e,sH(r8(a,"float32"),-1))}}},lN=rN({avgPool3dGrad_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n,i){let s=rw(e,"dy","avgPool3dGrad"),o=rw(t,"input","avgPool3dGrad"),l=s,p=o,d=!1;4===o.rank&&(d=!0,l=il(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),p=il(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),S(5===l.rank,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),S(5===p.rank,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${p.rank}.`),io("avgPool3dGrad",n,i);let u={dy:l,input:p},h=rc.runKernel(ev,u,{filterSize:a,strides:r,pad:n,dimRoundingMode:i});return d?il(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),lk=rN({avgPoolGrad_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n){let i=rw(e,"dy","avgPoolGrad"),s=rw(t,"input","avgPoolGrad");S(s.rank===i.rank,()=>`Rank of input (${s.rank}) does not match rank of dy (${i.rank})`);let o=s,l=i,p=!1;3===s.rank&&(p=!0,o=il(s,[1,s.shape[0],s.shape[1],s.shape[2]]),l=il(i,[1,i.shape[0],i.shape[1],i.shape[2]])),S(4===l.rank,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),S(4===o.rank,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`);let d={dy:l,input:o},u=rc.runKernel(ef,d,{filterSize:a,strides:r,pad:n});return p?il(u,[u.shape[1],u.shape[2],u.shape[3]]):u}}),lS=rN({spaceToBatchND_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(e,"x","spaceToBatchND");return S(r.rank>=1+t.length,()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`),S(a.length===t.length,()=>`paddings.shape[0] ${a.length} must be equal to [blockShape] ${t.length}`),S(r.shape.reduce((e,r,n)=>n>0&&n<=t.length?e&&(r+a[n-1][0]+a[n-1][1])%t[n-1]==0:e,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${a.toString()} must be divisible by blockShapes ${t.toString()}`),rc.runKernel(t9,{x:r},{blockShape:t,paddings:a})}}),lI={kernelName:eT,inputsToSave:["x"],gradFunc:lx.gradFunc},lC=rN({conv3DBackpropFilter_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n){let i=e;4===e.rank&&(i=il(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let s=t;4===s.rank&&(s=il(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),S(5===i.rank,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),S(5===s.rank,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${s.shape}.`),S(5===a.length,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${a}.`),S(i.shape[4]===a[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${a[3]}.`),S(s.shape[4]===a[4],()=>`Error in conv3dDerFilter: depth of dy (${s.shape[4]}) must match output depth for filter (${a[4]}).`);let o={x:i,dy:s};return rc.runKernel(eL,o,{strides:r,pad:n,filterShape:a})}}),lT=rN({sin_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","sin","float32");return rc.runKernel("Sin",{x:t})}}),lA=rN({sinh_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","sinh");return rc.runKernel(t5,{x:t})}}),l_=rN({cumsum_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0,a=!1,r=!1){let n=rw(e,"x","cumsum");return rc.runKernel(eP,{x:n},{axis:t,exclusive:a,reverse:r})}}),lE=rN({rsqrt_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","rsqrt","float32");return rc.runKernel(tY,{x:t})}}),l$=rN({unsortedSegmentSum_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(e,"x","unsortedSegmentSum"),n=rw(t,"segmentIds","unsortedSegmentSum","int32");return S(a%1==0,()=>"numSegments must be of dtype int"),rc.runKernel(aw,{x:r,segmentIds:n},{numSegments:a})}});function lR(e,t){let a=[];for(let r=e;r<t;++r)a.push(r);return a}function lL(e){let t=[];for(let a=0;a<e.length;++a)for(let r=0;r<e[a].length;++r)t.push(e[a][r]);return t}let lD=rN({localResponseNormalizationBackprop_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r=5,n=1,i=1,s=.5){return rc.runKernel(tc,{x:e,y:t,dy:a},{depthRadius:r,bias:n,alpha:i,beta:s})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lF(e,t,a,r){return t.rank<a.rank&&(t=il(t,iZ(t.shape,r))),e.rank<a.rank&&(e=il(e,iZ(e.shape,r))),{x:()=>na(e,r8(iL(a,t),e.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let lO={kernelName:"Max",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,a)=>{let{reductionIndices:r}=a,n=t[0],i=t[1],s=L(r,n.shape),o=lF(e,i,n,s);return{x:()=>o.x()}}},lP=rN({maxPool3dGrad_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n,i,s){let o=rw(e,"dy","maxPool3dGrad"),l=rw(t,"input","maxPool3dGrad"),p=rw(a,"output","maxPool3dGrad"),d=o,u=l,h=p,c=!1;4===l.rank&&(c=!0,d=il(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),u=il(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),h=il(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),S(5===d.rank,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${d.rank}.`),S(5===u.rank,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),S(5===h.rank,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${h.rank}.`),io("maxPool3dGrad",i,s);let m={dy:d,input:u,output:h},f=rc.runKernel(tb,m,{filterSize:r,strides:n,pad:i,dimRoundingMode:s});return c?il(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}}),lM=rN({maxPoolGrad_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n,i,s){let o=rw(e,"dy","maxPoolGrad"),l=rw(t,"input","maxPoolGrad"),p=rw(a,"output","maxPoolGrad");return S(l.rank===o.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`),S(4===o.rank,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`),S(4===l.rank,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),io("maxPoolGrad",i,s),rc.runKernel(tg,{dy:o,input:l,output:p},{filterSize:r,strides:n,pad:i,dimRoundingMode:s})}}),lB={kernelName:tR,inputsToSave:["x"],gradFunc:(e,t,a)=>{let r=t[0],{paddings:n}=a,i=n.map(e=>e[0]);return{x:()=>sx(e,i,r.shape)}}},lz=rN({cumprod_:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0,a=!1,r=!1){let n=rw(e,"x","cumprod");return rc.runKernel(eO,{x:n},{axis:t,exclusive:a,reverse:r})}}),lV=rN({logicalNot_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","logicalNot","bool");return rc.runKernel(tu,{x:t})}}),lU=rN({cos_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","cos","float32");return rc.runKernel("Cos",{x:t})}}),lj=rN({cosh_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","cosh","float32");return rc.runKernel(eF,{x:t})}}),lW=rN({batchToSpaceND_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=rw(e,"x","batchToSpaceND"),n=t.reduce((e,t)=>e*t);return S(r.rank>=1+t.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`),S(a.length===t.length,()=>`crops.length is ${a.length} but should be equal to blockShape.length  ${t.length}`),S(r.shape[0]%n==0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${n}`),rc.runKernel(ey,{x:r},{blockShape:t,crops:a})}}),lq={kernelName:t9,gradFunc:(e,t,a)=>{let{blockShape:r,paddings:n}=a;return{x:()=>lW(e,r,n)}}},lG={kernelName:t7,gradFunc:(e,t,a)=>{let{axis:r}=a;return{x:()=>ib(e,r)}}};for(let e of[lx,{kernelName:en,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>{let t=nn(r8(a,"float32"));return sa(nt(e,nr(nb(no(1),t))))}}}},{kernelName:ei,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>nt(e,nr(nb(nn(r8(a,"float32")),1)))}}},{kernelName:"Add",inputsToSave:["a","b"],gradFunc:(e,t)=>{let[a,r]=t,n=nk(a.shape,r.shape);return{a:()=>{let t=e,r=nN(a.shape,n);return r.length>0&&(t=iH(t,r)),il(t,a.shape)},b:()=>{let t=e,a=nN(r.shape,n);return a.length>0&&(t=iH(t,a)),il(t,r.shape)}}}},{kernelName:es,saveAllInputs:!0,gradFunc:(e,t)=>{let a={};return t.forEach((t,r)=>{a[r]=()=>e.clone()}),a}},{kernelName:eo,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>ni(a)}}},{kernelName:el,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>ni(a)}}},{kernelName:ep,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>nt(e,nr(nb(no(1),nn(r8(a,"float32")))))}}},{kernelName:ed,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>nt(e,nr(r7(no(1),nn(r8(a,"float32")))))}}},{kernelName:ec,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[a,r]=t,n=nk(a.shape,r.shape);return{a:()=>{let t=r7(nn(a),nn(r)),i=na(e,nt(r,t)),s=nN(a.shape,n);return s.length>0&&(i=iH(i,s)),il(i,a.shape)},b:()=>{let t=r7(nn(a),nn(r)),i=sa(na(e,nt(a,t))),s=nN(r.shape,n);return s.length>0&&(i=iH(i,s)),il(i,r.shape)}}}},{kernelName:eu,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>nt(e,r7(nn(r8(a,"float32")),1))}}},{kernelName:eh,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>nt(e,nb(no(1),nn(r8(a,"float32"))))}}},{kernelName:eg,inputsToSave:["x"],gradFunc:(e,t,a)=>{let[r]=t,{filterSize:n,strides:i,pad:s,dimRoundingMode:o}=a;return{x:()=>lN(e,r,n,i,s,o)}}},{kernelName:em,inputsToSave:["x"],gradFunc:(e,t,a)=>{let[r]=t,{filterSize:n,strides:i,pad:s}=a;return{x:()=>lk(e,r,n,i,s)}}},{kernelName:eb,inputsToSave:["a","b"],gradFunc:(e,t,a)=>{let[r,n]=t,{transposeA:i,transposeB:s}=a;return i||s?!i&&s?{a:()=>i3(e,n,!1,!1),b:()=>i3(e,r,!0,!1)}:i&&!s?{a:()=>i3(n,e,!1,!0),b:()=>i3(r,e,!1,!1)}:{a:()=>i3(n,e,!0,!0),b:()=>i3(e,r,!0,!0)}:{a:()=>i3(e,n,!1,!0),b:()=>i3(r,e,!0,!1)}}},{kernelName:ey,gradFunc:(e,t,a)=>{let{blockShape:r,crops:n}=a;return{x:()=>lS(e,r,n)}}},{kernelName:"BroadcastTo",gradFunc:(e,t,a)=>{let r=a.inputShape,n=a.shape,i=Array.from(n);for(let e=r.length-1;e>=0;e--)if(r[e]===n[e])i[e]=1;else if(1!==r[e])throw Error(`broadcastTo(): [${r}] cannot be broadcast to [${n}].`);let s=[];for(let e=0;e<i.length;e++)i[e]>1&&s.push(e);return{x:()=>iH(e,s,!0)}}},{kernelName:ek,gradFunc:e=>({x:()=>e.clone()})},{kernelName:eS,gradFunc:e=>({x:()=>ni(e)})},{kernelName:eI,inputsToSave:["x"],gradFunc:(e,t,a)=>{let[r]=t,{clipValueMin:n,clipValueMax:i}=a;return{x:()=>sO(i4(iU(r,n),oh(r,i)),e,ni(e))}}},lI,{kernelName:eA,saveAllInputs:!0,gradFunc:(e,t,a)=>{let r=t.map(e=>e.shape),{axis:n}=a,i=L(n,t[0].shape)[0];return sA(e,r.map(e=>e[i]),i).map(e=>()=>e)}},{kernelName:e$,inputsToSave:["dy","filter"],gradFunc:(e,t,a)=>{let[r,n]=t,{strides:i,pad:s,dataFormat:o,dimRoundingMode:l}=a;return{dy:()=>ik(e,n,i,s,o,1,l),filter:()=>sq(e,r,n.shape,i,s,o,l)}}},{kernelName:e_,inputsToSave:["x","filter"],gradFunc:(e,t,a)=>{let[r,n]=t,{dilations:i,strides:s,pad:o,dataFormat:l}=a;return S(ia(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>iI(r.shape,e,n,s,o,l),filter:()=>sq(r,e,n.shape,s,o,l)}}},{kernelName:eR,inputsToSave:["x","filter"],gradFunc:(e,t,a)=>{let{dilations:r,strides:n,pad:i}=a;S(ia(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);let[s,o]=t;return{x:()=>iA(s.shape,e,o,n,i),filter:()=>lC(s,e,o.shape,n,i)}}},{kernelName:"Cos",inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(sa(lT(r8(a,"float32"))),e)}}},{kernelName:eF,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(lA(r8(a,"float32")),e)}}},{kernelName:eP,inputsToSave:["x"],gradFunc:(e,t,a)=>{let[r]=t,{axis:n,exclusive:i,reverse:s}=a;return{x:()=>{let t=i1([n],r.rank),a=l_(e,n,i,!s);return null!=t&&(a=sB(a,t)),a}}}},{kernelName:eV,inputsToSave:["x","filter"],gradFunc:(e,t,a)=>{let{dilations:r,strides:n,pad:i,dimRoundingMode:s}=a,o=null==r?[1,1]:r;S(ia(o),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);let[l,p]=t;return S(4===l.rank,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),S(4===p.rank,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${p.rank}.`),S(l.shape[3]===p.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`),S(ir(n,o),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${n} and dilations '${o}'.`),io("depthwiseConv2d",i,s),{x:()=>s1(l.shape,e,p,n,i,o,s),filter:()=>sQ(l,e,p.shape,n,i,o,s)}}},{kernelName:eq,inputsToSave:["x","filter"],gradFunc:(e,t,a)=>{let[r,n]=t,i={x:r,filter:n,dy:e},s={x:r,filter:n,dy:e};return{x:()=>rc.runKernel(eG,i,a),filter:()=>rc.runKernel(eH,s,a)}}},{kernelName:eK,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[a,r]=t,n=nk(a.shape,r.shape);return{a:()=>{let t=nt(e,r8(r,"float32")),i=nN(a.shape,n);return i.length>0?il(iH(t,i),a.shape):t},b:()=>{let t=na(e,r8(a,"float32")),i=nN(r.shape,n);return i.length>0&&(t=il(iH(t,i),r.shape)),sa(nt(t,r8(nn(r),"float32")))}}}},{kernelName:"Elu",outputsToSave:[!0],gradFunc:(e,t)=>{let[a]=t,r={dy:e,y:a};return{x:()=>rc.runKernel(eY,r)}}},{kernelName:"Erf",inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t,r=na(iF(sa(nn(a))),2/Math.sqrt(Math.PI));return{x:()=>na(e,r)}}},{kernelName:"Exp",outputsToSave:[!0],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(e,a)}}},{kernelName:eZ,inputsToSave:["input"],gradFunc:(e,t)=>{let[a]=t;return{input:()=>il(e,a.shape)}}},{kernelName:eQ,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(e,iF(a))}}},{kernelName:e5,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[a,r]=t,n=nk(a.shape,r.shape);return{a:()=>{let t=nt(e,r8(r,"float32")),i=nN(a.shape,n);return i.length>0?il(iH(t,i),a.shape):t},b:()=>{let t=na(e,r8(a,"float32")),i=nN(r.shape,n);return i.length>0&&(t=il(iH(t,i),r.shape)),sa(nt(t,r8(nn(r),"float32")))}}}},{kernelName:e0,gradFunc:e=>({x:()=>ni(e)})},{kernelName:e4,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,a)=>{let{varianceEpsilon:r}=a,[n,i,s,o]=t,l=null==o?no(1):o,p=nN(i.shape,n.shape),d=[];if(1===i.rank){for(let e=0;e<n.shape.length-1;++e)d.push(n.shape[e]);d.push(1)}let u=nb(n,i),h=na(e,l),c=lE(r7(s,no(r))),m=na(na(na(c,c),c),no(-.5));return{x:()=>1===i.rank?il(na(na(e,iP(il(c,[1,1,1,i.shape[0]]),d)),l),n.shape):il(na(na(e,c),l),n.shape),mean:()=>{let e=na(na(c,no(-1)),h);return 1===i.rank&&(e=iH(e,p)),il(e,i.shape)},variance:()=>{let e=na(na(m,u),h);return 1===i.rank&&(e=iH(e,p)),il(e,i.shape)},scale:()=>{let t=na(u,c),a=na(e,t);return 1===i.rank&&(a=iH(a,p)),il(a,i.shape)},offset:()=>{let t=e;return 1===i.rank&&(t=iH(t,p)),il(t,i.shape)}}}},{kernelName:e3,inputsToSave:["x","indices"],gradFunc:(e,t,a)=>{let[r,n]=t,{axis:i,batchDims:s}=a,o=L(i,r.shape)[0],l=(e,t,a)=>()=>{let r=e.shape,n=t.size,s=r.slice(0,o),l=s.length,p=r.slice(i,r.length).slice(1),d=p.length,u=lR(0,l),h=lR(l+1,l+1+d),c=il(a,lL([s,[n],p])),m=il(t,[n]),f=lL([[l],u,h]),g=l$(sB(c,f),m,e.shape[o]);return sB(g,i2(f))};if(1!==s)return{x:l(r,n,e),indices:()=>n};{let t=r.shape[0],a=r.split(t,0);return{x:()=>sE(a.map((t,a)=>l(t,n.slice(a,1),e.slice(a,1))())).reshape(r.shape),indices:()=>n}}}},{kernelName:e9,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[a,r]=t;return{a:()=>ni(a),b:()=>ni(r)}}},{kernelName:e7,gradFunc:e=>({x:()=>r8(e,"float32")})},{kernelName:ta,gradFunc:e=>({x:()=>ni(e)})},{kernelName:tr,gradFunc:e=>({x:()=>ni(e)})},{kernelName:tn,gradFunc:e=>({x:()=>ni(e)})},{kernelName:ti,inputsToSave:["x"],gradFunc:(e,t,a)=>{let[r]=t,{alpha:n}=a,i=iV(r,0);return{x:()=>sO(i,e,na(e,n))}}},{kernelName:tp,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>nt(e,r7(a,1))}}},{kernelName:"Log",inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>nt(e,r8(a,"float32"))}}},{kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,a)=>{let[r]=t,{axis:n}=a;return{logits:()=>{let t=iF(r);return nb(e,na(iH(e,n,!0),t))}}}},{kernelName:"LRN",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,a)=>{let[r,n]=t,{depthRadius:i,bias:s,alpha:o,beta:l}=a;return{x:()=>lD(r,n,e,i,s,o,l)}}},lO,lO,{kernelName:tm,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[a,r]=t;return{a:()=>na(e,r8(iU(a,r),"float32")),b:()=>na(e,r8(og(a,r),"float32"))}}},{kernelName:tv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,a)=>{let[r,n]=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=a;return{x:()=>lP(e,r,n,i,s,o,l)}}},{kernelName:tf,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,a)=>{let[r,n]=t,{filterSize:i,strides:s,pad:o}=a;return{x:()=>lM(e,r,n,i,s,o)}}},{kernelName:tw,inputsToSave:["x"],gradFunc:(e,t,a)=>{let[r]=t,{axis:n}=a,i=L(n,r.shape),s=T(iJ(r.shape,i)[1]);return{x:()=>{let t=r.shape.slice();return i.forEach(e=>{t[e]=1}),nt(na(il(e,t),ss(r.shape,"float32")),s)}}}},{kernelName:"Min",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,a)=>{let{axis:r}=a,[n,i]=t,s=L(r,n.shape),o=lF(e,i,n,s);return{x:()=>o.x()}}},{kernelName:tx,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[a,r]=t;return{a:()=>na(e,r8(oh(a,r),"float32")),b:()=>na(e,r8(iV(a,r),"float32"))}}},{kernelName:tN,inputsToSave:["x"],gradFunc:(e,t,a)=>{let r=t[0],{paddings:n}=a,i=n.map(e=>e[0]);return{x:()=>sx(e,i,r.shape)}}},{kernelName:"Mod",inputsToSave:["a","b"],gradFunc:(e,t)=>{let[a,r]=t,n=nk(a.shape,r.shape);return{a:()=>{let t=nN(a.shape,n);return t.length>0?il(iH(e,t),a.shape):e},b:()=>{let t=na(e,sa(iB(nt(a,r)))),i=nN(r.shape,n);return i.length>0?il(iH(t,i),r.shape):t}}}},{kernelName:tS,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[a,r]=t,n=nk(a.shape,r.shape);return{a:()=>{let t=na(e,r8(r,"float32")),i=nN(a.shape,n);return i.length>0?il(iH(t,i),a.shape):t},b:()=>{let t=na(e,r8(a,"float32")),i=nN(r.shape,n);return i.length>0?il(iH(t,i),r.shape):t}}}},{kernelName:"Neg",gradFunc:e=>({x:()=>sa(e)})},{kernelName:tE,inputsToSave:["indices"],gradFunc:(e,t)=>{let a=t[0];return{indices:()=>si(a.shape,"float32")}}},{kernelName:t_,gradFunc:e=>({x:()=>ni(e)})},{kernelName:t$,saveAllInputs:!0,gradFunc:(e,t,a)=>{let{axis:r}=a;return sF(e,r).map(e=>()=>e)}},lB,lB,{kernelName:"Pow",inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{let[a,r,n]=t,i=nk(a.shape,r.shape);return{a:()=>{let t=r8(r,"float32"),n=na(e,na(t,nv(a,nb(t,no(1))))),s=nN(a.shape,i);return s.length>0&&(n=iH(n,s)),il(n,a.shape)},b:()=>{let t=na(e,na(n,sO(iV(a,0),iW(a),ni(a)))),s=nN(r.shape,i);return s.length>0&&(t=iH(t,s)),il(t,r.shape)}}}},{kernelName:tL,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{let[a,r]=t,n=iV(a,0);return{x:()=>sO(n,e,na(e,r)),alpha:()=>{let t=sO(n,ni(e),na(e,a)),i=nN(r.shape,e.shape);return i.length>0&&(t=iH(t,i)),il(t,r.shape)}}}},{kernelName:tD,inputsToSave:["x"],gradFunc:(e,t,a)=>{let[r]=t,{axis:n}=a,i=[];return i=null==n?r.shape.map((e,t)=>t):"number"==typeof n?[n]:n,{x:()=>(function(e,t,a){let r=e.shape.length,n=r-a.length,i=i1(a,r),s=e;null!=i&&(s=sB(e,i));let o=s.shape.slice(),l=o.splice(r-a.length,a.length).reduce((e,t)=>e*t,1);o.push(l);let p=/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=e.shape.slice();r[a]=1;let n=il(t,r),i=na(lz(e,a,!0,!1),lz(e,a,!0,!0));return na(n,i)}(s.reshape(o),t,n);return p=p.reshape(s.shape),null!=i&&(p=sB(p,i2(i))),p})(r,e,i)}}},{kernelName:tz,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>nt(e,sa(nn(a)))}}},{kernelName:tH,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t,r=na(oh(a,6),sH(a));return{x:()=>na(e,r8(r,"float32"))}}},{kernelName:tV,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(e,r8(sH(a),"float32"))}}},{kernelName:tU,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>il(e,a.shape)}}},{kernelName:tq,inputsToSave:["images"],gradFunc:(e,t,a)=>{let[r]=t,n={dy:e,images:r};return{images:()=>rc.runKernel(tG,n,a)}}},{kernelName:tj,inputsToSave:["images"],gradFunc:(e,t,a)=>{let[r]=t,n={dy:e,images:r};return{images:()=>rc.runKernel(tW,n,a)}}},{kernelName:tK,gradFunc:(e,t,a)=>{let{dims:r}=a,n=L(r,e.shape);return{x:()=>sv(e,n)}}},{kernelName:tX,gradFunc:e=>({x:()=>ni(e)})},{kernelName:tY,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>sa(nt(e,na(nv(a,1.5),2)))}}},{kernelName:t1,inputsToSave:["condition"],gradFunc:(e,t)=>{let[a]=t;return{condition:()=>r8(ni(a),"float32"),t:()=>na(e,r8(a,e.dtype)),e:()=>na(e,r8(lV(a),e.dtype))}}},{kernelName:t2,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>{let t=iV(a,no(0)),r=no(oW);return sO(t,na(e,no(oq)),na(na(e,r),iF(r8(a,"float32"))))}}}},{kernelName:t3,outputsToSave:[!0],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(e,na(a,nb(no(1),a)))}}},{kernelName:t4,gradFunc:e=>({x:()=>ni(e)})},{kernelName:"Sin",inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(lU(r8(a,"float32")),e)}}},{kernelName:t5,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(lj(r8(a,"float32")),e)}}},{kernelName:t0,inputsToSave:["x"],gradFunc:(e,t,a)=>{let[r]=t,{begin:n,size:i}=a,s=r.shape,[o,l]=nY(r,n,i),p=[];for(let t=0;t<e.rank;t++)p.push([o[t],s[t]-o[t]-l[t]]);return{x:()=>sl(e,p)}}},{kernelName:ae,outputsToSave:[!0],gradFunc:(e,t,a)=>{let[r]=t,{dim:n}=a,i=na(e,r);return{logits:()=>nb(i,na(iH(i,[n],!0),r))}}},{kernelName:t6,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(e,sw(a))}}},lq,lq,lG,lG,{kernelName:t8,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>nt(e,na(nr(r8(a,"float32")),2))}}},{kernelName:as,inputsToSave:["a","b"],gradFunc:(e,t)=>{let[a,r]=t,n=no(2);return{a:()=>na(e,na(n,nb(a,r))),b:()=>na(e,na(n,nb(r,a)))}}},{kernelName:ao,inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(e,na(r8(a,"float32"),2))}}},{kernelName:aN,gradFunc:e=>({x:()=>ni(e)})},{kernelName:"Sub",inputsToSave:["a","b"],gradFunc:(e,t)=>{let[a,r]=t,n=nk(a.shape,r.shape);return{a:()=>{let t=e,r=nN(a.shape,n);return r.length>0&&(t=iH(t,r)),il(t,a.shape)},b:()=>{let t=e,a=nN(r.shape,n);return a.length>0&&(t=iH(t,a)),il(sa(t),r.shape)}}}},{kernelName:"Sum",inputsToSave:["x"],gradFunc:(e,t,a)=>{let[r]=t,n=r.shape.slice(),{axis:i}=a;L(i,r.shape).forEach(e=>{n[e]=1});let s=na(il(e,n),ss(r.shape,"float32"));return{x:()=>s}}},{kernelName:"Tan",inputsToSave:["x"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>nt(e,nn(lU(a)))}}},{kernelName:ac,outputsToSave:[!0],gradFunc:(e,t)=>{let[a]=t;return{x:()=>na(nb(no(1),nn(a)),e)}}},{kernelName:am,inputsToSave:["x"],gradFunc:(e,t,a)=>{let[r]=t,{reps:n}=a;return{x:()=>{let t=ni(r);if(1===r.rank)for(let a=0;a<n[0];++a)t=r7(t,sx(e,[a*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let a=0;a<n[0];++a)for(let i=0;i<n[1];++i)t=r7(t,sx(e,[a*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let a=0;a<n[0];++a)for(let i=0;i<n[1];++i)for(let s=0;s<n[2];++s)t=r7(t,sx(e,[a*r.shape[0],i*r.shape[1],s*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(4===r.rank)for(let a=0;a<n[0];++a)for(let i=0;i<n[1];++i)for(let s=0;s<n[2];++s)for(let o=0;o<n[3];++o)t=r7(t,sx(e,[a*r.shape[0],i*r.shape[1],s*r.shape[2],o*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return t}}}},{kernelName:av,gradFunc:(e,t,a)=>{let{perm:r}=a,n=i2(r);return{x:()=>sB(e,n)}}},{kernelName:ay,gradFunc:(e,t,a)=>{let{axis:r}=a;return{value:()=>sE(e,r)}}},{kernelName:aw,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{let[a]=t;return{x:()=>(function(e,t){let a=iz(e,nS(t,ni(t))),r=iU(t,no(0,"int32")),n=a.rank-r.rank;for(let e=0;e<n;++e)r=iO(r,e+1);r=i4(r,ss(a.shape,"bool"));let i=ni(a);return sO(r,a,i)})(e,a)}}},{kernelName:ax,gradFunc:e=>({x:()=>ni(e)})}])!function(e){let{kernelName:t}=e;aE.has(t)&&et.getBool("DEBUG")&&aT(`Overriding the gradient for '${t}'`),aE.set(t,e)}(e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.abs=function(){return this.throwIfDisposed(),nw(this)};let lH=rN({acos_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","acos");return rc.runKernel(en,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.acos=function(){return this.throwIfDisposed(),lH(this)};let lK=rN({acosh_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","acosh");return rc.runKernel(ei,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.acosh=function(){return this.throwIfDisposed(),lK(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.add=function(e){return this.throwIfDisposed(),r7(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.all=function(e,t){return this.throwIfDisposed(),nQ(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.any=function(e,t){return this.throwIfDisposed(),n1(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.argMax=function(e){return this.throwIfDisposed(),n2(this,e)};let lX=rN({argMin_:/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0){let a=rw(e,"x","argMin");return rc.runKernel(el,{x:a},{axis:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.argMin=function(e){return this.throwIfDisposed(),lX(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.asScalar=function(){return this.throwIfDisposed(),S(1===this.size,()=>"The array must have only 1 element."),il(this,[])},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.asType=function(e){return this.throwIfDisposed(),r8(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.as1D=function(){return this.throwIfDisposed(),il(this,[this.size])},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.as2D=function(e,t){return this.throwIfDisposed(),il(this,[e,t])},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.as3D=function(e,t,a){return this.throwIfDisposed(),il(this,[e,t,a])},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.as4D=function(e,t,a,r){return this.throwIfDisposed(),il(this,[e,t,a,r])},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.as5D=function(e,t,a,r,n){return this.throwIfDisposed(),il(this,[e,t,a,r,n])};let lY=rN({asin_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","asin");return rc.runKernel(ep,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.asin=function(){return this.throwIfDisposed(),lY(this)};let lJ=rN({asinh_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","asinh");return rc.runKernel(ed,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.asinh=function(){return this.throwIfDisposed(),lJ(this)};let lZ=rN({atan_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","atan");return rc.runKernel(eu,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.atan=function(){return this.throwIfDisposed(),lZ(this)};let lQ=rN({atan2_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","atan2"),r=rw(t,"b","atan2");[a,r]=rs(a,r);let n={a:a,b:r};return rc.runKernel(ec,n)}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.atan2=function(e){return this.throwIfDisposed(),lQ(this,e)};let l1=rN({atanh_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","atanh");return rc.runKernel(eh,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.atanh=function(){return this.throwIfDisposed(),l1(this)},a7().prototype.avgPool=function(e,t,a,r){return this.throwIfDisposed(),ip(this,e,t,a,r)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),lW(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.batchNorm=function(e,t,a,r,n){return this.throwIfDisposed(),iu(this,e,t,a,r,n)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.broadcastTo=function(e){return this.throwIfDisposed(),ig(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.cast=function(e){return this.throwIfDisposed(),r8(this,e)};let l2=rN({ceil_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","ceil","float32");return rc.runKernel(eS,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.ceil=function(){return this.throwIfDisposed(),l2(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),iv(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof a9&&(e=[e]),ib([this,...e],t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.conv1d=function(e,t,a,r,n,i){return this.throwIfDisposed(),iS(this,e,t,a,r,n,i)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.conv2dTranspose=function(e,t,a,r,n){return this.throwIfDisposed(),iC(this,e,t,a,r,n)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.conv2d=function(e,t,a,r,n,i){return this.throwIfDisposed(),ik(this,e,t,a,r,n,i)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.cos=function(){return this.throwIfDisposed(),lU(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.cosh=function(){return this.throwIfDisposed(),lj(this)},/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.cumprod=function(e,t,a){return this.throwIfDisposed(),lz(this,e,t,a)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.cumsum=function(e,t,a){return this.throwIfDisposed(),l_(this,e,t,a)};let l0=rN({depthToSpace_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a="NHWC"){let r=rw(e,"x","depthToSpace","float32"),n="NHWC"===a?r.shape[1]:r.shape[2],i="NHWC"===a?r.shape[2]:r.shape[3],s="NHWC"===a?r.shape[3]:r.shape[1];return S(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),S(n*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${n} and ${t}  for depthToSpace with input shape
    ${r.shape}`),S(i*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${t} for depthToSpace with input shape
        ${r.shape}`),S(s%(t*t)==0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${s} for depthToSpace with input shape ${r.shape}`),rc.runKernel(ez,{x:r},{blockSize:t,dataFormat:a})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),l0(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.depthwiseConv2d=function(e,t,a,r,n,i){return this.throwIfDisposed(),i$(this,e,t,a,r,n,i)};let l5=rN({dilation2d_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n=[1,1],i="NHWC"){let s=rw(e,"x","dilation2d"),o=rw(t,"filter","dilation2d");S(3===s.rank||4===s.rank,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${s.rank}.`),S(3===o.rank,()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`),S("NHWC"===i,()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=s,p=!1;3===s.rank&&(l=il(s,[1,s.shape[0],s.shape[1],s.shape[2]]),p=!0),S(l.shape[3]===o.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${o.shape[2]}`);let d={x:l,filter:o},u=rc.runKernel(eq,d,{strides:a,pad:r,dilations:n});return p?il(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.dilation2d=function(e,t,a,r,n){return this.throwIfDisposed(),l5(this,e,t,a,r,n)};let l4=rN({divNoNan_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","div"),r=rw(t,"b","div");[a,r]=rs(a,r);let n=nt(a,r),i=ni(n);return sO(iL(r,i),i,n)}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.divNoNan=function(e){return this.throwIfDisposed(),l4(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.div=function(e){return this.throwIfDisposed(),nt(this,e)};let l3=rN({dot_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"t1","dot"),r=rw(t,"t2","dot");S((1===a.rank||2===a.rank)&&(1===r.rank||2===r.rank),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${a.rank} and ${r.rank}.`);let n=1===a.rank?a.size:a.shape[1],i=1===r.rank?r.size:r.shape[0];if(S(n===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${n} and ${i}.`),1===a.rank&&1===r.rank){let e=i3(il(a,[1,-1]),il(r,[-1,1]));return il(e,[])}if(1===a.rank&&2===r.rank){let e=i3(il(a,[1,-1]),il(r,[r.shape[0],r.shape[1]]));return il(e,[e.size])}if(2!==a.rank||1!==r.rank)return i3(a,il(r,[r.shape[0],r.shape[1]]));{let e=i3(a,il(r,[-1,1]));return il(e,[e.size])}}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.dot=function(e){return this.throwIfDisposed(),l3(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.elu=function(){return this.throwIfDisposed(),iR(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.equal=function(e){return this.throwIfDisposed(),iL(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.erf=function(){return this.throwIfDisposed(),iD(this)};let l6=rN({euclideanNorm_:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,a=!1){return ov(e,"euclidean",t,a)}});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),l6(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.exp=function(){return this.throwIfDisposed(),iF(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.expandDims=function(e){return this.throwIfDisposed(),iO(this,e)};let l8=rN({expm1_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","expm1");return rc.runKernel(eQ,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.expm1=function(){return this.throwIfDisposed(),l8(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.fft=function(){return this.throwIfDisposed(),sV(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.flatten=function(){return this.throwIfDisposed(),il(this,[this.size])},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.floor=function(){return this.throwIfDisposed(),iB(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.floorDiv=function(e){return this.throwIfDisposed(),ne(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.gather=function(e,t,a){return this.throwIfDisposed(),iz(this,e,t,a)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.greaterEqual=function(e){return this.throwIfDisposed(),iU(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.greater=function(e){return this.throwIfDisposed(),iV(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.ifft=function(){return this.throwIfDisposed(),sj(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.irfft=function(){return this.throwIfDisposed(),sW(this)};let l9=rN({isFinite_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","isFinite");return rc.runKernel(ta,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.isFinite=function(){return this.throwIfDisposed(),l9(this)};let l7=rN({isInf_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","isInf");return rc.runKernel(tr,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.isInf=function(){return this.throwIfDisposed(),l7(this)};let pe=rN({isNaN_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","isNaN");return rc.runKernel(tn,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.isNaN=function(){return this.throwIfDisposed(),pe(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.leakyRelu=function(e){return this.throwIfDisposed(),ij(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.lessEqual=function(e){return this.throwIfDisposed(),oh(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.less=function(e){return this.throwIfDisposed(),og(this,e)};let pt=rN({localResponseNormalization_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=5,a=1,r=1,n=.5){let i=rw(e,"x","localResponseNormalization");S(4===i.rank||3===i.rank,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),S(t%1==0,()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let s=i,o=!1;3===i.rank&&(o=!0,s=il(i,[1,i.shape[0],i.shape[1],i.shape[2]]));let l={x:s},p=rc.runKernel("LRN",l,{depthRadius:t,bias:a,alpha:r,beta:n});return o?il(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.localResponseNormalization=function(e,t,a,r){return this.throwIfDisposed(),pt(this,e,t,a,r)};let pa=rN({logSigmoid_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","logSigmoid");return ns(e=>({value:sa(sT(sa(e))),gradFunc:t=>na(t,sw(sa(e)))}))(t)}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.logSigmoid=function(){return this.throwIfDisposed(),pa(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.logSoftmax=function(e){return this.throwIfDisposed(),iK(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),i5(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.log=function(){return this.throwIfDisposed(),iW(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.log1p=function(){return this.throwIfDisposed(),iq(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.logicalAnd=function(e){return this.throwIfDisposed(),i4(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.logicalNot=function(){return this.throwIfDisposed(),lV(this)};let pr=rN({logicalOr_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","logicalOr","bool"),r=rw(t,"b","logicalOr","bool");return nk(a.shape,r.shape),rc.runKernel(th,{a:a,b:r})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.logicalOr=function(e){return this.throwIfDisposed(),pr(this,e)};let pn=rN({logicalXor_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","logicalXor","bool"),r=rw(t,"b","logicalXor","bool");return nk(a.shape,r.shape),i4(pr(e,t),lV(i4(e,t)))}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.logicalXor=function(e){return this.throwIfDisposed(),pn(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.matMul=function(e,t,a){return this.throwIfDisposed(),i3(this,e,t,a)},a7().prototype.maxPool=function(e,t,a,r){return this.throwIfDisposed(),i6(this,e,t,a,r)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.max=function(e,t){return this.throwIfDisposed(),iG(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.maximum=function(e){return this.throwIfDisposed(),nS(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.mean=function(e,t){return this.throwIfDisposed(),i9(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.min=function(e,t){return this.throwIfDisposed(),i7(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.minimum=function(e){return this.throwIfDisposed(),se(this,e)};let pi=rN({mirrorPad_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){S("reflect"===a||"symmetric"===a,()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${a}.`);let r=rw(e,"x","mirrorPad");if(0===r.rank)throw Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");S(t.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`);let n="reflect"===a?1:0;for(let e=0;e<r.rank;e++)S(2===t[e].length,()=>"Invalid number of paddings. Must be length of 2 each."),S(t[e][0]>=0&&t[e][0]<=r.shape[e]-n&&t[e][1]>=0&&t[e][1]<=r.shape[e]-n,()=>`Padding in dimension ${e} cannot be greater than or equal to ${r.shape[e]-n} or less than 0 for input of shape ${r.shape}`);return rc.runKernel(tN,{x:r},{paddings:t,mode:a})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),pi(this,e,t)};let ps=rN({mod_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=rw(e,"a","mod"),r=rw(t,"b","mod");[a,r]=rs(a,r);let n={a:a,b:r};return rc.runKernel("Mod",n)}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.mod=function(e){return this.throwIfDisposed(),ps(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.mul=function(e){return this.throwIfDisposed(),na(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.neg=function(){return this.throwIfDisposed(),sa(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.norm=function(e,t,a){return this.throwIfDisposed(),ov(this,e,t,a)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.notEqual=function(e){return this.throwIfDisposed(),sr(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.oneHot=function(e,t=1,a=0){return this.throwIfDisposed(),sn(this,e,t,a)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.onesLike=function(){return this.throwIfDisposed(),so(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.pad=function(e,t){return this.throwIfDisposed(),sl(this,e,t)};let po=rN({pool_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n,i,s){let o;null==n&&(n=[1,1]),null==i&&(i=1),0===r&&(r="valid");let l=rw(e,"x","maxPool"),p=l,d=!1;3===l.rank&&(d=!0,p=il(l,[1,l.shape[0],l.shape[1],l.shape[2]])),S(ir(i,n),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${n}'`);let u=n5(p.shape,t,i,n,r),h=[u.dilationHeight,u.dilationWidth];o="same"===r?function(e,t){let a=e.map((e,a)=>e+(e-1)*(t[a]-1)).map(e=>e-1),r=a.map(e=>Math.floor(e/2)),n=a.map((e,t)=>e-r[t]);return a.map((e,t)=>[r[t],n[t]])}([u.filterHeight,u.filterWidth],h):[[0,0],[0,0]];let c=1===h[0]&&1===h[1],[m,f]=function(e,t,a){let r=a.map(e=>e[0]),n=a.map(e=>e[1]),i=e.concat(r,n),s=t.map((e,t)=>(e-i[t]%e)%e),o=n.map((e,t)=>e+s[t]);return[t.map((e,t)=>[r[t],o[t]]),t.map((e,t)=>[0,s[t]])]}([u.inHeight,u.inWidth],h,o),g=c?r:"valid",v=c?p:lS(p,h,m),b=("avg"===a?()=>ip(v,t,i,g,s):()=>i6(v,t,i,g,s))(),y=c?b:lW(b,h,f);return d?il(y,[y.shape[1],y.shape[2],y.shape[3]]):y}});a7().prototype.pool=function(e,t,a,r,n,i){return this.throwIfDisposed(),po(this,e,t,a,r,n,i)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.pow=function(e){return this.throwIfDisposed(),nv(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.prelu=function(e){return this.throwIfDisposed(),sp(this,e)};let pl=rN({prod_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,a=!1){let r=rw(e,"x","prod");"bool"===r.dtype&&(r=r8(r,"int32"));let n={x:r};return rc.runKernel(tD,n,{axis:t,keepDims:a})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.prod=function(e,t){return this.throwIfDisposed(),pl(this,e,t)};let pp=rN({reciprocal_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","reciprocal");return rc.runKernel(tz,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.reciprocal=function(){return this.throwIfDisposed(),pp(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.relu=function(){return this.throwIfDisposed(),sg(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.relu6=function(){return this.throwIfDisposed(),sG(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.reshapeAs=function(e){return this.throwIfDisposed(),il(this,e.shape)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.reshape=function(e){return this.throwIfDisposed(),il(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.resizeBilinear=function(e,t,a){return this.throwIfDisposed(),op(this,e,t,a)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.resizeNearestNeighbor=function(e,t,a){return this.throwIfDisposed(),od(this,e,t,a)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.reverse=function(e){return this.throwIfDisposed(),sv(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.rfft=function(){return this.throwIfDisposed(),sU(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.round=function(){return this.throwIfDisposed(),oc(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.rsqrt=function(){return this.throwIfDisposed(),lE(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.selu=function(){return this.throwIfDisposed(),sb(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.separableConv2d=function(e,t,a,r,n,i){return this.throwIfDisposed(),sy(this,e,t,a,r,n,i)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.sigmoid=function(){return this.throwIfDisposed(),sw(this)};let pd=rN({sign_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","sign");return rc.runKernel(t4,{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.sign=function(){return this.throwIfDisposed(),pd(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.sin=function(){return this.throwIfDisposed(),lT(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.sinh=function(){return this.throwIfDisposed(),lA(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.slice=function(e,t){return this.throwIfDisposed(),sx(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.softmax=function(e){return this.throwIfDisposed(),sC(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.softplus=function(){return this.throwIfDisposed(),sT(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),lS(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.split=function(e,t){return this.throwIfDisposed(),sA(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.sqrt=function(){return this.throwIfDisposed(),nr(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.square=function(){return this.throwIfDisposed(),nn(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.squaredDifference=function(e){return this.throwIfDisposed(),ow(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.squeeze=function(e){return this.throwIfDisposed(),s_(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.stack=function(e,t){return this.throwIfDisposed(),sE(e instanceof a9?[this,e]:[this,...e],t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.step=function(e){return this.throwIfDisposed(),sH(this,e)};let pu=rN({stridedSlice_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n=0,i=0,s=0,o=0,l=0){let p=rw(e,"x","stridedSlice","string_or_numeric");return rc.runKernel(ap,{x:p},{begin:t,end:a,strides:r,beginMask:n,endMask:i,ellipsisMask:s,newAxisMask:o,shrinkAxisMask:l})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.stridedSlice=function(e,t,a,r,n,i,s,o){return this.throwIfDisposed(),pu(this,e,t,a,r,n,i,s,o)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.sub=function(e){return this.throwIfDisposed(),nb(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.sum=function(e,t){return this.throwIfDisposed(),iH(this,e,t)};let ph=rN({tan_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=rw(e,"x","tan","float32");return rc.runKernel("Tan",{x:t})}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.tan=function(){return this.throwIfDisposed(),ph(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.tanh=function(){return this.throwIfDisposed(),s$(this)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.tile=function(e){return this.throwIfDisposed(),iP(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.toBool=function(){return this.throwIfDisposed(),r8(this,"bool")},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.toFloat=function(){return this.throwIfDisposed(),r8(this,"float32")},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.toInt=function(){return this.throwIfDisposed(),r8(this,"int32")};let pc=rN({topk_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=1,a=!0){let r=rw(e,"x","topk");if(0===r.rank)throw Error("topk() expects the input to be of rank 1 or higher");let n=r.shape[r.shape.length-1];if(t<0)throw Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>n)throw Error(`'k' passed to topk() must be <= the last dimension (${n}) but got ${t}`);let[i,s]=rc.runKernel(af,{x:r},{k:t,sorted:a});return{values:i,indices:s}}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.topk=function(e,t){return this.throwIfDisposed(),pc(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.transpose=function(e){return this.throwIfDisposed(),sB(this,e)};let pm=rN({unique_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0){let a=rw(e,"x","unique","string_or_numeric");S(a.rank>0,()=>"The input tensor must be at least 1D");let[r,n]=rc.runKernel(ab,{x:a},{axis:t});return{values:r,indices:n}}});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.unique=function(e){return this.throwIfDisposed(),pm(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),l$(this,e,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.unstack=function(e){return this.throwIfDisposed(),sF(this,e)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.where=function(e,t){return this.throwIfDisposed(),sO(e,this,t)},/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a7().prototype.zerosLike=function(){return this.throwIfDisposed(),ni(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class pf extends Error{constructor(e){super(e),Object.setPrototypeOf(this,pf.prototype)}}class pg extends Error{constructor(e){super(e),Object.setPrototypeOf(this,pg.prototype)}}class pv extends Error{constructor(e){super(e),Object.setPrototypeOf(this,pv.prototype)}}class pb extends Error{constructor(e){super(e),Object.setPrototypeOf(this,pb.prototype)}}class py extends Error{constructor(e){super(e),Object.setPrototypeOf(this,py.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class pw{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){let e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){let e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function px(e,t){if(Array.isArray(e)){let a=[];for(let r=0;r<t;r++)a=a.concat(e);return a}{let a=Array(t);return a.fill(e),a}}function pN(e,t){if(!e)throw new py(t)}function pk(e,t){let a=0;for(let r of e)r===t&&a++;return a}function pS(e){return 1===e.length?e[0]:e}function pI(e){return Array.isArray(e)?e:[e]}function pC(e){let t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function pT(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(e,t)=>t.toUpperCase())}let pA={};function p_(e){if(null==e)return null;let t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function pE(e,t={},a={},r="object",n=!1){if("string"==typeof e){let n;if(e in a)n=a[e];else if(e in pA)n=pA[e];else if(null==(n=t[e]))throw new pv(`Unknown ${r}: ${e}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return n}{let i,s;if(null==e.className||null==e.config)throw new pv(`${r}: Improper config format: ${JSON.stringify(e)}.
'className' and 'config' must set.`);let o=e.className;if(o in a?[i,s]=a[o]:o in pA?[i,s]=pA.className:o in t&&([i,s]=t[o]),null==i)throw new pv(`Unknown ${r}: ${o}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=s){let t={};for(let e of Object.keys(pA))t[e]=pA[e];for(let e of Object.keys(a))t[e]=a[e];e.config.customObjects=t;let r=Object.assign({},pA);for(let e of Object.keys(a))pA[e]=a[e];!function e(t){if(null!=t&&"object"==typeof t){if(Array.isArray(t))t.forEach(t=>e(t));else for(let a of Object.keys(t)){let r=t[a];null!=r&&"object"==typeof r&&(Array.isArray(r)||"ndarray"!==r.type||"number"!=typeof r.value?e(r):t[a]=r.value)}}}(e.config);let o=s(i,e.config,a,n);return pA=Object.assign({},r),o}{let t=Object.assign({},pA);for(let e of Object.keys(a))pA[e]=a[e];let r=new i(e.config);return pA=Object.assign({},t),r}}}function p$(e,t){return -1*(e<t?-1:e>t?1:0)}function pR(e){if(null==e)return e;let t=[];for(let a of e)-1===t.indexOf(a)&&t.push(a);return t}function pL(e,t,a){if(null!=a&&0>e.indexOf(a))throw new pv(`${a} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function pD(e,t,a=0,r=1/0){return pN(a>=0),pN(r>=a),Array.isArray(e)&&e.length>=a&&e.length<=r&&e.every(e=>typeof e===t)}function pF(e,t){Array.isArray(e)?(S(e.length>0,()=>`${t} is unexpectedly an empty array.`),e.forEach((e,a)=>pF(e,`element ${a+1} of ${t}`))):S(Number.isInteger(e)&&e>0,()=>`Expected ${t} to be a positive integer, but got ${function e(t){return null===t?"null":Array.isArray(t)?"["+t.map(t=>e(t)).join(",")+"]":"string"==typeof t?`"${t}"`:`${t}`}(e)}.`)}function pO(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let pP=0,pM={};function pB(e=""){return e in pM||(pM[e]=0),pM[e]+=1,e+pM[e].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let pz=["channelsFirst","channelsLast"],pV=["nearest","bilinear"],pU=["valid","same","causal"],pj=["max","avg"],pW=["sum","mul","concat","ave"],pq=new Map;function pG(e){pL(pz,"DataFormat",e)}function pH(e){pL(pU,"PaddingMode",e)}function pK(e){pL(pj,"PoolMode",e)}let pX=[];function pY(e,t){pX.push(e);try{let e=t();return pX.pop(),e}catch(e){throw pX.pop(),e}}function pJ(e){if(!p1(e))throw Error("Not a valid tensor name: '"+e+"'");return(0===pX.length?"":pX.join("/")+"/")+e}function pZ(e){if(!p1(e))throw Error("Not a valid tensor name: '"+e+"'");pq.has(e)||pq.set(e,0);let t=pq.get(e);if(pq.set(e,pq.get(e)+1),!(t>0))return e;{let a=`${e}_${t}`;return pq.set(a,1),a}}let pQ=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function p1(e){return!!e.match(pQ)}function p2(e,t,a){null==t&&(t=0),null==a&&(a=e.length);let r=1;for(let n=t;n<a;++n)r*=e[n];return r}function p0(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let a=0;a<e.length;a++){let r=e[a];r<t&&(t=r)}return t}function p5(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let a=0;a<e.length;a++){let r=e[a];r>t&&(t=r)}return t}function p4(e,t){if(t<e)throw new pv(`end (${t}) < begin (${e}) is forbidden.`);let a=[];for(let r=e;r<t;++r)a.push(r);return a}function p3(){return null==s&&(s=rc.backend.epsilon()),s}function p6(){return"channelsLast"}function p8(e,t=-1){let a=e.shape.slice();return t<0&&(t=a.length+t+1),a.splice(t,0,1),il(e,a)}function p9(e,t,a){return rA(()=>{switch(e.rank){case 1:return sN(e,t,a);case 2:return sk(e,[t,0],[a,e.shape[1]]);case 3:return sS(e,[t,0,0],[a,e.shape[1],e.shape[2]]);case 4:return sI(e,[t,0,0,0],[a,e.shape[1],e.shape[2],e.shape[3]]);case 5:return sx(e,[t,0,0,0,0],[a,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return sx(e,[t,0,0,0,0,0],[a,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new pv(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}})}function p7(e,t,a){return rA(()=>{switch(e.rank){case 1:return sN(e,t,a);case 2:return sk(e,[0,t],[e.shape[0],a]);case 3:return sS(e,[0,0,t],[e.shape[0],e.shape[1],a]);case 4:return sI(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],a]);default:throw new pv(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function de(e,t,a,r){return rA(()=>{switch(e.rank){case 1:return sN(e,t,a);case 2:switch(r){case 1:return p9(e,t,a);case 2:return p7(e,t,a);default:throw new pv(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return p9(e,t,a);case 2:return sS(e,[0,t,0],[e.shape[0],a,e.shape[2]]);case 3:return p7(e,t,a);default:throw new pv(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return p9(e,t,a);case 2:return sI(e,[0,t,0,0],[e.shape[0],a,e.shape[2],e.shape[3]]);case 3:return sI(e,[0,0,t,0],[e.shape[0],e.shape[1],a,e.shape[3]]);case 4:return p7(e,t,a);default:throw new pv(`The axis is not within the rank of the tensor ${r}`)}default:throw new pv(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function dt(e,t=-1){let a;return t<0&&(t=0!==(a=e[0].rank)?a:0),t===e[0].rank&&(t=-1),ib(e,t)}function da(e,t){switch(e.rank){case 1:return iy([e,t]);case 2:return iw([e,t],0);case 3:return ix([e,t],0);case 4:return iN([e,t],0);default:throw new pv(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function dr(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new pv(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return iP(e,t)}function dn(e,t=0,a=1,r,n){return sc(e,t,a,r,n)}function di(e,t,a,r){if(e.rank<2||t.rank<2)throw new pb(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new pb(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`);if(2===e.rank&&2===t.rank)return s2({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?dl(e.rank,r,p6()):null,activation:a});{let n=e.shape.slice();e=il(e,[-1,n.pop()]);let i=t.shape.slice(),s=i.pop(),o=i.pop(),l=[...i,s],p=Array.from({length:t.rank},(e,a)=>0===a?t.rank-2:a<=t.rank-2?a-1:a);t=il(sB(t,p),[o,-1]);let d=[...n,...l];return il(s2({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?dl(e.rank,r,p6()):null,activation:a}),d)}}function ds(e,t,a){return rA(()=>iz(e,t=Array.isArray(t)?sR(t,"int32"):r8(t,"int32"),a))}function dl(e,t,a){let r=t.shape;if(1!==t.rank&&t.rank!==e)throw new pv(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===a)return 1===r.length?il(t,[1,r[0],1,1,1]):il(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===a)return 1===r.length?il(t,[1,1,1,1,r[0]]):il(t,[1].concat(r))}else if(4===e){if("channelsFirst"===a)return 1===r.length?il(t,[1,r[0],1,1]):il(t,[1,r[2],r[0],r[1]]);if("channelsLast"===a)return 1===r.length?il(t,[1,1,1,r[0]]):il(t,[1].concat(r))}else if(3===e){if("channelsFirst"===a)return 1===r.length?il(t,[1,r[0],1]):il(t,[1,r[1],r[0]]);if("channelsLast"===a)return 1===r.length?il(t,[1,1,r[0]]):il(t,[1].concat(r))}else if(e<3)return t;throw new pv(`Unsupported input rank by biasAdd: ${t.rank}`)}function dp(e,t,a){return rA(()=>(null==a&&(a=p6()),pG(a),r7(e,dl(e.rank,t,a))))}function dd(e,t,a=!1){return a?e():t()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let du=["fanIn","fanOut","fanAvg"],dh=["normal","uniform","truncatedNormal"];class dc extends nd{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class dm extends dc{apply(e,t){return si(e,t)}}dm.className="Zeros",nh(dm);class df extends dc{apply(e,t){return ss(e,t)}}df.className="Ones",nh(df);class dg extends dc{constructor(e){if(super(),"object"!=typeof e)throw new pv(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new pv(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return rA(()=>na(no(this.value),ss(e,t)))}getConfig(){return{value:this.value}}}dg.className="Constant",nh(dg);class dv extends dc{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return sm(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}dv.className="RandomUniform",nh(dv);class db extends dc{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new pb(`randomNormal does not support dType ${t}.`);return dn(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}db.className="RandomNormal",nh(db);class dy extends dc{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new pb(`truncatedNormal does not support dType ${t}.`);return sD(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}dy.className="TruncatedNormal",nh(dy);class dw extends dc{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return rA(()=>{if(2===e.length&&e[0]===e[1])return na(this.gain,iM(e[0]));throw new pv("Identity matrix initializer can only be used for 2D square matrices.")})}getConfig(){return{gain:this.gain}}}dw.className="Identity",nh(dw);class dx extends dc{constructor(e){if(super(),e.scale<0)throw new pv(`scale must be a positive float. Got: ${e.scale}`);this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,pL(du,"FanMode",this.mode),this.distribution=null==e.distribution?"normal":e.distribution,pL(dh,"Distribution",this.distribution),this.seed=e.seed}apply(e,t){let a=function(e,t="channelsLast"){let a,r;if(pG(t),2===e.length)a=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===t){let t=p2(e,2);a=e[1]*t,r=e[0]*t}else if("channelsLast"===t){let t=p2(e,0,e.length-2);a=e[e.length-2]*t,r=e[e.length-1]*t}}else{let t=p2(e);a=Math.sqrt(t),r=Math.sqrt(t)}return[a,r]}(e),r=a[0],n=a[1],i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,n):i/=Math.max(1,(r+n)/2),"normal"===this.distribution){let a=Math.sqrt(i);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new pb(`${this.getClassName()} does not support dType ${t}.`);return sD(e,0,a,t,this.seed)}{let a=Math.sqrt(3*i);return sm(e,-a,a,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}dx.className="VarianceScaling",nh(dx);class dN extends dx{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return dx.className}}dN.className="GlorotUniform",nh(dN);class dk extends dx{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return dx.className}}dk.className="GlorotNormal",nh(dk);class dS extends dx{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return dx.className}}dS.className="HeNormal",nh(dS);class dI extends dx{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return dx.className}}dI.className="HeUniform",nh(dI);class dC extends dx{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return dx.className}}dC.className="LeCunNormal",nh(dC);class dT extends dx{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return dx.className}}dT.className="LeCunUniform",nh(dT);class dA extends dc{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return rA(()=>{if(e.length<2)throw new pb("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw TypeError(`Unsupported data type ${t}.`);let a=T(e.slice(0,-1)),r=e[e.length-1],n=a*r;n>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${n}) elements: Slowness may result.`);let i=dn([Math.max(r,a),Math.min(r,a)],0,1,t,this.seed),s=oN.qr(i,!1),o=s[0];return o=na(o,s[1].flatten().stridedSlice([0],[Math.min(r,a)*Math.min(r,a)],[Math.min(r,a)+1]).sign()),a<r&&(o=o.transpose()),na(no(this.gain),o.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}dA.className="Orthogonal",nh(dA);let d_={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function dE(e,t={}){return pE(e,nu.getMap().classNameMap,t,"initializer")}function d$(e){if("string"==typeof e){let t=e in d_?d_[e]:e;if("GlorotNormal"===t)return new dk;if("GlorotUniform"===t)return new dN;{if("HeNormal"===t)return new dS;if("HeUniform"===t)return new dI;if("LeCunNormal"===t)return new dC;if("LeCunUniform"===t)return new dT;let e={};return e.className=t,e.config={},dE(e)}}return e instanceof dc?e:dE(e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function dR(e){return Array.isArray(e)&&Array.isArray(e[0])}function dL(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function dD(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new pv(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function dF(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))return e;if(1===e.length)return e[0];throw new pv(`Expected exactly 1 Shape; got ${e.length}`)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function dO(e){let t=0;for(let a of e)0===a.shape.length?t+=1:t+=a.shape.reduce((e,t)=>e*t);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let dP="Variable";class dM{constructor(e,t="float32",a=dP,r=!0,n=null){this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=pP++,a=null==a?dP:a,this.originalName=pJ(a),this.name=pZ(this.originalName),this.trainable_=r,this.constraint=n,this.val=/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=!0,a,r){return rc.makeVariable(e,t,a,r)}(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function dB(e){return e.map(e=>e.read())}function dz(e){e.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class dV{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class dU{constructor(e,t,a,r,n,i,s){this.dtype=e,this.shape=t,this.sourceLayer=a,this.inputs=r,this.callArgs=n,this.outputTensorIndex=s,this.id=pP++,null!=i&&(this.originalName=pJ(i),this.name=pZ(this.originalName)),this.rank=t.length}}let dj=0;class dW{constructor(e,t){for(let a of(this.callArgs=t,this.id=dj++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes,e.inboundLayers))null!=a&&a.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){let e=[];for(let t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let dq=0;class dG extends nd{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=dq++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){let e=this.getClassName();t=pC(e)+"_"+pB(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let a=null;null!=e.batchSize&&(a=e.batchSize),t=[a].concat(e.inputShape)}this.batchInputShape=t;let a=e.dtype;null==a&&(a=e.inputDType),null==a&&(a="float32"),this.dtype=a}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new pg(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new pv(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return pS(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return pS(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new pf(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new pf(`Layer ${this.name} is not connected, no input to return.`);return pS(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new pf(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new pf(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return pS(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(t=>t.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){let t=pI(e);if(null==this.inputSpec||0===this.inputSpec.length)return;let a=pI(this.inputSpec);if(t.length!==a.length)throw new pv(`Layer ${this.name} expects ${a.length} inputs, but it received ${t.length} input tensors. Input received: ${e}`);for(let e=0;e<t.length;e++){let r=t[e],n=a[e];if(null==n)continue;let i=r.rank;if(null!=n.ndim&&i!==n.ndim)throw new pv(`Input ${e} is incompatible with layer ${this.name}: expected ndim=${n.ndim}, found ndim=${i}`);if(null!=n.maxNDim&&i>n.maxNDim)throw new pv(`Input ${e} is incompatible with layer ${this.name}: expected max_ndim=${n.maxNDim}, found ndim=${i}`);if(null!=n.minNDim&&i<n.minNDim)throw new pv(`Input ${e} is incompatible with layer ${this.name}: expected min_ndim=${n.minNDim}, found ndim=${i}.`);if(null!=n.dtype&&r.dtype!==n.dtype)throw new pv(`Input ${e} is incompatible with layer ${this.name} : expected dtype=${n.dtype}, found dtype=${r.dtype}.`);if(n.axes){let t=r.shape;for(let a in n.axes){let r=Number(a),i=n.axes[a],s=r>=0?t[r]:t[t.length+r];if(null!=i&&-1===[i,null].indexOf(s))throw new pv(`Input ${e} is incompatible with layer ${this.name}: expected axis ${r} of input shape to have value ${i} but got shape ${t}.`)}}if(null!=n.shape)for(let t=0;t<n.shape.length;++t){let a=n.shape[t],i=r.shape[t];if(null!=a&&null!=i&&a!==i)throw new pv(`Input ${e} is incompatible with layer ${this.name}: expected shape=${n.shape}, found shape=${r.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();let a=pI(e),r=function(e){let t=!0;for(let a of pI(e))if(!(a instanceof dU)){t=!1;break}return t}(e),n=function(e){let t=!0;for(let a of pI(e))if(a instanceof dU){t=!1;break}return t}(e);if(r===n)throw new pv("Arguments to apply() must be all SymbolicTensors or all Tensors");return pY(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);let t=[];for(let a of pI(e))t.push(a.shape);this.build(pS(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&n&&(this._refCount=1)}if(this.assertInputCompatibility(e),n){let r=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,r);let n=pI(r),i=[];for(let e of n)-1!==a.indexOf(e)&&(e=e.clone()),i.push(e);if(r=pS(i),null!=this.activityRegularizer)throw new pb("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}{let a;let r=function(e){e=pI(e);let t=[];for(let a of e)t.push(a.shape);return pS(t)}(e),n=this.computeOutputShape(r),i="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?r[0]:r),a=null!=n&&n.length>0&&Array.isArray(n[0])?n.map((a,r)=>new dU(i,a,this,pI(e),t,this.name,r)):new dU(i,n,this,pI(e),t,this.name),this.addInboundNode(e,a,null,null,r,n,t),this._refCount++,null!=this.activityRegularizer)throw new pb("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}})}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape){if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let t=!1;this.batchInputShape.forEach((a,r)=>{null!=a&&null!=e[r]&&e[r]!==a&&(t=!0)}),t&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new pf(`The layer ${this.name} has never been called and thus has no defined output shape.`);let e=[];for(let t of this.inboundNodes){let a=JSON.stringify(t.outputShapes);-1===e.indexOf(a)&&e.push(a)}if(1===e.length){let e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new pf(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new pg(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return dO(this.weights)}build(e){this.built=!0}getWeights(e=!1){return dB(e?this.trainableWeights:this.weights)}setWeights(e){rA(()=>{let t=this.weights;if(t.length!==e.length)throw new pv(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(0===t.length)return;let a=[],r=dB(t);for(let n=0;n<r.length;++n){let i=r[n],s=t[n],o=e[n];if(!A(i.shape,o.shape))throw new pv(`Layer weight shape ${i.shape} not compatible with provided weight shape ${o.shape}`);a.push([s,o])}dz(a)})}addWeight(e,t,a,r,n,i,s,o){if(-1!==this._addedWeightNames.indexOf(e))throw new pv(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==a&&(a="float32"),this.fastWeightInitDuringBuild&&(r=null!=o?o():d$("zeros"));let l=r.apply(t,a),p=new dM(l,a,e,i,s);return l.dispose(),null!=n&&this.addLoss(()=>n.apply(p.read())),null==i&&(i=!0),i?this._trainableWeights.push(p):this._nonTrainableWeights.push(p),p}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=pI(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(Array.isArray(t))t.forEach(e=>{if(null!=e)throw TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)}return null}return t}setMaskMetadata(e,t,a){if(!this.supportsMasking)return;let r=this.computeMask(e,a),n=pI(t),i=pI(r);if(n.length!==i.length)throw Error(`${this.name} outputs ${n.length} tensors but ${n.length} masks for those tensors`);for(let e=0;e<n.length;e++)n[e].kerasMask=i[e]}addInboundNode(e,t,a,r,n,i,s=null){let o=pI(e);t=pI(t),a=pI(a),r=pI(r),n=dL(n),i=dL(i);let l=[],p=[],d=[];for(let e of o)l.push(e.sourceLayer),p.push(e.nodeIndex),d.push(e.tensorIndex);new dW({outboundLayer:this,inboundLayers:l,nodeIndices:p,tensorIndices:d,inputTensors:o,outputTensors:t,inputMasks:a,outputMasks:r,inputShapes:n,outputShapes:i},s);for(let e=0;e<t.length;e++)t[e].sourceLayer=this,t[e].nodeIndex=this.inboundNodes.length-1,t[e].tensorIndex=e}getConfig(){let e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class dH extends dG{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:pB("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new pv("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new pv("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new pv("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");let a=e.dtype||"float32";this.batchInputShape=t,this.dtype=a,this.inputSpec=[{shape:t}];let r=new dU(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new dW({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new pv(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}dH.className="InputLayer",nh(dH);class dK{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof dK)for(let t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(let t of e)this.add(t.key,t.value)}}add(e,t,a){if(null==this.id2Value[e.id])this.id2Value[e.id]=/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return r8(t,e.dtype)}catch(a){throw new pv(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,t),this.name2Id[e.name]=e.id,null!=a&&(this.id2Mask[e.id]=a);else throw new pv(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof dU){if(null!=this.id2Value[e.id])return this.id2Value[e.id];throw new pv(`Nonexistent key: ${e.name}`)}{let t=this.name2Id[e];if(null==t)throw new pv(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof dU){if(null!=this.id2Value[e.id])return this.id2Mask[e.id];throw new pv(`Nonexistent key: ${e.name}`)}{let t=this.name2Id[e];if(null==t)throw new pv(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&r_(this.id2Mask)}}let dX=new pw,dY=new pw;function dJ(e,t,a,r){let n;let i=null!=a&&a.training,s=Array.isArray(e),o=s?e:[e],l=o.map(e=>e.name),p=[],d=t.names();for(let e of l)-1!==d.indexOf(e)?p.push(t.getValue(e)):p.push(null);null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);let u=l.join(",")+"|"+t.names().sort().join(","),h=dX.get(u);if(null==h){let e=function(e,t){S(null!=e&&e.length>0,()=>"Expected at least one fetch, got none");let a=[],r={};if(1===e.length){let n=dZ(e[0],t);a=n.sorted,r=n.recipientMap}else{let n=new Set;for(let i of e){let{sorted:e,recipientMap:s}=dZ(i,t);for(let t of e)n.has(t.name)||(a.push(t),n.add(t.name));for(let e in s)null==r[e]&&(r[e]=new Set),s[e].forEach(t=>r[e].add(t))}}return{sorted:a,recipientCounts:function(e){let t={};for(let a in e)t[a]=e[a].size;return t}(r)}}(o,t);h=e.sorted,n=e.recipientCounts,dX.put(u,h),dY.put(u,n)}n={},i||Object.assign(n,dY.get(u));let c=new dK(t);for(let e=0;e<h.length;++e){if(null!=r){let e=rT().numTensors;e>r.maxNumTensors&&(r.maxNumTensors=e),e<r.minNumTensors&&(r.minNumTensors=e)}let s=h[e],o=s.sourceLayer;if(o instanceof dH)continue;let d=[],u=[],m=[],f=!1;for(let e of s.inputs){let a=c.getValue(e),r=c.getMask(e);d.push(a),u.push(r),null!=r&&(f=!0),i||(n[e.name]--,0!==n[e.name]||t.hasKey(e)||-1!==l.indexOf(e.name)||a.isDisposed||!0===e.sourceLayer.stateful||m.push(a))}f&&((a=a||{}).mask=u[0]);let g=pI(o.apply(d,a)),v=null;o.supportsMasking&&(v=o.computeMask(d,u));let b=function(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let a=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(let r of e.sourceLayer.inboundNodes[t].outputTensors)if(r.id===e.id){a=t;break}t=e.sourceLayer.getOutputAt(a)}return t}(s),y=Array.isArray(b)?b:[b];for(let e=0;e<y.length;++e){c.hasKey(y[e])||c.add(y[e],g[e],Array.isArray(v)?v[0]:v);let t=l.indexOf(y[e].name);-1!==t&&(p[t]=g[e])}i||r_(m)}return c.disposeMasks(),s?p:p[0]}function dZ(e,t){let a=new Set,r=[],n={};for(let e of t.names())a.add(e);let i=[],s=[];for(i.push(e);i.length>0;){let e=i[i.length-1];if(a.has(e.name)){i.pop();continue}let t=s[s.length-1]===i.length-1;if(0===e.inputs.length||t)i.pop(),r.push(e),a.add(e.name),t&&s.pop();else for(let t of(s.push(i.length-1),e.inputs))null==n[t.name]&&(n[t.name]=new Set),n[t.name].add(e.name),a.has(t.name)||i.push(t)}return{sorted:r,recipientMap:n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function dQ(e,t){return rA(()=>nr(iH(na(e,e),t,!0)))}et.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,function(e){null!=dX&&dX.setMaxEntries(e),null!=dY&&dY.setMaxEntries(e)});class d1 extends nd{getConfig(){return{}}}class d2 extends d1{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return rA(()=>{let t=dQ(e,this.axis);return na(e,nt(iv(t,0,this.maxValue),r7(p3(),t)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}d2.className="MaxNorm",nh(d2);class d0 extends d1{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return rA(()=>nt(e,r7(p3(),dQ(e,this.axis))))}getConfig(){return{axis:this.axis}}}d0.className="UnitNorm",nh(d0);class d5 extends d1{apply(e){return sg(e)}}d5.className="NonNeg",nh(d5);class d4 extends d1{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return rA(()=>{let t=dQ(e,this.axis),a=r7(na(this.rate,iv(t,this.minValue,this.maxValue)),na(1-this.rate,t));return na(e,nt(a,r7(p3(),t)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}d4.className="MinMaxNorm",nh(d4);let d3={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function d6(e,t={}){return pE(e,nu.getMap().classNameMap,t,"constraint")}function d8(e){return null==e?null:"string"==typeof e?d6({className:e in d3?d3[e]:e,config:{}}):e instanceof d1?e:d6(e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function d9(e){if(null==e)return;let t=[],a=[],r=[];for(let n in e){let i=e[n];"number"!=typeof i&&(t.push(i.data()),a.push(n),r.push(i))}if(t.length>0){let n=await Promise.all(t);for(let t=0;t<n.length;++t)e[a[t]]=n[t][0];r_(r)}}function d7(e){if(null!=e)for(let t in e){let a=e[t];"number"!=typeof a&&a.dispose()}}!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(N0||(N0={}));class ue{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class ut{constructor(e,t=10){null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(let t of this.callbacks)t.setParams(e)}setModel(e){for(let t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){for(let a of(null==t&&(t={}),this.callbacks))await a.onEpochBegin(e,t)}async onEpochEnd(e,t){for(let a of(null==t&&(t={}),this.callbacks))await a.onEpochEnd(e,t)}async onBatchBegin(e,t){for(let a of(null==t&&(t={}),this.callbacks))await a.onBatchBegin(e,t)}async onBatchEnd(e,t){for(let a of(null==t&&(t={}),this.callbacks))await a.onBatchEnd(e,t)}async onTrainBegin(e){for(let t of(null==e&&(e={}),this.callbacks))await t.onTrainBegin(e)}async onTrainEnd(e){for(let t of(null==e&&(e={}),this.callbacks))await t.onTrainEnd(e)}}class ua extends ue{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});let a=null==t.size?0:t.size;for(let e in this.seen+=a,t){let r=t[e];if("number"==typeof r)this.totals.hasOwnProperty(e)||(this.totals[e]=0),this.totals[e]=this.totals[e]+r*a;else{let t;e in this.totals?t=this.totals[e]:this.totals[e]=0;let n=rA(()=>r7(this.totals[e],na(r,a)));this.totals[e]=n,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(let e of this.params.metrics)null!=this.totals[e]&&("number"==typeof this.totals[e]?t[e]=this.totals[e]/this.seen:rA(()=>{let a=na(nt(1,this.seen),this.totals[e]);t[e]=a,this.totals[e].dispose(),rE(t[e])}))}}class ur extends ue{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){for(let a in null==t&&(t={}),this.epoch.push(e),t)null==this.history[a]&&(this.history[a]=[]),this.history[a].push(t[a])}async syncData(){let e=[],t=[],a=[];for(let r in this.history){let n=this.history[r];for(let i=0;i<n.length;++i)if("number"!=typeof n[i]){let s=n[i];e.push(s.data()),t.push(r),a.push(i)}}let r=await Promise.all(e);for(let e=0;e<r.length;++e)this.history[t[e]][a[e]].dispose(),this.history[t[e]][a[e]]=r[e][0]}}class un extends ue{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||oI,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");B(this.yieldEvery)&&(this.maybeWait=function(e,t,a){let r,n=null!=a?a():aX();return(...i)=>{let s=null!=a?a():aX();return s-n<t?r:(n=s,r=e(...i))}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,a){let r=[];null!=this.yield&&(await d9(a),r.push(this.yield(e,t,a))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await d9(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){let a=[];null!=this.epochEnd&&(await d9(t),a.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&a.push(this.nextFrameFunc()),await Promise.all(a)}async onBatchBegin(e,t){null!=this.batchBegin&&(await d9(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){let a=[];null!=this.batchEnd&&(await d9(t),a.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?a.push(this.nextFrameFunc()):B(this.yieldEvery)&&a.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(a)}async onTrainBegin(e){null!=this.trainBegin&&(await d9(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await d9(e),await this.trainEnd(e))}}function ui(e,t){return(null==e&&(e={}),e instanceof ue)?[e]:Array.isArray(e)&&e[0]instanceof ue?e:pI(e).map(e=>new un(e,t))}class us{constructor(){}static registerCallbackConstructor(e,t){S(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),us.checkForDuplicate(t),null==us.constructors[e]&&(us.constructors[e]=[]),us.constructors[e].push(t)}static checkForDuplicate(e){for(let t in us.constructors)us.constructors[+t].forEach(t=>{if(t===e)throw new pv("Duplicate callback constructor.")})}static clear(){us.constructors={}}static createCallbacks(e){let t=[];for(let a in us.constructors){let r=+a;e>=r&&t.push(...us.constructors[r])}return t.map(e=>new e)}}function uo(e,t,a,r,n,i,s,o,l){let p=new ur,d=[new ua,...us.createCallbacks(t)];null!=e&&d.push(...e),d.push(p);let u=new ut(d);return u.setParams({epochs:a,initialEpoch:r,samples:n,steps:i,batchSize:s,verbose:t,doValidation:o,metrics:l}),{callbackList:u,history:p}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ul(e,t={},a=!1){return pE(e,nu.getMap().classNameMap,t,"layer",a)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function up(e,t){return rA(()=>{var a;"float32"!==e.dtype&&(e=r8(e,"float32"));let r=iH(na(a=e,a),t,!0),n=nf(r.shape,p3()),i=nr(nS(r,n));return nt(e,i)})}function ud(e,t){return rA(()=>{var a;return i9(na(a=nb(t,e),a),-1)})}function uu(e,t){return rA(()=>i9(nw(nb(t,e)),-1))}function uh(e,t){return rA(()=>{let a=nb(e,t),r=iv(nw(e),p3(),Number.MAX_VALUE);return na(100,i9(nw(nt(a,r)),-1))})}function uc(e,t,a=!1){return rA(()=>{if(a)t=sC(t);else{let e=iH(t,t.shape.length-1,!0);t=nt(t,e)}return t=iv(t,p3(),1-p3()),sa(iH(na(r8(e,"float32"),iW(t)),t.shape.length-1))})}function um(e,t,a=!1){return rA(()=>{let r=r8(iB(function(e){let t=[p2(e.shape)];return il(e,t)}(e)),"int32"),n=(t=iv(t,p3(),1-p3())).shape;return uc(il(sn(r,n[n.length-1]),n),t,a)})}function uf(e,t){return rA(()=>{let a;return i9(function(e,t){if(!A(e.shape,t.shape))throw new pv(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return rA(()=>{let a=sg(t),r=sa(nw(t));return r7(nb(a,na(t,e)),iq(iF(r)))})}(e,a=iW(nt(a=iv(t,p3(),1-p3()),nb(1,a)))),-1)})}function ug(e,t){return rA(()=>sa(iH(na(up(e,-1),up(t,-1)),-1)))}us.constructors={};let uv={meanSquaredError:ud,meanAbsoluteError:uu,meanAbsolutePercentageError:uh,meanSquaredLogarithmicError:function(e,t){return rA(()=>{var a;return i9(na(a=nb(iW(r7(1,iv(t,p3(),Number.MAX_VALUE))),iW(r7(1,iv(e,p3(),Number.MAX_VALUE)))),a),-1)})},squaredHinge:function(e,t){return rA(()=>{let a=nS(0,nb(1,na(e,t)));return i9(na(a,a),-1)})},hinge:function(e,t){return rA(()=>i9(nS(0,nb(1,na(e,t))),-1))},categoricalHinge:function(e,t){return rA(()=>{let a=iH(na(e,t),-1),r=iG(na(nb(1,e),t),-1);return nS(0,r7(1,nb(r,a)))})},logcosh:function(e,t){return rA(()=>{let a=nb(t,e);return i9(nb(r7(a,sT(na(-2,a))),Math.log(2)),-1)})},categoricalCrossentropy:uc,sparseCategoricalCrossentropy:um,binaryCrossentropy:uf,kullbackLeiblerDivergence:function(e,t){return rA(()=>{let a=iv(e,p3(),1);return iH(na(e,iW(nt(a,iv(t,p3(),1)))),-1)})},poisson:function(e,t){return rA(()=>{let a=iW(r7(p3(),t));return i9(nb(t,na(e,a)),-1)})},cosineProximity:ug};function ub(e){if("string"!=typeof e)return e;{if(e in uv)return uv[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new pv(t)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function uy(e,t){return rA(()=>{let a=na(.5,so(t)),r=r8(iV(t,a),e.dtype);return i9(iL(e,r),-1)})}function uw(e,t){return rA(()=>r8(iL(n2(e,-1),n2(t,-1)),"float32"))}function ux(e,t){return uf(e,t)}function uN(e,t){return e.rank===t.rank&&(e=s_(e,[e.rank-1])),(t=n2(t,-1)).dtype!==e.dtype&&(t=r8(t,e.dtype)),r8(iL(e,t),"float32")}let uk={binaryAccuracy:uy,categoricalAccuracy:uw,precision:function(e,t){return rA(()=>{let a=rA(()=>r8(iH(i4(iL(e,1),iL(t,1))),"float32")),r=r7(a,rA(()=>r8(iH(i4(iL(e,0),iL(t,1))),"float32")));return r8(sO(iV(r,0),nt(a,r),0),"float32")})},categoricalCrossentropy:uc,sparseCategoricalCrossentropy:um,mse:ud,MSE:ud,mae:uu,MAE:uu,mape:uh,MAPE:uh,cosine:ug};function uS(e){if(pN(null!==e,`Unknown LossOrMetricFn ${e}`),"string"==typeof e)return e;{let t;for(let a of Object.keys(uv))if(uv[a]===e){t=a;break}if(void 0!==t)return t;for(let a of Object.keys(uk))if(uk[a]===e){t=a;break}return void 0!==t?t:e.name}}function uI(e,t,a=!1){if(null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!function e(t){if(null===t)return!0;if("object"==typeof t){if(Object.getPrototypeOf(t)===Object.prototype){for(let a of Object.keys(t))if("string"!=typeof a||!e(t[a]))return!1;return!0}if(!Array.isArray(t))return!1;for(let a of t)if(!e(a))return!1;return!0}{let e=typeof t;return"string"===e||"number"===e||"boolean"===e}}(e))throw Error("User-defined metadata is expected to be a JSON object, but is not.");if(a){let a=JSON.stringify(e);a.length>1048576&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${a.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function uC(e,t,a=console.log){let r="";for(let a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r+=e[a],r=r.slice(0,t[a]),r+=" ".repeat(t[a]-r.length);a(r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function uT(e,t,a){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof a}/** @license See the LICENSE file. */let uA="4.22.0",u_=e=>{let t=Object.keys(e);if(0===t.length)return!1;let a=t[0].split("/");return!isNaN(parseInt(a[a.length-1],10))};class uE extends dG{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){let e=this.getClassName().toLowerCase();this.name=pB(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],pR(this.inputs).length!==this.inputs.length)throw new pv(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(e=>e.name)}`);for(let e of(pR(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(e=>e.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[],this.outputs)){let t=e.sourceLayer,a=e.nodeIndex,r=e.tensorIndex;this.outputLayers.push(t),this.outputLayersNodeIndices.push(a),this.outputLayersTensorIndices.push(r)}for(let e of this.inputs){let t=e.sourceLayer,a=e.nodeIndex,r=e.tensorIndex;pN(0===a,"input layer has >1 nodes"),pN(0===r,"input layer has >1 tensors"),this.inputLayers.push(t),this.inputLayersNodeIndices.push(a),this.inputLayersTensorIndices.push(r)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let t=0;t<this.inputLayers.length;t++){let a=this.inputLayers[t];if(!(a instanceof dH))throw TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${t} (0-based) originates from layer type ${a.getClassName()}.`);this.inputNames.push(a.name),this.feedInputShapes.push(a.batchInputShape),this.feedInputNames.push(a.name)}for(let e of this.outputLayers)this.outputNames.push(e.name);this.internalInputShapes=this.inputs.map(e=>e.shape),this.internalOutputShapes=this.outputs.map(e=>e.shape);let t={},a={},r={},n={},i={},s=[],o=(e,t,a,r,n,l)=>{(null==r||null==n||null==l)&&(r=e.sourceLayer,n=e.nodeIndex,l=e.tensorIndex);let p=r.inboundNodes[n];if(-1!==a.indexOf(p))throw new pg(`The tensor ${e.name} at layer "${r.name}" is part of a cycle.`);if(-1!==t.indexOf(p))return;this.containerNodes.add(uE.nodeKey(r,n)),r.id in i||(i[r.id]=Object.keys(i).length),-1===a.indexOf(p)&&a.push(p);let d=p.inboundLayers.length;for(let e=0;e<d;e++){let r=p.inputTensors[e];o(r,t,a,p.inboundLayers[e],p.nodeIndices[e],p.tensorIndices[e])}for(t.push(p);a.indexOf(p)>=0;)a.splice(a.indexOf(p),1);s.push(p)},l=[],p=[];for(let e of this.outputs)o(e,l,p);for(let e of s.slice().reverse()){a[e.id]=e,e.id in t||(t[e.id]=0);let i=t[e.id];i=Math.max(i,null==r[e.outboundLayer.id]?0:r[e.outboundLayer.id]),r[e.outboundLayer.id]=i,n[e.outboundLayer.id]=e.outboundLayer,t[e.id]=i;for(let r=0;r<e.inboundLayers.length;r++){let n=e.inboundLayers[r],s=e.nodeIndices[r],o=n.inboundNodes[s],l=null==t[o.id]?0:t[o.id];t[o.id]=Math.max(i+1,l),a[o.id]=o}}let d={};for(let e in t){let r=t[e];r in d||(d[r]=[]),d[r].push(a[e])}let u={};for(let e in r){let t=r[e];t in u||(u[t]=[]),u[t].push(n[e])}let h=Object.keys(u).map(e=>parseInt(e,10)).sort(p$);for(let e of(this.layers=[],h)){let t=u[e];for(let e of(t.sort((e,t)=>{let a=i[e.id],r=i[t.id];return a<r?-1:a>r?1:0}),t))e instanceof uE&&this.internalContainerRefs.push(e),this.layers.push(e)}this.layersByDepth=u,h=Object.keys(d).map(e=>parseInt(e,10)).sort(p$);let c=this.inputs.slice(),m=[];for(let e of h)for(let t of d[e]){let e=t.outboundLayer;if(null!=e){for(let a of t.inputTensors)if(-1===c.indexOf(a))throw new pg(`Graph disconnected: cannot obtain value for tensor ${a} at layer "${e.name}". The following previous layers were accessed without issue: ${m}`);for(let e of t.outputTensors)c.push(e);m.push(e.name)}}this.nodesByDepth=d;let f=this.layers.map(e=>e.name);for(let e of f){let t=f.filter(t=>t===e).length;if(1!==t)throw new pg(`The name "${e}" is used ${t} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(f))}this.outboundNodes=[],this.inboundNodes=[],new dW({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(e=>null),outputMasks:this.outputs.map(e=>null),inputShapes:this.inputs.map(e=>e.shape),outputShapes:this.outputs.map(e=>e.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();let e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(let t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(let t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(t=>{t._trainableWeights.forEach(t=>t.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new pv("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(let t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){let e=[];for(let t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){let t=[];for(let e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,t=!0){let a={},r=0,n=u_(e);for(let t of(n&&this.parseWeights(e),this.layers))for(let[e,i]of t.weights.entries()){let t=n?`${i.name.split("/").slice(0,-1).join("/")+"/"}${e}`:i.originalName;if(null!=a[t])throw new pv(`Duplicate weight name: ${t}`);a[t]=i,r++}let i=[];for(let r in e){let n=r;if(null==a[r]){let e=r.split("/");n=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=a[n])i.push([a[n],e[r]]);else if(t)throw new pv(`Provided weight data has no target variable: ${r}`);delete a[n]}if(t){let e=[];for(let t in a)e.push(t);if(e.length>0)throw new pv(`${e.length} of ${r} weights are not set: ${e}`)}dz(i)}parseWeights(e){for(let t in Object.keys(e)){let a=t.split("/"),r=["vars","layer_checkpoint_dependencies"],n=a.map(e=>e.startsWith("_")?e.slice(1):e).filter(e=>!r.includes(e)).join("/");n!==t&&(e[n]=e[t],delete e[t])}}updatedConfig(){let e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=`tfjs-layers ${uA}`,t.backend="TensorFlow.js",t}toJSON(e,t=!0){let a=function e(t,a){if(null==t)return null;if("string"==typeof t)return pC(t);if("number"==typeof t||"boolean"==typeof t)return t;if(t instanceof Array){let r=[],n=t.length;for(let i=0;i<n;++i){let n=t[i];uT(a,i,n)?r.push(n):r.push(e(n,a))}return r}{let a={};for(let r of Object.keys(t)){let n=t[r],i=pC(r);("name"===r||"className"===r)&&"string"==typeof n?a[i]=n:a[i]=e(n,r)}return a}}(this.updatedConfig());return t?JSON.stringify(a):a}call(e,t){return rA(()=>{e=pI(e);let a=new dK;for(let t=0;t<this.inputs.length;++t)a.add(this.inputs[t],e[t]);return dJ(this.outputs,a,t)})}computeMask(e,t){return rA(()=>{let a;return e=pI(e),a=null==t?px(null,e.length):pI(t),this.runInternalGraph(e,a)[1]})}computeOutputShape(e){let t=dL(e);if(t.length!==this.inputLayers.length)throw new pv(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);let a={};for(let e=0;e<t.length;e++){let r=this.inputLayers[e],n=t[e];a[r.name+"_0_0"]=n}let r=Object.keys(this.nodesByDepth).map(e=>parseInt(e,10)).sort(p$);if(r.length>1)for(let e of r)for(let t of this.nodesByDepth[e]){let e=t.outboundLayer;if(-1!==this.inputLayers.map(e=>e.id).indexOf(e.id))continue;let r=[];for(let e=0;e<t.inboundLayers.length;e++){let n=t.inboundLayers[e],i=t.nodeIndices[e],s=t.tensorIndices[e],o=a[`${n.name}_${i}_${s}`];r.push(o)}let n=dL(e.computeOutputShape(pS(r))),i=e.inboundNodes.indexOf(t);for(let t=0;t<n.length;t++)a[`${e.name}_${i}_${t}`]=n[t]}let n=[],i=[];for(let e=0;e<this.outputLayers.length;e++){let t=this.outputLayers[e],a=this.outputLayersNodeIndices[e],r=this.outputLayersTensorIndices[e],n=`${t.name}_${a}_${r}`;i.push(n)}for(let e=0;e<i.length;e++){let t=i[e];pN(t in a),n.push(a[t])}return pS(n)}runInternalGraph(e,t){null==t&&(t=px(null,e.length));let a={};for(let r=0;r<this.inputs.length;++r){let n=this.inputs[r],i=e[r],s=t[r];a[n.id]=[i,s]}for(let e of Object.keys(this.nodesByDepth).map(e=>parseInt(e,10)).sort(p$))for(let t of this.nodesByDepth[e]){let e=t.outboundLayer,r=t.inputTensors,n=t.outputTensors,i=[];for(let e of r)e.id in a&&i.push(a[e.id]);if(i.length===r.length){let r,s,o,l,p={};if(null!=t.callArgs&&(p=t.callArgs),1===i.length){let[t,a]=i[0];null==p.mask&&(p.mask=a),o=pI(e.call(t,p)),l=pI(e.computeMask(t,a)),r=[t],s=[a]}else r=i.map(e=>e[0]),s=i.map(e=>e[1]),null==p.mask&&(p.mask=s),o=pI(e.call(r,p)),l=pI(e.computeMask(r,s));if(e.activityRegularizer)throw new pb("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<n.length;++e){let t=n[e],r=o[e],i=l[e];a[t.id]=[r,i]}}}let r=[],n=[],i=[];for(let e of this.outputs){pN(e.id in a,`Could not compute output ${e.name} : ${e.id}`);let[t,s]=a[e.id];i.push(t.shape),r.push(t),n.push(s)}return[r,n,i]}buildNodeConversionMap(e){let t;let a={};for(let e of this.layers){t=e instanceof uE?1:0;for(let r=0;r<e.inboundNodes.length;r++){let n=uE.nodeKey(e,r);this.containerNodes.has(n)&&(a[n]=t,t+=1)}}return a}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new pv("Provide either a layer name or layer index");if("number"==typeof e)return this.findLayer(e);for(let t of this.layers)if(t.name===e)return t;throw new pv(`No such layer: ${e}`)}findLayer(e){if(!(this.layers.length<=e))return this.layers[e];throw new pv(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`)}calculateLosses(){return rA(()=>{let e=[];for(let t of this.layers)for(let a=0;a<t.inboundNodes.length;++a){let r=uE.nodeKey(t,a);this.containerNodes.has(r)&&e.push(...t.calculateLosses())}return e})}getConfig(){let e={name:this.name},t=this.buildNodeConversionMap(this.layers),a=[];for(let e of this.layers){let r=e.getClassName(),n=e.getConfig(),i=[];for(let a=0;a<e.inboundNodes.length;a++){let r=e.inboundNodes[a],n=uE.nodeKey(e,a),s={};if(this.containerNodes.has(n)){if(r.callArgs)try{JSON.stringify(r.callArgs),s=r.callArgs}catch(t){console.warn(`Layer ${e.name} was passed non-serializable keyword arguments: ${r.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),s={}}if(r.inboundLayers.length>0){let e=[];for(let a=0;a<r.inboundLayers.length;a++){let n=r.inboundLayers[a],i=r.nodeIndices[a],o=r.tensorIndices[a],l=t[uE.nodeKey(n,i)];null==l&&(l=0),e.push([n.name,l,o,s])}i.push(e)}}}let s={};s.name=e.name,s.className=r,s.config=n,s.inboundNodes=i,a.push(s)}e.layers=a;let r=[];for(let e=0;e<this.inputLayers.length;e++){let a=this.inputLayers[e],n=this.inputLayersNodeIndices[e],i=uE.nodeKey(a,n);if(!this.containerNodes.has(i))continue;let s=t[i];null==s&&(s=0);let o=this.inputLayersTensorIndices[e];r.push([a.name,s,o])}e.inputLayers=r;let n=[];for(let e=0;e<this.outputLayers.length;e++){let a=this.outputLayers[e],r=this.outputLayersNodeIndices[e],i=uE.nodeKey(a,r);if(!this.containerNodes.has(i))continue;let s=t[i];null==s&&(s=0);let o=this.outputLayersTensorIndices[e];n.push([a.name,s,o])}return e.outputLayers=n,e}static fromConfig(e,t,a={},r=!1){let n={},i={};function s(e,t){e.name in i?i[e.name].push(t):i[e.name]=[t]}let o=t.name,l=t.layers;for(let e of l)!function(e){let a=e.name,i=ul(e,null!=t.customObjects?t.customObjects:{});i.setFastWeightInitDuringBuild(r),n[a]=i,e.inboundNodes.forEach(e=>{if(!(e instanceof Array))throw new pv(`Corrupted configuration, expected array for nodeData: ${e}`);s(i,e)})}(e);for(;!function(e){if(null==e)throw new pv(`Invalid value in obj: ${JSON.stringify(e)}`);for(let t in e)if(e.hasOwnProperty(t))return!1;return!0}(i);)for(let e of l){let t=n[e.name];if(t.name in i){let e=i[t.name];for(let a of(delete i[t.name],e))!function(e,t){let a;let r=[];for(let i of t){let o=i[0],l=i[1],p=i[2];if(a=null==i[3]?{}:i[3],!(o in n)){s(e,t);return}let d=n[o];if(d.inboundNodes.length<=l){s(e,t);return}let u=d.inboundNodes[l];r.push(u.outputTensors[p])}r.length>0&&e.apply(pS(r),a)}(t,a)}}let p=[],d=[];for(let e of t.inputLayers){let t=e[0],a=e[1],r=e[2];pN(t in n);let i=n[t].inboundNodes[a].outputTensors;p.push(i[r])}for(let e of t.outputLayers){let t=e[0],a=e[1],r=e[2];pN(t in n);let i=n[t].inboundNodes[a].outputTensors;d.push(i[r])}return new e({inputs:p,outputs:d,name:o})}get stateful(){if(this._stateful)throw new pv("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(let e of this.layers)if(e.stateful)return!0;return!1}resetStates(){rA(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}function u$(e,t){return(/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function(e,t,a){let r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map(e=>null);if(1===r)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw Error(`Provided ${a} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){let a=[];return t.forEach(t=>{t in e?a.push(e[t]):a.push(null)}),a}throw Error(`The model has multiple (${r}) outputs, so ${a} must be either an array with ${r} elements or an object with ${t} keys. Provided ${a} not understood: ${JSON.stringify(e)}`)}(e,t,"classWeight"))}async function uR(e,t,a,r){if(null!=t||null!=r)throw Error("Support sampleWeight is not implemented yet");if(null==a)return null;{let t=rA(()=>{if(1===e.shape.length)return r9(e);if(2===e.shape.length){if(e.shape[1]>1)return n2(e,1);if(1===e.shape[1])return il(e,[e.shape[0]]);throw Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),r=Array.from(await t.data());r_(t);let n=[];return r.forEach(e=>{if(null==a[e])throw Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);n.push(a[e])}),sR(n,"float32")}}function uL(e,t){let a,r;a=t.xs,r=t.ys,S(null!=a&&null!=r,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`);let n=uD("input",e.inputNames,a),i=uD("output",e.outputNames,r),s=n[0].shape[0];S(n.length===e.inputs.length,()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${n.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`),S(i.length===e.outputs.length,()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${i.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`);for(let t=0;t<n.length;t++)S(n[t].shape[0]===s,()=>`Batch size mismatch: input ${e.inputNames[t]} has ${n[t].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`);for(let t=0;t<i.length;t++)S(i[t].shape[0]===s,()=>`Batch size mismatch: output ${e.outputNames[t]} has ${i[t].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`);return{xs:n,ys:i}}function uD(e,t,a){if(a instanceof a9)return[a];if(Array.isArray(a))return S(a.length===t.length,()=>`Received an array of ${a.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`),a;{let r=[];for(let n of t){if(null==a[n])throw new pv(`The feature data generated by the dataset lacks the required ${e} key '${n}'.`);r.push(a[n])}return r}}async function uF(e,t,a){let r=null!=a.batchesPerEpoch;if(S(null!=e.optimizer,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),S(null!=a,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),S(null!=a.epochs&&a.epochs>0&&Number.isInteger(a.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${a.epochs}`),S(!r||a.batchesPerEpoch>0&&Number.isInteger(a.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${a.batchesPerEpoch}`),S(null==a.validationSplit,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),e.isTraining)throw Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{let n,i,s,o;let l=null!=a.validationData;if(l){if(uO(a.validationData))S(null==a.validationBatches||a.validationBatches>0&&Number.isInteger(a.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${a.validationBatches}`);else{let e=function(e){if(3===e.length)throw new pb("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(a.validationData);n=e.xs,i=e.ys}}let p=e.makeTrainFunction(),d=e.getDedupedMetricsNames();s=l?d.slice().concat(d.map(e=>"val_"+e)):d.slice();let u=ui(a.callbacks,a.yieldEvery),h=null==a.verbose?1:a.verbose,{callbackList:c,history:m}=uo(u,h,a.epochs,null,null,(o=null,null!=a.batchesPerEpoch?o=a.batchesPerEpoch:Number.isFinite(t.size)&&(o=t.size),o),null,l,s);c.setModel(e),e.history=m,await c.onTrainBegin(),e.stopTraining_=!1;let f=null==a.initialEpoch?0:a.initialEpoch,g=await t.iterator();for(;f<a.epochs;){let s={};await c.onEpochBegin(f);let o=0,u=0;for(r||(g=await t.iterator());!r||o<a.batchesPerEpoch;){let t=await g.next();if(r&&t.done){console.warn(`You provided \`batchesPerEpoch\` as ${a.batchesPerEpoch}, but your dataset iterator ran out of data after ${o} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${a.batchesPerEpoch*a.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(null!=t.value){let{xs:r,ys:n}=uL(e,t.value),i={};i.batch=u,i.size=r[0].shape[0],await c.onBatchBegin(u,i);let s=[];if(null!=a.classWeight){let t=u$(a.classWeight,e.outputNames);for(let e=0;e<t.length;++e)s.push(await uR(n[e],null,t[e]))}let l=r.concat(n).concat(s),h=p(l);r_(l);for(let e=0;e<d.length;++e){let t=d[e],a=h[e];i[t]=a,rE(a)}await c.onBatchEnd(u,i),d7(i),u++,o++}if(r?o>=a.batchesPerEpoch:t.done){if(l){let t;t=uO(a.validationData)?pI(await e.evaluateDataset(a.validationData,{batches:a.validationBatches})):pI(e.evaluate(n,i,{batchSize:null==a.validationBatchSize?32:a.validationBatchSize,verbose:0}));for(let a=0;a<e.metricsNames.length;++a)s[`val_${e.metricsNames[a]}`]=t[a]}break}if(e.stopTraining_)break}if(await c.onEpochEnd(f,s),f++,e.stopTraining_)break}return await c.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function uO(e){return"function"==typeof e.iterator}async function uP(e,t,a){let r=null!=(a=a||{}).batches,n=e.testFunction,i=[];if(a.verbose>0)throw new pb("Verbose mode is not implemented yet.");S(!r||a.batches>0&&Number.isInteger(a.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(a.batches)}`);let s="function"==typeof t.next?t:await t.iterator(),o=0,l=0;for(;!r||l<a.batches;){let t=await s.next();if(i=rA(()=>{if(t.value){let{xs:a,ys:r}=uL(e,t.value),s=a.concat(r),p=rA(()=>n(s));if(r_(s),0===l)for(let e=0;e<p.length;++e)i.push(no(0));let d=s[0].shape[0];for(let e=0;e<p.length;++e){let t=p[e],a=i[e];i[e]=rA(()=>r7(i[e],na(d,t))),l>0&&r_(a)}r_(p),o+=d,++l}return i}),t.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${a.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let e=0;e<i.length;++e){let t=i[e];i[e]=nt(i[e],o),r_(t)}return pS(i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function uM(e){S(e>0&&Number.isInteger(e),()=>`batchSize is required to be a positive integer, but got ${e}`)}function uB(e,t,a){return null==e?[null]:Array.isArray(e)?e.map(e=>p9(e,t,a-t)):p9(e,t,a-t)}function uz(e,t){return rA(()=>null==e?null:Array.isArray(e)?e.map(e=>uz(e,t)):ds(e,"int32"===t.dtype?t:r8(t,"int32")))}function uV(e,t){let a=[],r=0,n=null;for(;r<e;)(n=r+t)>=e&&(n=e),a.push([r,n]),r=n;return a}function uU(e){let t=[];e instanceof a9&&(e=[e]);for(let a=0;a<e.length;++a){let r=e[a];if(1===r.rank)t.push(p8(r,1));else if(0===r.rank)throw Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");else t.push(r)}return t}function uj(e,t){if(null==e)return;let a=[];if(t instanceof a9)a.push(t.id);else if(Array.isArray(t))t.forEach(e=>a.push(e.id));else if(null!=t)for(let e in t){let r=t[e];a.push(r.id)}let r=[];if(e instanceof a9)-1===a.indexOf(e.id)&&r.push(e);else if(Array.isArray(e))e.forEach(e=>{-1===a.indexOf(e.id)&&r.push(e)});else if(null!=e)for(let t in e){let n=e[t];-1===a.indexOf(n.id)&&r.push(n)}r.forEach(e=>{e.isDisposed||e.dispose()})}function uW(e){return Array.isArray(e)}function uq(e){return!(e instanceof a9)&&!uW(e)}function uG(e,t,a,r=!0,n=""){let i;if(null==t||0===t.length){if(null!=e){let t=!1;if(uW(e)&&e.length>0)t=!0;else if(uq(e)){for(let a in e)if(e.hasOwnProperty(a)){t=!0;break}}else t=!0;if(t)throw new pv(`Error when checking model ${n} expected no data, but got ${e}`)}return[]}if(null==e)return t.map(e=>null);if(uq(e))for(let a of(i=[],t)){if(null==e[a])throw new pv(`No data provided for "${a}". Need data for each key in: ${t}`);i.push(e[a])}else if(uW(e)){if(e.length!==t.length)throw new pv(`Error when checking model ${n}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);i=e}else{if(t.length>1)throw new pv(`The model ${n} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);i=[e]}if(i=uU(i),null!=a)for(let e=0;e<t.length;++e){if(null==a[e])continue;let s=i[e];if(s.shape.length!==a[e].length)throw new pv(`Error when checking ${n}: expected ${t[e]} to have ${a[e].length} dimension(s). but got array with shape ${s.shape}`);for(let t=0;t<a[e].length;++t){if(0===t&&!r)continue;let i=s.shape[t],o=a[e][t];if(null!=o&&o>=0&&i!==o)throw new pv(`${n} expected a batch of elements where each example has shape [${a[e].slice(1,a[e].length)}] (i.e.,tensor shape [*,${a[e].slice(1,a[e].length)}]) but the ${n} received an input with ${s.shape[0]} examples, each with shape [${s.shape.slice(1,s.shape.length)}] (tensor shape [${s.shape}])`)}}return i}function uH(e,t,a,r=!0,n=""){let i;if(Array.isArray(e)){if(e.length!==t.length)throw new pv(`Error when checking model ${n}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);i=e}else{if(t.length>1)throw new pv(`The model expects ${t.length} ${n} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);i=[e]}if(null!=a)for(let e=0;e<t.length;++e){if(null==a[e])continue;let s=i[e];if(s.shape.length!==a[e].length)throw new pv(`Error when checking ${n}: expected ${t[e]} to have ${a[e].length} dimension(s), but got array with shape ${JSON.stringify(s.shape)}`);for(let i=0;i<a[e].length;++i){if(0===i&&!r)continue;let o=s.shape[i],l=a[e][i];if(null!=l&&l!==o)throw new pv(`Error when checking ${n}: expected ${t[e]} to have shape ${JSON.stringify(a[e])} but got array with shape ${JSON.stringify(s.shape)}.`)}}}class uK extends uE{constructor(e){super(e),this.isTraining=!1}summary(e,t,a=console.log){if(!this.built)throw new pv("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");!/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function(e,t,a,r=console.log){let n;let i=function(e){let t=!0,a=[],r=[];for(let t in e.nodesByDepth)a.push(e.nodesByDepth[t]);for(let e of a){if(e.length>1||1===e.length&&e[0].inboundLayers.length>1){t=!1;break}r.push(...e)}if(t)for(let a of e.layers){let e=!1;for(let n of a.inboundNodes)if(-1!==r.indexOf(n)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),s=["Layer (type)","Input Shape","Output shape","Param #"];if(i?(t=t||90,a=a||[.32,.61,.89,1]):(t=t||115,a=a||[.24,.48,.7,.8,1]),a[a.length-1]<=1&&(a=a.map(e=>Math.floor(t*e))),!i)for(let t in s.push("Receives inputs"),n=[],e.nodesByDepth)n.push(...e.nodesByDepth[t]);r("_".repeat(t)),uC(s,a,r),r("=".repeat(t));let o=e.layers;for(let e=0;e<o.length;++e)i?function(e,t,a){let r,n;try{n=e.inboundNodes.map(e=>JSON.stringify(e.inputShapes)).join(",")}catch(e){n="multiple"}try{r=JSON.stringify(e.outputShape)}catch(e){r="multiple"}let i=e.name,s=e.getClassName();uC([`${i} (${s})`,n,r,e.countParams().toString()],t,a)}(o[e],a,r):function(e,t,a,r){let n,i;try{i=e.inboundNodes.map(e=>JSON.stringify(e.inputShapes)).join(",")}catch(e){i="multiple"}try{n=JSON.stringify(e.outputShape)}catch(e){n="multiple"}let s=[];for(let t of e.inboundNodes)if(null==a||!(a.length>0)||-1!==a.indexOf(t))for(let e=0;e<t.inboundLayers.length;++e){let a=t.inboundLayers[e].name,r=t.nodeIndices[e],n=t.tensorIndices[e];s.push(`${a}[${r}][${n}]`)}let o=e.name,l=e.getClassName(),p=0===s.length?"":s[0];uC([`${o} (${l})`,i,n,e.countParams().toString(),p],t,r);for(let e=1;e<s.length;++e)uC(["","","","",s[e]],t,r)}(o[e],a,n,r),r((e===o.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();let l=null!=e.collectedTrainableWeights?dO(e.collectedTrainableWeights):dO(e.trainableWeights),p=dO(e.nonTrainableWeights);r(`Total params: ${l+p}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${p}`),r("_".repeat(t))}(this,e,t,a)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function(e){let t={Adagrad:()=>ok.adagrad(.01),Adadelta:()=>ok.adadelta(1,.95,p3()),Adam:()=>ok.adam(.001,.9,.999,p3()),Adamax:()=>ok.adamax(.002,.9,.999,p3(),0),RMSProp:()=>ok.rmsprop(.001,.9,0,p3()),SGD:()=>ok.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new pv(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof nc))throw new pv("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss){if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new pv(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);t=e.loss.map(e=>ub(e))}else{let a=ub(e.loss);this.outputs.forEach(e=>{t.push(a)})}}else{for(let t in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(t))throw new pv(`Unknown entry in loss dictionary: "${t}". Only expected the following keys: ${this.outputNames}`);for(let a of this.outputNames)null==e.loss[a]&&console.warn(`Output "${a}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${a} during training`),t.push(ub(e.loss[a]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let e=0;e<this.outputs.length;++e){let t=this.internalOutputShapes[e],a=this.outputNames[e];this.feedOutputNames.push(a),this.feedOutputShapes.push(t),this.feedLossFns.push(this.lossFunctions[e])}let a=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],pY("loss",()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==a.indexOf(e))continue;let t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}});let r=function(e,t){let a;if(null==e||Array.isArray(e)&&0===e.length)return t.map(e=>[]);if("string"==typeof e||"function"==typeof e)a=[e];else if(Array.isArray(e)||"object"==typeof e)a=e;else throw TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);if(Array.isArray(a))return t.map(e=>a);{let e=[];for(let r of t){let t=a.hasOwnProperty(r)?a[r]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),n=(e,t,a)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([a,e])};pY("metric",()=>{for(let e=0;e<this.outputs.length;++e)-1===a.indexOf(e)&&(t=>{let a,r,i;for(let s of t){let t;if("string"==typeof s&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(s)){let t;let n=this.internalOutputShapes[e];1===n[n.length-1]||this.lossFunctions[e]===uf?-1!==["accuracy","acc"].indexOf(s)?r=uy:-1!==["crossentropy","ce"].indexOf(s)&&(r=ux):this.lossFunctions[e]===um?-1!==["accuracy","acc"].indexOf(s)?r=uN:-1!==["crossentropy","ce"].indexOf(s)&&(r=um):-1!==["accuracy","acc"].indexOf(s)?r=uw:-1!==["crossentropy","ce"].indexOf(s)&&(r=uc),-1!==["accuracy","acc"].indexOf(s)?t="acc":-1!==["crossentropy","ce"].indexOf(s)&&(t="ce"),i=r,a=""+t}else i=function(e){if("string"==typeof e&&e in uk)return uk[e];if("string"!=typeof e&&null!=e)return e;throw new pv(`Unknown metric ${e}`)}(s),a=""+uS(s);pY(a,()=>{t=i}),n(e,a,t)}})(r[e])}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t,a={}){let r=null==a.batchSize?32:a.batchSize;uM(r);let n=this.standardizeUserDataXY(e,t,!0,r);try{let e=n[0].concat(n[1]);this.makeTestFunction();let t=this.testFunction,i=this.testLoop(t,e,r,a.verbose,a.steps);return pS(i)}finally{uj(n[0],e),uj(n[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),uP(this,e,t)}checkNumSamples(e,t,a,r="steps"){let n;if(null!=a){if(n=null,null!=t)throw new pv(`If ${r} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else if(null!=e)n=Array.isArray(e)?e[0].shape[0]:e.shape[0];else throw new pv(`Either the input data should have a defined shape, or ${r} shoud be specified.`);return n}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new pv("`outputs` is an empty Array, which is not allowed.");let a=Array.isArray(t),r=this.retrieveSymbolicTensors(a?t:[t]),n=new dK;if(e instanceof a9&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new pv(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t])}else for(let t of this.inputs){let a=e[t.name];if(null==a)throw new pv(`No value is provided for the model's input ${t.name}`);n.add(t,a)}let i=dJ(r,n);return a?i:i[0]}retrieveSymbolicTensors(e){let t=px(null,e.length),a=e.length;for(let r of this.layers){let n=Array.isArray(r.output)?r.output:[r.output],i=n.map(e=>e.name);for(let r=0;r<e.length;++r){let s=i.indexOf(e[r]);if(-1!==s&&(t[r]=n[s],a--),0===a)break}if(0===a)break}if(a>0){let a=[];throw t.forEach((t,r)=>{null==t&&a.push(e[r])}),new pv(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(a)}`)}return t}predictLoop(e,t=32,a=!1){return rA(()=>{let r=this.checkNumSamples(e);if(a)throw new pb("Verbose predictLoop() is not implemented yet.");let n=uV(r,t),i=this.outputs.map(e=>[]);for(let t=0;t<n.length;++t)rA(()=>{let a=uB(e,n[t][0],n[t][1]),r=[];if(Array.isArray(a))for(let e=0;e<a.length;++e)r.push({key:this.inputs[e],value:a[e]});else r.push({key:this.inputs[0],value:a});let i=new dK(r);return dJ(this.outputs,i)}).forEach((e,t)=>i[t].push(e));return pS(i.map(e=>ib(e,0)))})}predict(e,t={}){let a=uU(e);uH(a,this.inputNames,this.feedInputShapes,!1);try{let e=null==t.batchSize?32:t.batchSize;return uM(e),this.predictLoop(a,e)}finally{uj(a,e)}}predictOnBatch(e){uH(e,this.inputNames,this.feedInputShapes,!0);let t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t,a=!0,r){if(null==this.optimizer_)throw new pg("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");let n=[];for(let e=0;e<this.feedOutputShapes.length;++e){let t=this.feedOutputShapes[e];this.feedLossFns[e]===um?n.push(t.slice(0,t.length-1).concat([1])):n.push(t)}if(e=uG(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=uG(t,this.feedOutputNames,n,!1,"target"),function(e,t,a){let r=pR(e.map(e=>e.shape[0]));r.sort();let n=pR(t.map(e=>e.shape[0]));if(n.sort(),r.length>1)throw new pv(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(e=>e.shape))}`);if(n.length>1)throw new pv(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(e=>e.shape))}`);if(r.length>0&&n.length>0&&!A(r,n))throw new pv(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${n[0]} target sample(s).`)}(e,t,0),function(e,t,a){let r=[ud,uf,uc];for(let n=0;n<e.length;++n){let i=e[n],s=t[n],o=a[n];if(null!=s){if(s===uc&&1===i.shape[i.shape.length-1])throw new pv(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==r.indexOf(s)){let e=i.shape.slice(1),t=o.slice(1);for(let a=0;a<e.length;++a){let r=e[a],n=t[a];if(null!=n&&r!==n)throw new pv(`A target Tensor with shape ${i.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&e[0].shape[0]%r!=0)throw new pv(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${r}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,a,r,n=!0,i){let[s,o]=this.standardizeUserDataXY(e,t,n,i);if(null!=a)throw Error("sample weight is not supported yet.");let l=null;if(null!=r){let e=u$(r,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await uR(o[t],null,e[t]))}return[s,o,l]}testLoop(e,t,a,r=0,n){return rA(()=>{let i=this.checkNumSamples(t,a,n,"steps"),s=[];if(r>0)throw new pb("Verbose mode is not implemented yet.");if(null!=n)throw new pb("steps mode in testLoop() is not implemented yet");{let r=uV(i,a),n=sR(p4(0,i));for(let a=0;a<r.length;++a){let i=r[a][0],o=r[a][1],l=e(uz(t,p9(n,i,o-i)));if(0===a)for(let e=0;e<l.length;++e)s.push(no(0));for(let e=0;e<l.length;++e){let t=l[e];s[e]=r7(s[e],na(o-i,t))}}for(let e=0;e<s.length;++e)s[e]=nt(s[e],i)}return s})}getDedupedMetricsNames(){let e=this.metricsNames,t=[];for(let a=0;a<e.length;++a){let r=e[a],n=r;if(pk(e,r)>1){let t=pk(e.slice(0,a),r);n+=`_${t}`}t.push(n)}return t}makeTrainFunction(){return e=>{let t=[],a=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),n=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),i=[],s=this.collectedTrainableWeights.map(e=>e.read());return[this.optimizer_.minimize(()=>{let e;let s=[];for(let e=0;e<this.inputs.length;++e)s.push({key:this.inputs[e],value:a[e]});let o=new dK(s),l=dJ(this.outputs,o,{training:!0});for(let a=0;a<this.lossFunctions.length;++a){let i=(0,this.lossFunctions[a])(r[a],l[a]);null!=n[a]&&(i=na(i,n[a]));let s=i9(i);t.push(s),e=0===a?i:r7(e,i)}for(let e=0;e<this.metricsTensors.length;++e){let a;if(this.outputs.length>1&&e<this.outputs.length)a=t[e];else{let t=this.metricsTensors[e][0],n=this.metricsTensors[e][1];a=i9(t(r[n],l[n]))}rE(a),i.push(a)}return e=i9(e),this.calculateLosses().forEach(t=>{e=r7(e,t)}),e},!0,s)].concat(i)}}makeTestFunction(){this.testFunction=e=>rA(()=>{let t;let a=[],r=e.slice(0,this.inputs.length),n=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=[];for(let e=0;e<this.inputs.length;++e)i.push({key:this.inputs[e],value:r[e]});let s=new dK(i),o=dJ(this.outputs,s);for(let e=0;e<this.lossFunctions.length;++e){let r=i9((0,this.lossFunctions[e])(n[e],o[e]));t=0===e?r:r7(t,r),a.push(t)}for(let e=0;e<this.metricsTensors.length;++e){let t=this.metricsTensors[e][0],r=this.metricsTensors[e][1],i=i9(t(n[r],o[r]));a.push(i)}return a})}async fit(e,t,a={}){let r,n,i,s,o,l,p,d,u;if(this.isTraining)throw Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;try{let h,c,m;let f=null==a.batchSize?32:a.batchSize;uM(f);let g=await this.standardizeUserData(e,t,a.sampleWeight,a.classWeight,!1,f);r=g[0],n=g[1],u=g[2];let v=!1;if(null!=a.validationData&&a.validationData.length>0){if(v=!0,2===a.validationData.length)o=a.validationData[0],l=a.validationData[1];else if(3===a.validationData.length)throw new pb("validationData including sample weights is not supported yet.");else throw new pv(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${a.validationData} is invalid.`);let e=await this.standardizeUserData(o,l,null,null,!0,f);p=e[0],d=e[1],h=p.concat(d)}else if(null!=a.validationSplit&&a.validationSplit>0&&a.validationSplit<1){v=!0;let e=Math.floor(r[0].shape[0]*(1-a.validationSplit)),t=r[0].shape[0];p=uB(r,e,t),i=r,r=uB(r,0,e),d=uB(n,e,t),s=n,n=uB(n,0,e),h=p.concat(d)}else null!=a.validationSteps&&(v=!0);let b=r.concat(n).concat(u);this.checkTrainableWeightsConsistency();let y=this.makeTrainFunction(),w=this.getDedupedMetricsNames();v?(this.makeTestFunction(),c=this.testFunction,m=w.slice().concat(w.map(e=>"val_"+e))):(c=null,h=[],m=w.slice());let x=ui(a.callbacks,a.yieldEvery);return await this.fitLoop(y,b,w,f,a.epochs,a.verbose,x,c,h,a.shuffle,m,a.initialEpoch,null,null)}finally{this.isTraining=!1,uj(r,e),uj(n,t),uj(i,e),uj(s,t),uj(p,o),uj(d,l),null!=u&&r_(u)}}async fitLoop(e,t,a,r,n,i,s,o,l,p,d,u,h,c){let m;null==r&&(r=32),null==n&&(n=1),null==p&&(p=!0),null==u&&(u=0);let f=!1;if(null!=o&&null!=l&&(f=!0),null!=c&&(f=!0,null==h))throw new pv("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");let g=this.checkNumSamples(t,r,h,"steps_per_epoch");null!=g&&(m=p4(0,g)),null==i&&(i=1);let{callbackList:v,history:b}=uo(s,i,n,u,g,h,r,f,d);v.setModel(this),this.history=b,await v.onTrainBegin(),this.stopTraining_=!1;for(let i=u;i<n;++i){await v.onEpochBegin(i);let n={};if(null!=h)throw new pb("stepsPerEpoch mode is not implemented yet.");{if("batch"===p)throw new pb("batch shuffling is not implemneted yet");p&&/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=e.length,a=0;for(;t>0;)a=Math.random()*t|0,k(e,--t,a)}(m);let i=sR(m),s=uV(g,r);for(let p=0;p<s.length;++p){let d={};if(await v.onBatchBegin(p,d),rA(()=>{let u=s[p][0],h=s[p][1],c=p9(i,u,h-u);d.batch=p,d.size=h-u;let m=e(uz(t,c));for(let e=0;e<a.length;++e){let t=a[e],r=m[e];d[t]=r,rE(r)}if(p===s.length-1&&f){let e=this.testLoop(o,l,r);for(let t=0;t<a.length;++t){let r=a[t],i=e[t];rE(i),n["val_"+r]=i}}}),await v.onBatchEnd(p,d),d7(d),this.stopTraining_)break}i.dispose()}if(await v.onEpochEnd(i,n),this.stopTraining_)break}return await v.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return uF(this,e,t)}async trainOnBatch(e,t){let a=await this.standardizeUserData(e,t),r=a[0],n=a[1],i=this.makeTrainFunction()(r.concat(n)),s=[];for(let e of i){let t=await e.data();s.push(t[0])}return r_(i),uj(a[0],e),uj(a[1],t),pS(s)}getNamedWeights(e){let t=[],a=null!=e&&e.trainableOnly,r=a?this.trainableWeights:this.weights,n=this.getWeights(a);for(let e=0;e<r.length;++e)(!a||r[e].trainable)&&t.push({name:r[e].originalName,tensor:n[e]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){let e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){let t=rT().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-rT().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=pC(this.loss);else if(Array.isArray(this.loss)){for(let e of this.loss)if("string"!=typeof e)throw Error("Serialization of non-string loss is not supported.");e=this.loss.map(e=>pC(e))}else{let t=Object.keys(this.loss);e={};let a=this.loss;for(let r of t)if("string"==typeof a[r])e[r]=pC(a[r]);else throw Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[pC(uS(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>pC(uS(e)));{let e={};for(let t in this.metrics)e[t]=pC(uS(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){let t,a;if(null!=e.weighted_metrics)throw Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw Error("Loading sample_weight_mode is not supported yet.");let r=ul(function e(t,a){if(null===t)return null;if("string"==typeof t)return pT(t);if("number"==typeof t||"boolean"==typeof t)return t;if(t instanceof Array){let r=[],n=t.length;for(let i=0;i<n;++i){let n=t[i];uT(a,i,n)?r.push(n):r.push(e(n,a))}return r}{let a={};for(let r of Object.keys(t)){let n=t[r];if("name"===r&&"string"==typeof n)a[r]=n;else{let t=pT(r);a[t]=e(n,t)}}return a}}(e.optimizer_config));if("string"==typeof e.loss)t=pT(e.loss);else if(Array.isArray(e.loss))t=e.loss.map(e=>pT(e));else if(null!=e.loss)for(let a in t={},e.loss)t[a]=pT(e.loss[a]);if(Array.isArray(e.metrics))a=e.metrics.map(e=>pT(e));else if(null!=e.metrics)for(let t in a={},e.metrics)a[t]=pT(e.metrics[t]);this.compile({loss:t,metrics:a,optimizer:r})}async save(e,t){if("string"==typeof e){let t=rz(e);if(0===t.length)throw new pv(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new pv(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new pv("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");let a=await rR(this.getNamedWeights(t)),r={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:`TensorFlow.js tfjs-layers v${uA}`,convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){var n;r.trainingConfig=this.getTrainingConfig();let{data:e,specs:t}=await rR(await this.optimizer.getWeights(),"optimizer");a.specs.push(...t),a.data=(n=[a.data,e],rC.join(n))}return null!=this.userDefinedMetadata&&(uI(this.userDefinedMetadata,this.name,!0),r.userDefinedMetadata=this.userDefinedMetadata),r.weightData=a.data,r.weightSpecs=a.specs,e.save(r)}setUserDefinedMetadata(e){uI(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}uK.className="Model",nh(uK);class uX extends uK{}uX.className="Functional",nh(uX);class uY extends uK{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:pB("sequential_"),null!=e.layers)for(let t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(e=>e<0))throw new pv(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){let t;let a=e instanceof uY||e instanceof uK;if(a){if(1!==(t=e).outputs.length)throw new pv("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==t.inputs.length)throw new pv("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new pv("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");let t=function(e){if(null==e.batchShape&&null==e.shape)throw Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new pv("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let a=e.dtype;return null==a&&(a="float32"),new dH({batchInputShape:t,name:e.name,dtype:a,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(a)this.outputs=t.outputs,this.inputs=t.inputs;else{if(1!==e.inboundNodes.length)throw new pv(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new pv("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=function e(t,a,r){if((null==a||null!=r&&r>0)&&(a=t.sourceLayer,r=t.nodeIndex),0===a.inboundNodes.length)return[t];{let t=a.inboundNodes[r];if(0===t.inboundLayers.length)return t.inputTensors;{let a=[];for(let r=0;r<t.inboundLayers.length;r++)for(let n of e(t.inputTensors[r],t.inboundLayers[r],t.nodeIndices[r]))-1===a.indexOf(n)&&a.push(n);return a}}}(this.outputs[0])}this.inboundNodes=[],new dW({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:px(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(e=>e.shape),outputShapes:this.outputs[0].shape})}else{let t=e.apply(this.outputs[0]);if(Array.isArray(t))throw TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{let e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(dF(e),0===this.inputs.length||0===this.outputs.length)throw TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new uK({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t,a=console.log){this.built||this.build(),super.summary(e,t,a)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t,a={}){if(!this.built)throw new pg("The model needs to be compiled before being used.");return this.model.evaluate(e,t,a)}async evaluateDataset(e,t){if(!this.built)throw new pg("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e,t={}){return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t,a={}){if(!this.built)throw new pg("The model needs to be compiled before being used.");return this.model.fit(e,t,a)}async fitDataset(e,t){if(!this.built)throw new pg("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t,a={},r=!1){let n;let i={};if(t instanceof Array){if(!(null!=t[0].className)||"Merge"===t[0].className)throw new pv("Legacy serialization format not supported yet.");n=t}else S(null!=t.layers,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),n=t.layers,delete t.layers,i=t;let s=new e(i);if(!(s instanceof uY))throw new pb(`Sequential.fromConfig called on non-Sequential input: ${s}`);for(let e of n){let t=ul(e,void 0,r);r&&t.setFastWeightInitDuringBuild(!0),s.add(t)}return s}set stopTraining(e){if(null==this.model)throw new pv("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new pv("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){let e=[];for(let t of this.layers){let a={};a.className=t.getClassName(),a.config=t.getConfig(),e.push(a)}return{name:this.name,layers:e}}}uY.className="Sequential",nh(uY);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class uJ extends nd{getConfig(){return{}}}class uZ extends uJ{apply(e,t=1){return function(e,t=1){if(1!==t)throw new pb(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return iR(e)}(e,t)}}uZ.className="elu",nh(uZ);class uQ extends uJ{apply(e){return sb(e)}}uQ.className="selu",nh(uQ);class u1 extends uJ{apply(e){return sg(e)}}u1.className="relu",nh(u1);class u2 extends uJ{apply(e){return rA(()=>se(6,sg(e)))}}u2.className="relu6",nh(u2);class u0 extends uJ{apply(e){return e}}u0.className="linear",nh(u0);class u5 extends uJ{apply(e){return sw(e)}}u5.className="sigmoid",nh(u5);class u4 extends uJ{apply(e){return rA(()=>iv(r7(.5,na(.2,e)),0,1))}}u4.className="hardSigmoid",nh(u4);class u3 extends uJ{apply(e){return sT(e)}}u3.className="softplus",nh(u3);class u6 extends uJ{apply(e){return rA(()=>nt(e,r7(nw(e),1)))}}u6.className="softsign",nh(u6);class u8 extends uJ{apply(e){return s$(e)}}u8.className="tanh",nh(u8);class u9 extends uJ{apply(e,t=-1){return sC(e,t)}}u9.className="softmax",nh(u9);class u7 extends uJ{apply(e,t=-1){return iK(e,t)}}u7.className="logSoftmax",nh(u7);class he extends uJ{apply(e){return rA(()=>rA(()=>{let t=na(.5,r7(1,iD(nt(e,Math.sqrt(2)))));return na(e,t)}))}}he.className="gelu",nh(he);class ht extends uJ{apply(e){return rA(()=>na(.5,na(e,r7(1,s$(na(nr(nt(2,Math.PI)),r7(e,na(.044715,nv(e,3)))))))))}}ht.className="gelu_new",nh(ht);class ha extends uJ{apply(e){return rA(()=>na(e,s$(sT(e))))}}ha.className="mish",nh(ha);class hr extends uJ{apply(e,t=1){return rA(()=>na(sw(na(e,t)),e))}}function hn(e){return e.getClassName()}function hi(e,t={}){return pE(e,nu.getMap().classNameMap,t,"activation")}function hs(e){if(null==e){let e={};return e.className="linear",e.config={},hi(e)}if("string"==typeof e){let t={};return t.className=e,t.config={},hi(t)}return e instanceof uJ?e:hi(e)}hr.className="swish",nh(hr);class ho extends nd{}class hl extends ho{constructor(e){super(),/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function(e){if(null!=e&&"object"!=typeof e)throw Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return rA(()=>{let t=si([1]);return this.hasL1&&(t=r7(t,iH(na(this.l1,nw(e))))),this.hasL2&&(t=r7(t,iH(na(this.l2,na(e,e))))),il(t,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}hl.className="L1L2",nh(hl);let hp={l1l2:"L1L2"};function hd(e,t={}){return pE(e,nu.getMap().classNameMap,t,"regularizer")}function hu(e){return null==e?null:"string"==typeof e?hd({className:e in hp?hp[e]:e,config:{}}):e instanceof ho?e:hd(e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class hh extends dG{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){let a=sg(e=dD(e));return null!=this.maxValue&&(a=iv(a,0,this.maxValue)),a}computeOutputShape(e){return e}getConfig(){let e={maxValue:this.maxValue};return Object.assign(e,super.getConfig()),e}}hh.className="ReLU",nh(hh);class hc extends dG{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){return ij(dD(e),this.alpha)}computeOutputShape(e){return e}getConfig(){let e={alpha:this.alpha};return Object.assign(e,super.getConfig()),e}}hc.className="LeakyReLU",nh(hc);class hm extends dG{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=d$(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=hu(e.alphaRegularizer),this.alphaConstraint=d8(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if("number"==typeof e.sharedAxes)this.sharedAxes=[e.sharedAxes];else throw new pv(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){let t=(e=dF(e)).slice(1);if(null!=this.sharedAxes)for(let e of this.sharedAxes)t[e-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);let a={};if(null!=this.sharedAxes)for(let t=1;t<e.length;++t)a[t]=e[t];this.inputSpec=[new dV({ndim:e.length,axes:a})],this.built=!0}call(e,t){return sp(e=dD(e),this.alpha.read())}getConfig(){let e={alphaInitializer:p_(this.alphaInitializer),alphaRegularizer:p_(this.alphaRegularizer),alphaConstraint:p_(this.alphaConstraint),sharedAxes:this.sharedAxes};return Object.assign(e,super.getConfig()),e}}hm.className="PReLU",nh(hm);class hf extends dG{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new pb(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){return iR(dD(e))}computeOutputShape(e){return e}getConfig(){let e={alpha:this.alpha};return Object.assign(e,super.getConfig()),e}}hf.className="ELU",nh(hf);class hg extends dG{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){let a=dD(e);return na(a,r8(iV(a,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){let e={theta:this.theta};return Object.assign(e,super.getConfig()),e}}hg.className="ThresholdedReLU",nh(hg);class hv extends dG{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=new u9().apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return rA(()=>{let a=dD(e),r=t.mask;if(null!=r){let e=na(nb(ss(a.shape),r8(r,a.dtype)),no(-1e9));a=r7(a,e)}return this.axis instanceof Array?this.axis.length>1?iF(nb(a,i5(a,this.axis,!0))):this.softmax(a,this.axis[0]):this.softmax(a,this.axis)})}computeOutputShape(e){return e}getConfig(){let e={axis:this.axis};return Object.assign(e,super.getConfig()),e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function hb(e,t,a){if("number"==typeof e)return px(e,t);if(e.length!==t)throw new pv(`The ${a} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let r=0;r<t;++r){let n=e[r];if(n!==parseInt(n.toString(),10))throw new pv(`The ${a} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${n}`)}return e}function hy(e,t,a,r,n=1){return null==e?e:Math.floor((("same"===a?e:e-(t+(t-1)*(n-1))+1)+r-1)/r)}function hw(e,t,a,r){if(null==e)return null;if("valid"===r)e=e*t+p5([a-t,0]);else if("same"===r)e*=t;else throw new pv(`Unsupport padding mode: ${r}.`);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function hx(e,t){return rA(()=>(pG(t),"channelsFirst"===t)?sB(e,[0,2,3,1]):e)}function hN(e,t){return rA(()=>(pG(t),"channelsFirst"===t)?sB(e,[0,2,3,4,1]):e)}function hk(e,t,a,r=[1,1],n="valid",i,s,o=null){return rA(()=>{if(null==i&&(i=p6()),pG(i),3!==e.rank&&4!==e.rank)throw new pv(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new pv(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=hx(e,i);if("causal"===n)throw new pb("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=sZ({x:l,filter:t,strides:r,pad:"same"===n?"same":"valid",dilations:s,dataFormat:"NHWC",bias:a,activation:o}),"channelsFirst"===i&&(l=sB(l,[0,3,1,2])),l})}hv.className="Softmax",nh(hv);class hS extends dG{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",hS.verifyArgs(t),this.rank=e,pF(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new pb(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=hb(t.kernelSize,e,"kernelSize"),this.strides=hb(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,pH(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,pG(this.dataFormat),this.activation=hs(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=d$(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=d8(t.biasConstraint),this.biasRegularizer=hu(t.biasRegularizer),this.activityRegularizer=hu(t.activityRegularizer),this.dilationRate=hb(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new pv(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new pv(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new pv(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(pN("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!pD(e.kernelSize,"number",1,3))throw new pv(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){let e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:hn(this.activation),useBias:this.useBias,biasInitializer:p_(this.biasInitializer),biasRegularizer:p_(this.biasRegularizer),activityRegularizer:p_(this.activityRegularizer),biasConstraint:p_(this.biasConstraint)};return Object.assign(e,super.getConfig()),e}}class hI extends hS{constructor(e,t){super(e,t),this.kernel=null,hI.verifyArgs(t),this.filters=t.filters,pF(this.filters,"filters"),this.kernelInitializer=d$(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=d8(t.kernelConstraint),this.kernelRegularizer=hu(t.kernelRegularizer)}build(e){e=dF(e);let t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new pv(`The channel dimension of the input should be defined. Found ${e[t]}`);let a=e[t],r=this.kernelSize.concat([a,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:a}}],this.built=!0}call(e,t){return rA(()=>{let t;e=dD(e);let a=null==this.bias?null:this.bias.read(),r=pO(this.activation.getClassName());if(null!=r&&2===this.rank)t=hk(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(1===this.rank)t=function(e,t,a,r=1,n="valid",i,s=1){return rA(()=>{if(null==i&&(i=p6()),pG(i),3!==e.shape.length)throw new pv(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==t.shape.length)throw new pv(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=a&&1!==a.shape.length)throw new pv(`The bias for a conv1dWithBias operation should be 1, but is ${a.shape.length} instead`);if("channelsFirst"===i&&(e=sB(e,[0,2,1])),"causal"===n)throw new pb("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=iS(e,t,r,"same"===n?"same":"valid","NWC",s);return null!=a&&(o=dp(o,a)),o})}(e,this.kernel.read(),a,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=hk(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(3===this.rank)t=function(e,t,a,r=[1,1,1],n="valid",i,s){return rA(()=>{if(null==i&&(i=p6()),pG(i),4!==e.rank&&5!==e.rank)throw new pv(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new pv(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let o=hN(e,i);if("causal"===n)throw new pb("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=iT(o,t,r,"same"===n?"same":"valid","NDHWC",s),null!=a&&(o=dp(o,a)),"channelsFirst"===i&&(o=sB(o,[0,4,1,2,3])),o})}(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new pb("convolutions greater than 3D are not implemented yet.");null!=this.activation&&(t=this.activation.apply(t))}return t})}computeOutputShape(e){e=dF(e);let t=[],a="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let e=0;e<a.length;++e){let r=hy(a[e],this.kernelSize[e],this.padding,this.strides[e],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[e]);t.push(r)}let r=[e[0]];return"channelsLast"===this.dataFormat?(r=r.concat(t)).push(this.filters):(r.push(this.filters),r=r.concat(t)),r}getConfig(){let e={filters:this.filters,kernelInitializer:p_(this.kernelInitializer),kernelRegularizer:p_(this.kernelRegularizer),kernelConstraint:p_(this.kernelConstraint)};return Object.assign(e,super.getConfig()),e}static verifyArgs(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new pv(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class hC extends hI{constructor(e){super(2,e),hC.verifyArgs(e)}getConfig(){let e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!pD(e.kernelSize,"number",1,2))throw new pv(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}hC.className="Conv2D",nh(hC);class hT extends hI{constructor(e){super(3,e),hT.verifyArgs(e)}getConfig(){let e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!(Array.isArray(e.kernelSize)&&(1===e.kernelSize.length||3===e.kernelSize.length)))throw new pv(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}hT.className="Conv3D",nh(hT);class hA extends hC{constructor(e){if(super(e),this.inputSpec=[new dV({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new pv(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=dF(e)).length)throw new pv("Input should have rank 4; Received input shape: "+JSON.stringify(e));let t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new pv("The channel dimension of the inputs should be defined. Found `None`.");let a=e[t],r=this.kernelSize.concat([this.filters,a]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new dV({ndim:4,axes:{[t]:a}})],this.built=!0}call(e,t){return rA(()=>{let t,a,r=dD(e);if(4!==r.shape.length)throw new pv(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);let n=r.shape,i=n[0];"channelsFirst"===this.dataFormat?(t=2,a=3):(t=1,a=2);let s=n[t],o=n[a],l=this.kernelSize[0],p=this.kernelSize[1],d=this.strides[0],u=this.strides[1],h=[i,hw(s,d,l,this.padding),hw(o,u,p,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(r=sB(r,[0,2,3,1]));let c=iC(r,this.kernel.read(),h,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(c=sB(c,[0,3,1,2])),null!=this.bias&&(c=dp(c,this.bias.read(),this.dataFormat)),null!=this.activation&&(c=this.activation.apply(c)),c})}computeOutputShape(e){let t,a,r;let n=(e=dF(e)).slice();"channelsFirst"===this.dataFormat?(t=1,a=2,r=3):(t=3,a=1,r=2);let i=this.kernelSize[0],s=this.kernelSize[1],o=this.strides[0],l=this.strides[1];return n[t]=this.filters,n[a]=hw(n[a],o,i,this.padding),n[r]=hw(n[r],l,s,this.padding),n}getConfig(){let e=super.getConfig();return delete e.dilationRate,e}}hA.className="Conv2DTranspose",nh(hA);class h_ extends hT{constructor(e){if(super(e),this.inputSpec=[new dV({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new pv(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=dF(e)).length)throw new pv("Input should have rank 5; Received input shape: "+JSON.stringify(e));let t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new pv("The channel dimension of the inputs should be defined. Found `None`.");let a=e[t],r=this.kernelSize.concat([this.filters,a]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new dV({ndim:5,axes:{[t]:a}})],this.built=!0}call(e,t){return rA(()=>{let t,a,r,n=dD(e);if(5!==n.shape.length)throw new pv(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${n.shape.length}`);let i=n.shape,s=i[0];"channelsFirst"===this.dataFormat?(r=2,t=3,a=4):(r=1,t=2,a=3);let o=i[r],l=i[t],p=i[a],d=this.kernelSize[0],u=this.kernelSize[1],h=this.kernelSize[2],c=this.strides[0],m=this.strides[1],f=this.strides[2],g=[s,hw(o,c,d,this.padding),hw(l,m,u,this.padding),hw(p,f,h,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(n=sB(n,[0,2,3,4,1]));let v=i_(n,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(v=sB(v,[0,4,1,2,3])),null!==this.bias&&(v=dp(v,this.bias.read(),this.dataFormat)),null!==this.activation&&(v=this.activation.apply(v)),v})}computeOutputShape(e){let t,a,r,n;let i=(e=dF(e)).slice();"channelsFirst"===this.dataFormat?(t=1,a=2,r=3,n=4):(t=4,a=1,r=2,n=3);let s=this.kernelSize[0],o=this.kernelSize[1],l=this.kernelSize[2],p=this.strides[0],d=this.strides[1],u=this.strides[2];return i[t]=this.filters,i[a]=hw(i[a],p,s,this.padding),i[r]=hw(i[r],d,o,this.padding),i[n]=hw(i[n],u,l,this.padding),i}getConfig(){let e=super.getConfig();return delete e.dilationRate,e}}h_.className="Conv3DTranspose",nh(h_);class hE extends hI{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new pv("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new pv("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new pv(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=d$(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=hu(t.depthwiseRegularizer),this.depthwiseConstraint=d8(t.depthwiseConstraint),this.pointwiseInitializer=d$(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=hu(t.pointwiseRegularizer),this.pointwiseConstraint=d8(t.pointwiseConstraint)}build(e){if((e=dF(e)).length<this.rank+2)throw new pv(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);let t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new pv(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);let a=e[t],r=this.kernelSize.concat([a,this.depthMultiplier]),n=[];for(let e=0;e<this.rank;++e)n.push(1);n.push(a*this.depthMultiplier,this.filters),this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",n,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new dV({ndim:this.rank+2,axes:{[t]:a}})],this.built=!0}call(e,t){return rA(()=>{let t;if(e=dD(e),1===this.rank)throw new pb("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=sB(e,[0,2,3,1])),t=sy(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=dp(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=sB(t,[0,3,1,2])),t})}getConfig(){let e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=p_(this.depthwiseInitializer),e.pointwiseInitializer=p_(this.pointwiseInitializer),e.depthwiseRegularizer=p_(this.depthwiseRegularizer),e.pointwiseRegularizer=p_(this.pointwiseRegularizer),e.depthwiseConstraint=p_(this.depthwiseConstraint),e.pointwiseConstraint=p_(this.pointwiseConstraint),e}}hE.className="SeparableConv";class h$ extends hE{constructor(e){super(2,e)}}h$.className="SeparableConv2D",nh(h$);class hR extends hI{constructor(e){super(1,e),hR.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){let e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!pD(e.kernelSize,"number",1,1))throw new pv(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}hR.className="Conv1D",nh(hR);class hL extends dG{constructor(e){super(e),"number"==typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return rA(()=>{if(e=dD(e),"channelsLast"===this.dataFormat){let t=de(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return de(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{let t=de(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return de(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){let e={cropping:this.cropping,dataFormat:this.dataFormat};return Object.assign(e,super.getConfig()),e}}hL.className="Cropping2D",nh(hL);class hD extends dG{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,pG(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,pL(pV,"InterpolationFormat",this.interpolation)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){let t=null==e[2]?null:this.size[0]*e[2],a=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,a]}{let t=null==e[1]?null:this.size[0]*e[1],a=null==e[2]?null:this.size[1]*e[2];return[e[0],t,a,e[3]]}}call(e,t){return rA(()=>{let t=dD(e),a=t.shape;if("channelsFirst"===this.dataFormat){t=sB(t,[0,2,3,1]);let e=this.size[0]*a[2],r=this.size[1]*a[3];return sB("nearest"===this.interpolation?ox.resizeNearestNeighbor(t,[e,r]):ox.resizeBilinear(t,[e,r]),[0,3,1,2])}{let e=this.size[0]*a[1],r=this.size[1]*a[2];return"nearest"===this.interpolation?ox.resizeNearestNeighbor(t,[e,r]):ox.resizeBilinear(t,[e,r])}})}getConfig(){let e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation};return Object.assign(e,super.getConfig()),e}}hD.className="UpSampling2D",nh(hD);class hF extends hS{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=d$(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=d8(e.depthwiseConstraint),this.depthwiseRegularizer=hu(e.depthwiseRegularizer)}build(e){if((e=dF(e)).length<4)throw new pv(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);let t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new pv(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);let a=e[t],r=[this.kernelSize[0],this.kernelSize[1],a,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[a*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return rA(()=>{let t=/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function(e,t,a=[1,1],r="valid",n,i){return rA(()=>{null==n&&(n=p6()),pG(n);let i=hx(e,n);if(4!==e.rank)throw new pv(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==t.rank)throw new pv(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return i=i$(i,t,a,"same"===r?"same":"valid","NHWC",null),"channelsFirst"===n&&(i=sB(i,[0,3,1,2])),i})}(e=dD(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,0);return this.useBias&&(t=dp(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t})}computeOutputShape(e){e=dF(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],a="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,n=hy(t,this.kernelSize[0],this.padding,this.strides[0]),i=hy(a,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,n,i]:[e[0],n,i,r]}getConfig(){let e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=p_(this.depthwiseInitializer),e.depthwiseRegularizer=p_(this.depthwiseRegularizer),e.depthwiseConstraint=p_(this.depthwiseRegularizer),e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function hO(e,t,a,r){if(Array.isArray(e)){if(null!=t||null!=a)throw new pv("When inputs is an array, neither initialState or constants should be provided");null!=r&&(a=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function n(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=n(t),constants:a=n(a)}}function hP(e,t,a,r=!1,n,i,s=!1,o=!1){return rA(()=>{let l,p,d;let u=t.shape.length;if(u<3)throw new pv(`Input should be at least 3D, but is ${u}D.`);let h=[1,0].concat(p4(2,u));if(t=sB(t,h),null!=i)throw new pb("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=n&&((n=r8(r8(n,"bool"),"float32")).rank===u-1&&(n=iO(n,-1)),n=sB(n,h)),r&&(t=sv(t,0),null!=n&&(n=sv(n,0)));let c=[],m=a,f=t.shape[0],g=sF(t);null!=n&&(p=sF(n));for(let t=0;t<f;++t){let a=g[t],r=rA(()=>e(a,m));if(null==n)l=r[0],m=r[1];else{let e=rA(()=>{let e=p[t],a=nb(so(e),e);return{output:r7(na(r[0],e),na(m[0],a)),newStates:m.map((t,n)=>r7(na(r[1][n],e),na(t,a)))}});l=e.output,m=e.newStates}o&&c.push(l)}return o&&(d=sE(c,1)),[l,d,m]})}hF.className="DepthwiseConv2D",nh(hF);class hM extends dG{constructor(e){let t;if(super(e),null==e.cell)throw new pv("cell property is missing for the constructor of RNN.");if(null==(t=Array.isArray(e.cell)?new hG({cells:e.cell}):e.cell).stateSize)throw new pv("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new dV({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){return null==this.states_?p4(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(e=>null):this.states_}setStates(e){this.states_=e}computeOutputShape(e){let t;dR(e)&&(e=e[0]);let a=this.cell.stateSize;Array.isArray(a)||(a=[a]);let r=a[0];if(t=this.returnSequences?[e[0],e[1],r]:[e[0],r],!this.returnState)return t;{let r=[];for(let t of a)r.push([e[0],t]);return[t].concat(r)}}computeMask(e,t){return rA(()=>{Array.isArray(t)&&(t=t[0]);let e=this.returnSequences?t:null;return this.returnState?[e].concat(this.states.map(e=>null)):e})}get states(){if(null!=this.states_)return this.states_;{let e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let a=0;a<e;++a)t.push(null);return t}}set states(e){this.states_=e}build(e){let t;if(null!=this.numConstants)throw new pb("Constants support is not implemented in RNN yet.");dR(e)&&(e=e[0]);let a=this.stateful?e[0]:null,r=e.slice(2);this.inputSpec[0]=new dV({shape:[a,null,...r]});let n=[e[0]].concat(e.slice(2));if(this.cell.build(n),t=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!A(this.stateSpec.map(e=>e.shape[e.shape.length-1]),t))throw new pv(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=t.map(e=>new dV({shape:[null,e]}));this.stateful&&this.resetStates()}resetStates(e,t=!1){rA(()=>{if(!this.stateful)throw new pf("Cannot call resetStates() on an RNN Layer that is not stateful.");let a=this.inputSpec[0].shape[0];if(null==a)throw new pv("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(e=>si([a,e])):this.states_=[si([a,this.cell.stateSize])];else if(null==e)r_(this.states_),null!=this.keptStates&&(r_(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(e=>si([a,e])):this.states_[0]=si([a,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new pv(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===t?this.keptStates.push(this.states_.slice()):r_(this.states_);for(let t=0;t<this.states_.length;++t){let r=e[t],n=[a,Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize];if(!A(r.shape,n))throw new pv(`State ${t} is incompatible with layer ${this.name}: expected shape=${n}, received shape=${r.shape}`);this.states_[t]=r}}this.states_=this.states_.map(e=>rE(e.clone()))})}apply(e,t){let a=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});let n=hO(e,a,r,this.numConstants);e=n.inputs,a=n.initialState,r=n.constants;let i=[],s=[];if(null!=a){for(let e of(t.initialState=a,i=i.concat(a),this.stateSpec=[],a))this.stateSpec.push(new dV({shape:e.shape}));s=s.concat(this.stateSpec)}if(null!=r&&(t.constants=r,i=i.concat(r),this.numConstants=r.length),!(i[0]instanceof dU))return super.apply(e,t);{let a=[e].concat(i),r=this.inputSpec.concat(s),n=this.inputSpec;this.inputSpec=r;let o=super.apply(a,t);return this.inputSpec=n,o}}call(e,t){return rA(()=>{let a=null==t?null:t.mask,r=null==t?null:t.training,n=null==t?null:t.initialState;e=dD(e),null==n&&(n=this.stateful?this.states_:this.getInitialState(e));let i=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(n.length!==i)throw new pv(`RNN Layer has ${i} state(s) but was passed ${n.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");let s={training:r},o=hP((e,t)=>{let a=this.cell.call([e].concat(t),s);return[a[0],a.slice(1)]},e,n,this.goBackwards,a,null,this.unroll,this.returnSequences),l=o[0],p=o[1],d=o[2];this.stateful&&this.resetStates(d,r);let u=this.returnSequences?p:l;return this.returnState?[u].concat(d):u})}getInitialState(e){return rA(()=>{let t=si(e.shape);return(t=p8(t=iH(t,[1,2])),Array.isArray(this.cell.stateSize))?this.cell.stateSize.map(e=>e>1?dr(t,[1,e]):t):this.cell.stateSize>1?[dr(t,[1,this.cell.stateSize])]:[t]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){let e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);let a=this.cell.getConfig();return this.getClassName()===hM.className&&(t.cell={className:this.cell.getClassName(),config:a}),Object.assign(Object.assign(Object.assign({},a),e),t)}static fromConfig(e,t,a={}){let r=ul(t.cell,a);return new e(Object.assign(t,{cell:r}))}}hM.className="RNN",nh(hM);class hB extends dG{}class hz extends hB{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,pF(this.units,"units"),this.activation=hs(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=d$(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=d$(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=d$(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=hu(e.kernelRegularizer),this.recurrentRegularizer=hu(e.recurrentRegularizer),this.biasRegularizer=hu(e.biasRegularizer),this.kernelConstraint=d8(e.kernelConstraint),this.recurrentConstraint=d8(e.recurrentConstraint),this.biasConstraint=d8(e.biasConstraint),this.dropout=p0([1,p5([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=p0([1,p5([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=dF(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return rA(()=>{let a;if(2!==e.length)throw new pv(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];let n=null!=t.training&&t.training;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=hH({ones:()=>so(e),rate:this.dropout,training:n,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=hH({ones:()=>so(r),rate:this.recurrentDropout,training:n,dropoutFunc:this.dropoutFunc}));let i=this.dropoutMask,s=this.recurrentDropoutMask;a=null!=i?di(na(e,i),this.kernel.read()):di(e,this.kernel.read()),null!=this.bias&&(a=dp(a,this.bias.read())),null!=s&&(r=na(r,s));let o=r7(a,di(r,this.recurrentKernel.read()));return null!=this.activation&&(o=this.activation.apply(o)),[o,o]})}getConfig(){let e=super.getConfig(),t={units:this.units,activation:hn(this.activation),useBias:this.useBias,kernelInitializer:p_(this.kernelInitializer),recurrentInitializer:p_(this.recurrentInitializer),biasInitializer:p_(this.biasInitializer),kernelRegularizer:p_(this.kernelRegularizer),recurrentRegularizer:p_(this.recurrentRegularizer),biasRegularizer:p_(this.biasRegularizer),activityRegularizer:p_(this.activityRegularizer),kernelConstraint:p_(this.kernelConstraint),recurrentConstraint:p_(this.recurrentConstraint),biasConstraint:p_(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}hz.className="SimpleRNNCell",nh(hz);class hV extends hM{constructor(e){e.cell=new hz(e),super(e)}call(e,t){return rA(()=>{null!=this.cell.dropoutMask&&(r_(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(r_(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let a=null==t?null:t.mask,r=null==t?null:t.training,n=null==t?null:t.initialState;return super.call(e,{mask:a,training:r,initialState:n})})}static fromConfig(e,t){return new e(t)}}hV.className="SimpleRNN",nh(hV);class hU extends hB{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new pv("GRUCell does not support reset_after parameter set to true.");this.units=e.units,pF(this.units,"units"),this.activation=hs(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=hs(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=d$(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=d$(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=d$(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=hu(e.kernelRegularizer),this.recurrentRegularizer=hu(e.recurrentRegularizer),this.biasRegularizer=hu(e.biasRegularizer),this.kernelConstraint=d8(e.kernelConstraint),this.recurrentConstraint=d8(e.recurrentConstraint),this.biasConstraint=d8(e.biasConstraint),this.dropout=p0([1,p5([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=p0([1,p5([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){let t=(e=dF(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return rA(()=>{let a,r;if(2!==e.length)throw new pv(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);let n=null!=t.training&&t.training,i=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=hH({ones:()=>so(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=hH({ones:()=>so(i),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));let s=this.dropoutMask,o=this.recurrentDropoutMask;0<this.dropout&&this.dropout<1&&(e=na(e,s[0]));let l=di(e,this.kernel.read());this.useBias&&(l=dp(l,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(i=na(i,o[0]));let p=this.recurrentKernel.read(),[d,u]=sA(p,[2*this.units,this.units],p.rank-1),h=di(i,d),[c,m,f]=sA(l,3,l.rank-1),[g,v]=sA(h,2,h.rank-1);a=this.recurrentActivation.apply(r7(c,g));let b=di(na(this.recurrentActivation.apply(r7(m,v)),i),u);r=this.activation.apply(r7(f,b));let y=r7(na(a,i),na(r7(1,sa(a)),r));return[y,y]})}getConfig(){let e=super.getConfig(),t={units:this.units,activation:hn(this.activation),recurrentActivation:hn(this.recurrentActivation),useBias:this.useBias,kernelInitializer:p_(this.kernelInitializer),recurrentInitializer:p_(this.recurrentInitializer),biasInitializer:p_(this.biasInitializer),kernelRegularizer:p_(this.kernelRegularizer),recurrentRegularizer:p_(this.recurrentRegularizer),biasRegularizer:p_(this.biasRegularizer),activityRegularizer:p_(this.activityRegularizer),kernelConstraint:p_(this.kernelConstraint),recurrentConstraint:p_(this.recurrentConstraint),biasConstraint:p_(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}hU.className="GRUCell",nh(hU);class hj extends hM{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new hU(e),super(e)}call(e,t){return rA(()=>{null!=this.cell.dropoutMask&&(r_(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(r_(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let a=null==t?null:t.mask,r=null==t?null:t.training,n=null==t?null:t.initialState;return super.call(e,{mask:a,training:r,initialState:n})})}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}hj.className="GRU",nh(hj);class hW extends hB{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,pF(this.units,"units"),this.activation=hs(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=hs(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=d$(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=d$(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=d$(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=hu(e.kernelRegularizer),this.recurrentRegularizer=hu(e.recurrentRegularizer),this.biasRegularizer=hu(e.biasRegularizer),this.kernelConstraint=d8(e.kernelConstraint),this.recurrentConstraint=d8(e.recurrentConstraint),this.biasConstraint=d8(e.biasConstraint),this.dropout=p0([1,p5([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=p0([1,p5([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;let a;let r=(e=dF(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){let e=this.biasInitializer,r=this.units;a=new((t=class extends dc{apply(t,a){let n=e.apply([r]),i=new df().apply([r]),s=e.apply([2*r]);return da(da(n,i),s)}}).className="CustomInit",t)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return rA(()=>{let a,r;let n=null!=t.training&&t.training;if(3!==e.length)throw new pv(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let i=e[1],s=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=hH({ones:()=>so(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=hH({ones:()=>so(i),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));let o=this.dropoutMask,l=this.recurrentDropoutMask;0<this.dropout&&this.dropout<1&&(e=na(e,o[0]));let p=di(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(i=na(i,l[0])),p=r7(p,di(i,this.recurrentKernel.read())),this.useBias&&(p=dp(p,this.bias.read()));let[d,u,h,c]=sA(p,4,p.rank-1);a=this.recurrentActivation.apply(d),r=r7(na(this.recurrentActivation.apply(u),s),na(a,this.activation.apply(h)));let m=na(this.recurrentActivation.apply(c),this.activation.apply(r));return[m,m,r]})}getConfig(){let e=super.getConfig(),t={units:this.units,activation:hn(this.activation),recurrentActivation:hn(this.recurrentActivation),useBias:this.useBias,kernelInitializer:p_(this.kernelInitializer),recurrentInitializer:p_(this.recurrentInitializer),biasInitializer:p_(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:p_(this.kernelRegularizer),recurrentRegularizer:p_(this.recurrentRegularizer),biasRegularizer:p_(this.biasRegularizer),activityRegularizer:p_(this.activityRegularizer),kernelConstraint:p_(this.kernelConstraint),recurrentConstraint:p_(this.recurrentConstraint),biasConstraint:p_(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}hW.className="LSTMCell",nh(hW);class hq extends hM{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new hW(e),super(e)}call(e,t){return rA(()=>{null!=this.cell.dropoutMask&&(r_(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(r_(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let a=null==t?null:t.mask,r=null==t?null:t.training,n=null==t?null:t.initialState;return super.call(e,{mask:a,training:r,initialState:n})})}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}hq.className="LSTM",nh(hq);class hG extends hB{constructor(e){super(e),this.cells=e.cells}get stateSize(){let e=[];for(let t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return rA(()=>{let a;let r=e.slice(1),n=[];for(let e of this.cells.slice().reverse())Array.isArray(e.stateSize)?n.push(r.splice(0,e.stateSize.length)):n.push(r.splice(0,1));n.reverse();let i=[];for(let s=0;s<this.cells.length;++s){let o=this.cells[s];r=n[s],a=0===s?[e[0]].concat(r):[a[0]].concat(r),a=o.call(a,t),i.push(a.slice(1))}for(let e of(r=[],i.slice().reverse()))r.push(...e);return[a[0]].concat(r)})}build(e){let t;dR(e)&&(e=e[0]),this.cells.forEach((a,r)=>{pY(`RNNCell_${r}`,()=>{a.build(e),t=Array.isArray(a.stateSize)?a.stateSize[0]:a.stateSize,e=[e[0],t]})}),this.built=!0}getConfig(){let e=super.getConfig(),t=this.cells.map(e=>({className:e.getClassName(),config:e.getConfig()}));return Object.assign(Object.assign({},e),{cells:t})}static fromConfig(e,t,a={}){let r=[];for(let e of t.cells)r.push(ul(e,a));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];let e=[];for(let t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){let e=[];for(let t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){let t=[];for(let e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){let e=[];for(let t of this.cells)e.push(...t.weights);return dB(e)}setWeights(e){let t=[];for(let a of this.cells){let r=a.weights.length,n=e.splice(r);for(let e=0;e<a.weights.length;++e)t.push([a.weights[e],n[e]])}dz(t)}}function hH(e){let{ones:t,rate:a,training:r=!1,count:n=1,dropoutFunc:i}=e,s=()=>{var e;return null!=i?i(t(),a):(e=t(),rA(()=>sz(e,a,void 0,void 0)))},o=()=>dd(s,t,r);return!n||n<=1?rE(o().clone()):Array(n).fill(void 0).map(o).map(e=>rE(e.clone()))}hG.className="StackedRNNCells",nh(hG);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var hK=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};class hX extends hM{constructor(e){if(e.unroll)throw new pb("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new pb("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new dV({ndim:5})]}call(e,t){return rA(()=>{if(null!=this.cell.dropoutMask&&(r_(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(r_(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new pv("ConvRNN2D cell does not support constants");let a=null==t?null:t.mask,r=null==t?null:t.training,n=null==t?null:t.initialState;return super.call(e,{mask:a,training:r,initialState:n})})}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...[,,].fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return rA(()=>{let{stateSize:t}=this.cell,a=e.shape,r=this.computeSingleOutputShape(a),n=si([r[0],...r.slice(2)]);return Array.isArray(t)?Array(t.length).fill(n):[n]})}resetStates(e,t=!1){rA(()=>{if(!this.stateful)throw new pf("Cannot call resetStates() on an RNN Layer that is not stateful.");let a=this.inputSpec[0].shape,r=this.computeSingleOutputShape(a),n=[r[0],...r.slice(2)];if(null==a[0])throw new pv("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>si(n)):this.states_=[si(n)];else if(null==e)r_(this.states_),null!=this.keptStates&&(r_(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>si(n)):this.states_[0]=si(n);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new pv(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):r_(this.states_);for(let t=0;t<this.states_.length;++t){let a=e[t];if(!A(a.shape,n))throw new pv(`State ${t} is incompatible with layer ${this.name}: expected shape=${n}, received shape=${a.shape}`);this.states_[t]=a}}this.states_=this.states_.map(e=>rE(e.clone()))})}computeSingleOutputShape(e){let{dataFormat:t,filters:a,kernelSize:r,padding:n,strides:i,dilationRate:s}=this.cell,o="channelsFirst"===t,l=e[o?3:2],p=e[o?4:3],d=hy(l,r[0],n,i[0],s[0]),u=hy(p,r[1],n,i[1],s[1]);return[...e.slice(0,2),...o?[a,d,u]:[d,u,a]]}}hX.className="ConvRNN2D";class hY extends hW{constructor(e){let{filters:t,kernelSize:a,strides:r,padding:n,dataFormat:i,dilationRate:s}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,pF(this.filters,"filters"),this.kernelSize=hb(a,2,"kernelSize"),this.kernelSize.forEach(e=>pF(e,"kernelSize")),this.strides=hb(r||1,2,"strides"),this.strides.forEach(e=>pF(e,"strides")),this.padding=n||"valid",pH(this.padding),this.dataFormat=i||"channelsLast",pG(this.dataFormat),this.dilationRate=hb(s||1,2,"dilationRate"),this.dilationRate.forEach(e=>pF(e,"dilationRate"))}build(e){var t;e=dF(e);let a="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[a])throw new pv(`The channel dimension of the input should be defined. Found ${e[a]}`);let r=e[a],n=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",n,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);let i=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){let a=this.biasInitializer,r=this.filters;e=new((t=class extends dc{apply(e,t){return dt([a.apply([r]),ss([r]),a.apply([2*r])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return rA(()=>{if(3!==e.length)throw new pv(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let a=t.training||!1,r=e[0],n=e[1],i=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=hH({ones:()=>so(r),rate:this.dropout,training:a,count:4,dropoutFunc:this.dropoutFunc}));let s=this.dropoutMask,o=(e,t,a)=>t&&t[a]?na(t[a],e):e,l=o(r,s,0),p=o(r,s,1),d=o(r,s,2),u=o(r,s,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=hH({ones:()=>so(n),rate:this.recurrentDropout,training:a,count:4,dropoutFunc:this.dropoutFunc}));let h=this.recurrentDropoutMask,c=o(n,h,0),m=o(n,h,1),f=o(n,h,2),g=o(n,h,3),[v,b,y,w]=sA(this.kernel.read(),4,3),[x,N,k,S]=this.useBias?sA(this.bias.read(),4):[null,null,null,null];l=this.inputConv(l,v,x,this.padding),p=this.inputConv(p,b,N,this.padding),d=this.inputConv(d,y,k,this.padding),u=this.inputConv(u,w,S,this.padding);let[I,C,T,A]=sA(this.recurrentKernel.read(),4,3);c=this.recurrentConv(c,I),m=this.recurrentConv(m,C),f=this.recurrentConv(f,T),g=this.recurrentConv(g,A);let _=this.recurrentActivation.apply(r7(l,c)),E=this.recurrentActivation.apply(r7(p,m)),$=r7(na(E,i),na(_,this.activation.apply(r7(d,f)))),R=na(this.recurrentActivation.apply(r7(u,g)),this.activation.apply($));return[R,R,$]})}getConfig(){let e=super.getConfig(),{units:t}=e,a=hK(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},a),r)}inputConv(e,t,a,r){let n=ik(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return a?dp(n,a,this.dataFormat):n}recurrentConv(e,t){return ik(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}hY.className="ConvLSTM2DCell",nh(hY);class hJ extends hX{constructor(e){super(Object.assign(Object.assign({},e),{cell:new hY(e)}))}static fromConfig(e,t){return new e(t)}}hJ.className="ConvLSTM2D",nh(hJ);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class hZ extends dG{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;let t=e.shape,a=[];for(let e=0;e<this.noiseShape.length;++e)a.push(null==this.noiseShape[e]?t[e]:this.noiseShape[e]);return a}call(e,t){return rA(()=>{this.invokeCallHook(e,t);let a=dD(e);if(0<this.rate&&this.rate<1){let e=null!=t.training&&t.training,r=this.getNoiseShape(a);return dd(()=>{var e,t;return e=this.rate,t=this.seed,rA(()=>sz(a,e,r,t))},()=>a,e)}return e})}getConfig(){let e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed};return Object.assign(e,super.getConfig()),e}dispose(){return super.dispose()}}hZ.className="Dropout",nh(hZ);class hQ extends hZ{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){let t=e.shape;return[t[0],1,t[2]]}}hQ.className="SpatialDropout1D",nh(hQ);class h1 extends dG{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,pF(this.units,"units"),this.activation=hs(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=d$(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=d$(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=d8(e.kernelConstraint),this.biasConstraint=d8(e.biasConstraint),this.kernelRegularizer=hu(e.kernelRegularizer),this.biasRegularizer=hu(e.biasRegularizer),this.activityRegularizer=hu(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){let t=(e=dF(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){let t=(e=dF(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return rA(()=>{let a;this.invokeCallHook(e,t);let r=dD(e),n=pO(this.activation.getClassName());return null!=n?a=di(r,this.kernel.read(),n,this.bias?this.bias.read():null):(a=di(r,this.kernel.read()),null!=this.bias&&(a=dp(a,this.bias.read())),null!=this.activation&&(a=this.activation.apply(a))),a})}getConfig(){let e={units:this.units,activation:hn(this.activation),useBias:this.useBias,kernelInitializer:p_(this.kernelInitializer),biasInitializer:p_(this.biasInitializer),kernelRegularizer:p_(this.kernelRegularizer),biasRegularizer:p_(this.biasRegularizer),activityRegularizer:p_(this.activityRegularizer),kernelConstraint:p_(this.kernelConstraint),biasConstraint:p_(this.biasConstraint)};return Object.assign(e,super.getConfig()),e}}h1.className="Dense",nh(h1);class h2 extends dG{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){for(let t of(e=dF(e)).slice(1))if(null==t)throw new pv(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],p2(e,1)]}call(e,t){return rA(()=>{this.invokeCallHook(e,t);let a=dD(e);if("channelsFirst"===this.dataFormat&&a.rank>1){let e=[0];for(let t=2;t<a.rank;++t)e.push(t);e.push(1),a=sB(a,e)}return function(e){if(e.rank<=1)throw new pv(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);let t=[e.shape[0],p2(e.shape,1)];return il(e,t)}(a)})}getConfig(){let e={};return null!=this.dataFormat&&(e.dataFormat=this.dataFormat),Object.assign(e,super.getConfig()),e}}h2.className="Flatten",nh(h2);class h0 extends dG{constructor(e){super(e),this.supportsMasking=!0,this.activation=hs(e.activation)}call(e,t){return rA(()=>{this.invokeCallHook(e,t);let a=dD(e);return this.activation.apply(a)})}getConfig(){let e={activation:hn(this.activation)};return Object.assign(e,super.getConfig()),e}}h0.className="Activation",nh(h0);class h5 extends dG{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return rA(()=>{var t,a;return t=e=dD(e),a=this.n,rA(()=>{if(2!==t.shape.length)throw new pv(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);return dr(p8(t,1),[1,a,1])})})}getConfig(){let e={n:this.n};return Object.assign(e,super.getConfig()),e}}h5.className="RepeatVector",nh(h5);class h4 extends dG{constructor(e){super(e),this.targetShape=e.targetShape;for(let e=0;e<this.targetShape.length;++e)this.isUnknown(this.targetShape[e])&&(this.targetShape[e]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){let a="Total size of new array must be unchanged.",r=t.slice(),n=1,i=null;for(let e=0;e<r.length;++e){let t=r[e];if(this.isUnknown(t)){if(null===i)i=e;else throw new pv("Can only specifiy one unknown dimension.")}else n*=t}let s=p2(e);if(null!==i){if(0===n||s%n!=0)throw new pv(a);r[i]=s/n}else if(s!==n)throw new pv(a);return r}computeOutputShape(e){let t=!1;for(let a=0;a<e.length;++a)if(this.isUnknown(e[a])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return rA(()=>{this.invokeCallHook(e,t);let a=dD(e),r=a.shape;return il(a,r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape)))})}getConfig(){let e={targetShape:this.targetShape};return Object.assign(e,super.getConfig()),e}}h4.className="Reshape",nh(h4);class h3 extends dG{constructor(e){if(super(e),null==e.dims)throw Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);let t=p4(1,e.dims.length+1);if(!A(e.dims.slice().sort(),t))throw Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new dV({ndim:this.dims.length+1})]}computeOutputShape(e){let t=(e=dF(e)).slice();return this.dims.forEach((a,r)=>{t[r+1]=e[a]}),t}call(e,t){return sB(dD(e),this.dimsIncludingBatch)}getConfig(){let e={dims:this.dims};return Object.assign(e,super.getConfig()),e}}h3.className="Permute",nh(h3);class h6 extends dG{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e?this.maskValue=null==e.maskValue?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){return n1(sr(dD(e),this.maskValue),-1)}call(e,t){return rA(()=>{this.invokeCallHook(e,t);let a=dD(e),r=n1(sr(a,this.maskValue),-1,!0);return na(a,r8(r,a.dtype))})}}h6.className="Masking",nh(h6);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class h8 extends dG{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(pI(e.inputLength))}this.inputDim=e.inputDim,pF(this.inputDim,"inputDim"),this.outputDim=e.outputDim,pF(this.outputDim,"outputDim"),this.embeddingsInitializer=d$(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=hu(e.embeddingsRegularizer),this.activityRegularizer=hu(e.activityRegularizer),this.embeddingsConstraint=d8(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return rA(()=>this.maskZero?sr(e=dD(e),ni(e)):null)}computeOutputShape(e){if(e=dF(e),null==this.inputLength)return[...e,this.outputDim];let t=pI(this.inputLength);if(t.length!==e.length-1)throw new pv(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let a=0;for(let r=0;r<t.length;++r){let n=t[r],i=e[r+1];if(null!=n&&null!=i&&n!==i)throw new pv(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==n&&(t[a]=i),a++}}return[e[0],...t,this.outputDim]}call(e,t){return rA(()=>{this.invokeCallHook(e,t);let a=dD(e);"int32"!==a.dtype&&(a=r8(a,"int32"));let r=ds(this.embeddings.read(),il(a,[a.size]));return il(r,dF(this.computeOutputShape(a.shape)))})}getConfig(){let e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:p_(this.embeddingsInitializer),embeddingsRegularizer:p_(this.embeddingsRegularizer),activityRegularizer:p_(this.activityRegularizer),embeddingsConstraint:p_(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength};return Object.assign(e,super.getConfig()),e}}h8.className="Embedding",nh(h8);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class h9 extends dG{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new pb}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;let a=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){let n=e[e.length-t.length+r],i=t[r];if(null==n||null==i||n<0||i<0)a.push(null);else if(1===n)a.push(i);else if(1===i)a.push(n);else{if(n!==i)throw new pv("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));a.push(n)}}return a}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[dF(e)]),e.length<2)throw new pv(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(let a of e)null!=a&&null!==a[0]&&t.push(a[0]);if((t=pR(t)).length>1)throw new pv(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let a=null==e[0]?null:e[0].slice(1);for(let t=1;t<e.length;++t){let r=null==e[t]?null:e[t].slice(1);a=this.computeElementwiseOpOutputShape(a,r)}let r=e.map(e=>e.length);-1===e.indexOf(null)&&1===pR(r).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return rA(()=>{if(!this.reshapeRequired)return this.mergeFunction(e);{let t=[],a=e.map(e=>e.rank);if(-1===a.indexOf(null)){let r=p5(a);for(let a of e){let e=a.rank;for(let t=0;t<r-e;++t)a=p8(a,1);t.push(a)}return this.mergeFunction(t)}{let a=!1;for(let r of e){let e=r.rank;if(null==e){let e=r.shape,n=e[0],i=e.slice(1).concat([n]),s=il(r,[n].concat(p2(e.slice(1))));s=il(s=sB(s,[1,0]),i),t.push(s),a=!0}else if(e>1){let n=p4(1,e).concat([0]);t.push(sB(r,n)),a=!0}else t.push(r)}let r=this.mergeFunction(t),n=r.rank;if(a){if(null==n){let e=r.shape,t=e.length,a=e[t-1],n=[a].concat(e.slice(0,e.length-1));r=il(sB(il(r,[-1,a]),[1,0]),n)}else n>1&&(r=sB(r,[n-1].concat(p4(0,n-1))))}return r}}})}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let a=1;a<e.length;++a){let r=null==e[a]?null:e[a].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}let a=[];for(let t of e)null!=t&&null!==t[0]&&a.push(t[0]);return 1===(a=pR(a)).length?a.concat(t):[null].concat(t)}computeMask(e,t){return rA(()=>{if(null==t)return null;if(!Array.isArray(t))throw new pv("`mask` should be an Array");if(!Array.isArray(e))throw new pv("`inputs` should be an Array");if(t.length!==e.length)throw new pv(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every(e=>null==e))return null;let a=(t=t.map(e=>null==e?e:iO(e,0)))[0];for(let e=1;e<t.length-1;++e)a=i4(a,t[e]);return a})}}class h7 extends h9{constructor(e){super(e)}mergeFunction(e){return rA(()=>{let t=e[0].clone();for(let a=1;a<e.length;++a)t=r7(t,e[a]);return t})}}h7.className="Add",nh(h7);class ce extends h9{constructor(e){super(e)}mergeFunction(e){return rA(()=>{let t=e[0].clone();for(let a=1;a<e.length;++a)t=na(t,e[a]);return t})}}ce.className="Multiply",nh(ce);class ct extends h9{constructor(e){super(e)}mergeFunction(e){return rA(()=>{let t=e[0].clone();for(let a=1;a<e.length;++a)t=r7(t,e[a]);return na(1/e.length,t)})}}ct.className="Average",nh(ct);class ca extends h9{constructor(e){super(e)}mergeFunction(e){return rA(()=>{let t=e[0];for(let a=1;a<e.length;++a)t=nS(t,e[a]);return t})}}ca.className="Maximum",nh(ca);class cr extends h9{constructor(e){super(e)}mergeFunction(e){return rA(()=>{let t=e[0];for(let a=1;a<e.length;++a)t=se(t,e[a]);return t})}}cr.className="Minimum",nh(cr);class cn extends h9{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||1===e.length)throw new pv("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(let a of e)if(null!=a){t=!1;break}if(t)return;let a=[];for(let t=0;t<e.length;++t){let r=e[t].slice();r.splice(this.axis,1);let n=!1;for(let e of a)if(A(e,r)){n=!0;break}n||a.push(r)}if(a.length>1)throw new pv("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return rA(()=>dt(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new pv("A `Concatenate` layer should be called on a list of inputs.");let t=e[0].slice(),a=this.axis<0?t.length+this.axis:this.axis;for(let r of e.slice(1)){if(null==t[a]||null==r[a]){t[a]=null;break}t[a]+=r[a]}return t}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new pv("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new pv("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new pv(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return rA(()=>{let a=!0;if(t.forEach(e=>{if(null!=e){a=!1;return}}),a)return null;let r=[];for(let a=0;a<e.length;++a)null==t[a]?r.push(r8(so(e[a]),"bool")):t[a].rank<e[a].rank?r.push(iO(t[a],-1)):r.push(t[a]);return nQ(ib(r,this.axis),-1,!1)})}getConfig(){let e={axis:this.axis};return Object.assign(e,super.getConfig()),e}}function ci(e,t){for(;e<0;)e+=t;return e}cn.className="Concatenate",nh(cn);class cs extends h9{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){S(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");let t=e[0],a=e[1];if(t.length>3||a.length>3)throw new pb("Dot layer does not support tensors of 4D or higher rank yet.");let r=this.interpretAxes(t,a);if(t[r[0]]!==a[r[1]])throw new pv(`Dimension incompatibility: ${t[r[0]]} !== ${a[r[1]]}`)}mergeFunction(e){let t;if(2!==e.length)throw new pv(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let a=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map((t,a)=>ci(t,e[a].shape.length)):[ci(this.axes,a.shape.length),ci(this.axes,r.shape.length)],this.normalize&&(a=up(a,t[0]),r=up(r,t[1])),function(e,t,a){if(e.shape.length>3||t.shape.length>3)throw new pb("batchDot is not implemented for tensors of 4D or higher rank yet");if(S(e.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`),S(e.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`),"number"==typeof a&&(a=[a,a]),"complex64"===e.dtype||"complex64"===t.dtype)throw new pb("batchDot is not implemented for complex64-type Tensors yet.");let r=e.shape.length,n=t.shape.length;null==a&&(a=[r-1,n-2]);let i=a;return rA(()=>{let a,s;if(r>n){a=r-n;let e=[];for(let t=0;t<a;++t)e.push(1);t=il(t,t.shape.concat(e))}else if(n>r){a=n-r;let t=[];for(let e=0;e<a;++e)t.push(1);e=il(e,e.shape.concat(t))}else a=0;if(2===e.shape.length&&2===t.shape.length)s=i[0]===i[1]?iH(na(e,t),i[0]):iH(na(sB(e,[1,0]),t),i[1]);else{let a=i[0]!==e.shape.length-1,r=i[1]===t.shape.length-1;s=i3(e,t,a,r)}if(a>0){let e;e=r>n?r+n-3:r-1;let t=[];for(let r=e;r<e+a;++r)t.push(r);s=s_(s,t)}return 1===s.shape.length&&(s=iO(s,1)),s})}(a,r,t)}interpretAxes(e,t){return Array.isArray(this.axes)?this.axes:[ci(this.axes,e.length),ci(this.axes,t.length)]}computeOutputShape(e){S(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");let t=e[0].slice(),a=e[1].slice();if(t.length>3||a.length>3)throw new pb("Dot layer does not support tensors of 4D or higher rank yet.");let r=this.interpretAxes(t,a);t.splice(r[0],1),a.splice(r[1],1),a.splice(0,1);let n=t.concat(a);return 1===n.length&&n.push(1),n}computeMask(e,t){return null}getConfig(){let e={axes:this.axes,normalize:this.normalize};return Object.assign(e,super.getConfig()),e}}cs.className="Dot",nh(cs);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class co extends dG{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return rA(()=>{this.invokeCallHook(e,t);let a=dD(e);return dd(()=>r7(dn(a.shape,0,this.stddev),a),()=>a,t.training||!1)})}}co.className="GaussianNoise",nh(co);class cl extends dG{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return rA(()=>{this.invokeCallHook(e,t);let a=dD(e);return this.rate>0&&this.rate<1?dd(()=>{let e=Math.sqrt(this.rate/(1-this.rate));return na(a,dn(a.shape,1,e))},()=>a,t.training||!1):a})}}cl.className="GaussianDropout",nh(cl);class cp extends dG{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||dD(e).shape}computeOutputShape(e){return e}getConfig(){let e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return rA(()=>{if(this.rate<1&&this.rate>0){let a=this._getNoiseShape(e);return dd(()=>{let t=dD(e),r=iU(sm(a),this.rate);r=r8(r,"float32");let n=((1-this.rate)*(1+3.09091329228798*this.rate))**-.5,i=-(-1.7580993408473766*n)*this.rate,s=r7(na(t,r),na(r7(r,-1),-1.7580993408473766));return r7(na(s,n),i)},()=>dD(e),t.training||!1)}return e})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function cd(e,t,a,r,n,i=.001){let s;if(2===e.rank)s=ih(e,t,a,r,n,i);else if(3===e.rank)s=ic(e,t,a,r,n,i);else if(4===e.rank)s=im(e,t,a,r,n,i);else throw new pb(`batchNormalization is not implemented for array of rank ${e.rank} yet`);return s}cp.className="AlphaDropout",nh(cp);class cu extends dG{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=d$(e.betaInitializer||"zeros"),this.gammaInitializer=d$(e.gammaInitializer||"ones"),this.movingMeanInitializer=d$(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=d$(e.movingVarianceInitializer||"ones"),this.betaConstraint=d8(e.betaConstraint),this.gammaConstraint=d8(e.gammaConstraint),this.betaRegularizer=hu(e.betaRegularizer),this.gammaRegularizer=hu(e.gammaRegularizer)}build(e){e=dF(e);let t=this.axis>=0?this.axis:this.axis+e.length,a=e[t];if(null==a)throw new pv(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new dV({ndim:e.length,axes:{[t]:a}})];let r=[a];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return rA(()=>{let a=null!=t.training&&t.training,r=dD(e),n=r.shape,i=n.length,s=p4(0,i),o=this.axis>=0?this.axis:this.axis+i;s.splice(o,1);let l=px(1,i);l[o]=n[o];let p=s.slice();p.sort();let d=!A(p,p4(0,i).slice(0,i-1));if(!a)return(()=>{if(!d)return cd(r,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon);{let e=il(this.movingMean.read(),l);return cd(r,e,il(this.movingVariance.read(),l),this.center?il(this.beta.read(),l):null,this.scale?il(this.gamma.read(),l):null,this.epsilon)}})();let[u,h,c]=function(e,t,a,r,n=.001){return A(r.slice().sort(),p4(0,e.rank-1))?function(e,t,a,r,n=.001){return rA(()=>{let i=st(e,r),s=i.mean,o=i.variance;return[cd(e,s,o,a,t,n),s,o]})}(e,t,a,r,n):function(e,t,a,r,n=.001){return rA(()=>{let i=st(e,r),s=i.mean,o=i.variance,l=[];for(let t of p4(0,e.rank))-1!==r.indexOf(t)?l.push(1):l.push(e.shape[t]);let p=il(s,l),d=il(o,l),u=null==t?null:il(t,l);return[cd(e,p,d,null==a?null:il(a,l),u,n),s,o]})}(e,t,a,r,n)}(r,this.gamma.read(),this.beta.read(),s,this.epsilon),m=(e,t,a)=>{rA(()=>{let r=e.read(),n=na(nb(r,t),1-a);e.write(nb(r,n))})};return(()=>{m(this.movingMean,h,this.momentum),m(this.movingVariance,c,this.momentum)})(),u})}getConfig(){let e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:p_(this.betaInitializer),gammaInitializer:p_(this.gammaInitializer),movingMeanInitializer:p_(this.movingMeanInitializer),movingVarianceInitializer:p_(this.movingVarianceInitializer),betaRegularizer:p_(this.betaRegularizer),gammaRegularizer:p_(this.gammaRegularizer),betaConstraint:p_(this.betaConstraint),gammaConstraint:p_(this.gammaConstraint)};return Object.assign(e,super.getConfig()),e}}cu.className="BatchNormalization",nh(cu);class ch extends dG{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(let e of this.axis)if(!Number.isInteger(e))throw Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=d$(e.betaInitializer||"zeros"),this.gammaInitializer=d$(e.gammaInitializer||"ones"),this.betaRegularizer=hu(e.betaRegularizer),this.gammaRegularizer=hu(e.gammaRegularizer),this.supportsMasking=!0}build(e){let t=(e=dF(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let e=0;e<this.axis.length;++e)this.axis[e]<0&&(this.axis[e]+=t);for(let e of this.axis)if(e<0||e>=t)throw Error(`Invalid axis: ${e}`);if(this.axis.length!==pR(this.axis).length)throw Error(`Found duplicate axes in: ${this.axis}`);let a=this.axis.map(t=>e[t]);this.scale?this.gamma=this.addWeight("gamma",a,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",a,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0}call(e,t){let a=dD(e),r=a.shape,n=r.length;return rA(()=>{let{mean:e,variance:t}=st(a,this.axis,!0),i=px(1,n);for(let e of this.axis)i[e]=r[e];let s=e=>null!=e&&e.shape.length!==n?il(e,i):e,o=this.scale?s(this.gamma.read()):null,l=this.center?s(this.beta.read()):null,p=[],d=[];for(let e=0;e<n;++e)-1!==this.axis.indexOf(e)?(p.push(r[e]),d.push(1)):(p.push(1),d.push(r[e]));return e=iP(e,p),t=iP(t,p),null!=o&&(o=iP(o,d)),null!=l&&(l=iP(l,d)),cd(a,e,t,l,o,this.epsilon)})}getConfig(){let e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:p_(this.betaInitializer),gammaInitializer:p_(this.gammaInitializer),betaRegularizer:p_(this.betaRegularizer),gammaRegularizer:p_(this.gammaRegularizer)};return Object.assign(e,super.getConfig()),e}}ch.className="LayerNormalization",nh(ch);class cc extends dG{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?p6():e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{let t,a;if(e.padding=e.padding,2!==e.padding.length)throw new pv(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);if("number"==typeof e.padding[0])t=[e.padding[0],e.padding[0]],a=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new pv(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],2!==e.padding[1].length)throw new pv(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);a=e.padding[1]}this.padding=[t,a]}this.inputSpec=[new dV({ndim:4})]}computeOutputShape(e){let t,a;return(e=dF(e),"channelsFirst"===this.dataFormat)?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,a=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,a]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,a=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,a,e[3]])}call(e,t){return rA(()=>{var t,a,r;return t=dD(e),a=this.padding,r=this.dataFormat,rA(()=>{if(4!==t.rank)throw new pv(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(null==a&&(a=[[1,1],[1,1]]),2!==a.length||2!==a[0].length||2!==a[1].length)throw new pv("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==r&&(r=p6()),"channelsLast"!==r&&"channelsFirst"!==r)throw new pv(`Unknown data format: ${r}. Supported data formats are 'channelsLast' and 'channelsFirst.`);return sl(t,"channelsFirst"===r?[[0,0],[0,0],a[0],a[1]]:[[0,0],a[0],a[1],[0,0]])})})}getConfig(){let e={padding:this.padding,dataFormat:this.dataFormat};return Object.assign(e,super.getConfig()),e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function cm(e,t,a,r,n,i){return rA(()=>{let s;pG(n),pK(i),pH(r),null==a&&(a=[1,1]),null==r&&(r="valid"),null==n&&(n=p6()),null==i&&(i="max"),e=hx(e,n);let o="same"===r?"same":"valid";return s="max"===i?i6(e,t,a,o):ip(e,t,a,o),"channelsFirst"===n&&(s=sB(s,[0,3,1,2])),s})}function cf(e,t,a,r,n,i){return rA(()=>{let s;pG(n),pK(i),pH(r),null==a&&(a=[1,1,1]),null==r&&(r="valid"),null==n&&(n=p6()),null==i&&(i="max"),e=hN(e,n);let o="same"===r?"same":"valid";return s="max"===i?i8(e,t,a,o):id(e,t,a,o),"channelsFirst"===n&&(s=sB(s,[0,4,1,2,3])),s})}cc.className="ZeroPadding2D",nh(cc);class cg extends dG{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"==typeof e.poolSize)this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&1===e.poolSize.length&&"number"==typeof e.poolSize[0])this.poolSize=e.poolSize;else throw new pv(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(pF(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"==typeof e.strides)this.strides=[e.strides];else if(Array.isArray(e.strides)&&1===e.strides.length&&"number"==typeof e.strides[0])this.strides=e.strides;else throw new pv(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);pF(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,pH(this.padding),this.inputSpec=[new dV({ndim:3})]}computeOutputShape(e){let t=hy((e=dF(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return rA(()=>(this.invokeCallHook(e,t),e=p8(dD(e),2),s_(this.poolingFunction(dD(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast"),[2])))}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides};return Object.assign(e,super.getConfig()),e}}class cv extends cg{constructor(e){super(e)}poolingFunction(e,t,a,r,n){return pG(n),pH(r),cm(e,t,a,r,n,"max")}}cv.className="MaxPooling1D",nh(cv);class cb extends cg{constructor(e){super(e)}poolingFunction(e,t,a,r,n){return pG(n),pH(r),cm(e,t,a,r,n,"avg")}}cb.className="AveragePooling1D",nh(cb);class cy extends dG{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new pv(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];pF(this.poolSize,"poolSize"),pF(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,pG(this.dataFormat),pH(this.padding),this.inputSpec=[new dV({ndim:4})]}computeOutputShape(e){e=dF(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],a="channelsFirst"===this.dataFormat?e[3]:e[2];return(t=hy(t,this.poolSize[0],this.padding,this.strides[0]),a=hy(a,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat)?[e[0],e[1],t,a]:[e[0],t,a,e[3]]}call(e,t){return rA(()=>(this.invokeCallHook(e,t),this.poolingFunction(dD(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat};return Object.assign(e,super.getConfig()),e}}class cw extends cy{constructor(e){super(e)}poolingFunction(e,t,a,r,n){return pG(n),pH(r),cm(e,t,a,r,n,"max")}}cw.className="MaxPooling2D",nh(cw);class cx extends cy{constructor(e){super(e)}poolingFunction(e,t,a,r,n){return pG(n),pH(r),cm(e,t,a,r,n,"avg")}}cx.className="AveragePooling2D",nh(cx);class cN extends dG{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new pv(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];pF(this.poolSize,"poolSize"),pF(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,pG(this.dataFormat),pH(this.padding),this.inputSpec=[new dV({ndim:5})]}computeOutputShape(e){e=dF(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],a="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return(t=hy(t,this.poolSize[0],this.padding,this.strides[0]),a=hy(a,this.poolSize[1],this.padding,this.strides[1]),r=hy(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat)?[e[0],e[1],t,a,r]:[e[0],t,a,r,e[4]]}call(e,t){return rA(()=>(this.invokeCallHook(e,t),this.poolingFunction(dD(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){let e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat};return Object.assign(e,super.getConfig()),e}}class ck extends cN{constructor(e){super(e)}poolingFunction(e,t,a,r,n){return pG(n),pH(r),cf(e,t,a,r,n,"max")}}ck.className="MaxPooling3D",nh(ck);class cS extends cN{constructor(e){super(e)}poolingFunction(e,t,a,r,n){return pG(n),pH(r),cf(e,t,a,r,n,"avg")}}cS.className="AveragePooling3D",nh(cS);class cI extends dG{constructor(e){super(e),this.inputSpec=[new dV({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new pb}}class cC extends cI{constructor(e){super(e||{})}call(e,t){return rA(()=>i9(dD(e),1))}}cC.className="GlobalAveragePooling1D",nh(cC);class cT extends cI{constructor(e){super(e||{})}call(e,t){return rA(()=>iG(dD(e),1))}}cT.className="GlobalMaxPooling1D",nh(cT);class cA extends dG{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,pG(this.dataFormat),this.inputSpec=[new dV({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new pb}getConfig(){let e={dataFormat:this.dataFormat};return Object.assign(e,super.getConfig()),e}}class c_ extends cA{call(e,t){return rA(()=>{let t=dD(e);return"channelsLast"===this.dataFormat?i9(t,[1,2]):i9(t,[2,3])})}}c_.className="GlobalAveragePooling2D",nh(c_);class cE extends cA{call(e,t){return rA(()=>{let t=dD(e);return"channelsLast"===this.dataFormat?iG(t,[1,2]):iG(t,[2,3])})}}cE.className="GlobalMaxPooling2D",nh(cE);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class c$ extends dG{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){let e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}};return Object.assign(e,super.getConfig()),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t,a={}){let r=ul(t.layer,a);delete t.layer;let n={layer:r};return Object.assign(n,t),new e(n)}}class cR extends c${constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=dF(e)).length<3)throw new pv(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];let t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){let t=[(e=dF(e))[0]].concat(e.slice(2)),a=this.layer.computeOutputShape(t),r=e[1];return[a[0],r].concat(a.slice(1))}call(e,t){return rA(()=>hP((e,a)=>[dD(this.layer.call(e,t)),[]],e=dD(e),[],!1,null,null,!1,!0)[1])}}cR.className="TimeDistributed",nh(cR);class cL extends c${constructor(e){super(e);let t=e.layer.getConfig(),a={};a.className=e.layer.getClassName(),a.config=t,this.forwardLayer=ul(a),t.goBackwards=!0!==t.goBackwards;let r={};if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=ul(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,pL(pW,"BidirectionalMergeMode",this.mergeMode),e.weights)throw new pb("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){let t=Math.floor(e.length/2);this.forwardLayer.setWeights(e.slice(0,t)),this.backwardLayer.setWeights(e.slice(t))}computeOutputShape(e){let t,a,r,n=this.forwardLayer.computeOutputShape(e);return(Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),this.returnState&&(r=n.slice(1)),t=n[0],"concat"===this.mergeMode?(t[t.length-1]*=2,a=[t]):a=null==this.mergeMode?[t,t.slice()]:[t],this.returnState)?null==this.mergeMode?a.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):pS(a)}apply(e,t){let a=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});let n=hO(e,a,r,this.numConstants);if(e=n.inputs,a=n.initialState,r=n.constants,Array.isArray(e)&&(a=e.slice(1),e=e[0]),(null==a||0===a.length)&&null==r)return super.apply(e,t);let i=[],s=[];if(null!=a){let e=a.length;if(e%2>0)throw new pv("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=a,i.push(...a);let r=a.map(e=>new dV({shape:e.shape}));this.forwardLayer.stateSpec=r.slice(0,e/2),this.backwardLayer.stateSpec=r.slice(e/2),s.push(...r)}if(null!=r)throw new pb("Support for constants in Bidirectional layers is not implemented yet.");let o=i[0]instanceof dU;for(let e of i)if(e instanceof dU!==o)throw new pv("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(!o)return super.apply(e,t);{let a=[e].concat(i),r=this.inputSpec.concat(s),n=this.inputSpec;this.inputSpec=r;let o=super.apply(a,t);return this.inputSpec=n,o}}call(e,t){return rA(()=>{let a,r,n,i;let s=t.initialState;if(null==s)a=this.forwardLayer.call(e,t),r=this.backwardLayer.call(e,t);else{let n=s.slice(0,s.length/2),i=s.slice(s.length/2);a=this.forwardLayer.call(e,Object.assign(t,{initialState:n})),r=this.backwardLayer.call(e,Object.assign(t,{initialState:i}))}return(this.returnState&&(Array.isArray(a)&&(n=a.slice(1).concat(r.slice(1))),a=a[0],r=r[0]),this.returnSequences&&(r=sv(r,1)),"concat"===this.mergeMode?i=dt([a,r]):"sum"===this.mergeMode?i=r7(a,r):"ave"===this.mergeMode?i=na(.5,r7(a,r)):"mul"===this.mergeMode?i=na(a,r):null==this.mergeMode&&(i=[a,r]),this.returnState)?null==this.mergeMode?i.concat(n):[i].concat(n):i})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){pY(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),pY(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,t){let a;if(Array.isArray(t)&&(t=t[0]),a=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,!this.returnState)return a;{let e=this.forwardLayer.states.map(e=>null);return Array.isArray(a)?a.concat(e).concat(e):[a].concat(e).concat(e)}}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){let e={mergeMode:this.mergeMode};return Object.assign(e,super.getConfig()),e}static fromConfig(e,t){let a=ul(t.layer);if(delete t.layer,null!=t.numConstants)throw new pb("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");return t.layer=a,new e(t)}}cL.className="Bidirectional",nh(cL);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class cD extends dG{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){let e={scale:this.scale,offset:this.offset};return Object.assign(e,super.getConfig()),e}call(e,t){return rA(()=>("float32"!==(e=dD(e)).dtype&&(e=r8(e,"float32")),r7(na(e,this.scale),this.offset)))}}cD.className="Rescaling",nh(cD);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let{resizeBilinear:cF,cropAndResize:cO}=ox;class cP extends dG{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,a,r,n,i,s,o){return rA(()=>{let l;let p=!1,d=(r+t)/i,u=(n+a)/s,h=[t/i,a/s,d,u],c=[];3===e.rank?(p=!0,l=sE([e])):l=e;for(let e=0;e<l.shape[0];e++)c.push(h);let m=cO(l,rI(c,[c.length,4]),sf(0,c.length,1,"int32"),[r,n],"nearest");return p?r8(dD(sF(m)),o):r8(m,o)})}upsize(e,t,a,r){return rA(()=>r8(cF(e,[t,a]),r))}call(e,t){return rA(()=>{let t=dD(e),a=t.dtype,r=t.shape,n=r[r.length-3],i=r[r.length-2],s=0;n!==this.height&&(s=Math.floor((n-this.height)/2));let o=0;return(i!==this.width&&0===(o=Math.floor((i-this.width)/2))&&(o=1),s>=0&&o>=0)?this.centerCrop(t,s,o,this.height,this.width,n,i,a):this.upsize(e,this.height,this.width,a)})}getConfig(){let e={height:this.height,width:this.width};return Object.assign(e,super.getConfig()),e}computeOutputShape(e){let t=(e=dF(e)).length-3,a=e.length-2;return e[t]=this.height,e[a]=this.width,e}}cP.className="CenterCrop",nh(cP);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class cM extends dG{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){let e={numTokens:this.numTokens,outputMode:this.outputMode};return Object.assign(e,super.getConfig()),e}computeOutputShape(e){return null==(e=dF(e))?[this.numTokens]:("oneHot"===this.outputMode&&1!==e[e.length-1]?e.push(this.numTokens):e[e.length-1]=this.numTokens,e)}call(e,t){return rA(()=>{let a;if("int32"!==(e=dD(e)).dtype&&(e=r8(e,"int32")),void 0!==t.countWeights){if("count"!==this.outputMode)throw new pv(`countWeights is not used when outputMode !== count.
              Received countWeights=${t.countWeights}`);a=dD(t.countWeights)}let r=iG(e),n=i7(e),i=iV(this.numTokens,r).bufferSync().get(0),s=iU(n,0).bufferSync().get(0);if(!(i&&s))throw new pv(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return(/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function(e,t,a,r){let n,i=dD(e);if("int32"!==i.dtype&&(i=r8(i,"int32")),"int"===t)return i;let s=i.shape;if(0===i.rank&&(i=iO(i,-1)),"oneHot"===t&&1!==i.shape[i.shape.length-1]&&(i=iO(i,-1)),i.rank>2)throw new pv(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${s} which would result in output rank ${i.rank}.`);let o=["multiHot","oneHot"].includes(t),l=i;if(n=void 0!==r&&"count"===t?iE(l,r,a,o):iE(l,[],a,o),"tfIdf"!==t)return n;if(r)return na(n,r);throw new pv("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,a))})}}cM.className="CategoryEncoding",nh(cM);let cB=new Set(["bilinear","nearest"]);class cz extends dG{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(cB.has(e.interpolation))this.interpolation=e.interpolation;else throw new pv(`Invalid interpolation parameter: ${e.interpolation} is not implemented`)}else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){let t=(e=dF(e))[2];return[this.height,this.width,t]}getConfig(){let e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio};return Object.assign(e,super.getConfig()),e}call(e,t){return rA(()=>{let t=[this.height,this.width];if("bilinear"===this.interpolation)return ox.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return ox.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw Error(`Interpolation is ${this.interpolation} but only ${[...cB]} are supported`)})}}cz.className="Resizing",nh(cz);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class cV{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}cV.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class cU extends dG{constructor(e){super(e),this.randomGenerator=new cV(e.seed)}getConfig(){let e={seed:this.randomGenerator.seed};return Object.assign(e,super.getConfig()),e}}cU.className="BaseRandomLayer";let cj=new Set(["bilinear","nearest"]);class cW extends cU{constructor(e){super(e);let{factor:t,interpolation:a="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new pv(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new pv(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new pv(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(a){if(cj.has(a))this.interpolation=a;else throw new pv(`Invalid interpolation parameter: ${a} is not implemented`)}}getConfig(){let e={factor:this.factor,interpolation:this.interpolation};return Object.assign(e,super.getConfig()),e}computeOutputShape(e){let t=(e=dF(e))[2];return[this.imgHeight,-1,t]}call(e,t){return rA(()=>{let t=dD(e);this.imgHeight=t.shape[t.shape.length-3];let a=t.shape[t.shape.length-2];this.widthFactor=sm([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let r=this.widthFactor.dataSync()[0]*a;r=Math.round(r);let n=[this.imgHeight,r];switch(this.interpolation){case"bilinear":return ox.resizeBilinear(e,n);case"nearest":return ox.resizeNearestNeighbor(e,n);default:throw Error(`Interpolation is ${this.interpolation}
          but only ${[...cj]} are supported`)}})}}cW.className="RandomWidth",nh(cW);et.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(N5||(N5={})),function(e){var t;(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"}(N4||(N4={}));function cq(e,t){return t?`${e}-${t}`:e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cG{get id(){return this.idTensor.id}constructor(e,t,a,r=-1){this.tensors=e,this.elementShape=t,this.elementDtype=a,null!=e&&e.forEach(e=>{if(a!==e.dtype)throw Error(`Invalid data types; op elements ${a}, but list elements ${e.dtype}`);assertShapesMatchAllowUndefinedSize(t,e.shape,"TensorList shape mismatch: "),keep(e)}),this.idTensor=scalar(0),this.maxNumElements=r,keep(this.idTensor)}copy(){return new cG([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(t=>{null!=e&&e.has(t.id)||t.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,a=-1){if(t!==this.elementDtype)throw Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==a&&this.tensors.length!==a)throw Error(`Operation expected a list with ${a} elements but got a list with ${this.tensors.length} elements.`);assertShapesMatchAllowUndefinedSize(e,this.elementShape,"TensorList shape mismatch: ");let r=inferElementShape(this.elementShape,this.tensors,e);return tidy(()=>stack(this.tensors.map(e=>reshape(e,r)),0))}popBack(e,t){if(t!==this.elementDtype)throw Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw Error("Trying to pop from an empty list.");let a=inferElementShape(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,assertShapesMatchAllowUndefinedSize(r.shape,e,"TensorList shape mismatch: "),reshape(r,a)}pushBack(e){if(e.dtype!==this.elementDtype)throw Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(assertShapesMatchAllowUndefinedSize(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw Error("Trying to push element into a full list.");keep(e),this.tensors.push(e)}resize(e){if(e<0)throw Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);let t=new cG([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let a=0;a<Math.min(this.tensors.length,e);++a)t.tensors[a]=this.tensors[a];return t}getItem(e,t,a){if(a!==this.elementDtype)throw Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw Error(`element at index ${e} is null.`);assertShapesMatchAllowUndefinedSize(this.tensors[e].shape,t,"TensorList shape mismatch: ");let r=inferElementShape(this.elementShape,this.tensors,t);return reshape(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);assertShapesMatchAllowUndefinedSize(this.elementShape,t.shape,"TensorList shape mismatch: "),keep(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,a){if(t!==this.elementDtype)throw Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);assertShapesMatchAllowUndefinedSize(this.elementShape,a,"TensorList shape mismatch: "),e=e.slice(0,this.size());let r=inferElementShape(this.elementShape,this.tensors,a);return 0===e.length?tensor([],[0].concat(r)):tidy(()=>stack(e.map(e=>reshape(this.tensors[e],r)),0))}concat(e,t){if(e&&e!==this.elementDtype)throw Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);assertShapesMatchAllowUndefinedSize(this.elementShape,t,"TensorList shape mismatch: ");let a=inferElementShape(this.elementShape,this.tensors,t);return 0===this.size()?tensor([],[0].concat(a)):tidy(()=>concat(this.tensors.map(e=>reshape(e,a)),0))}}function cH(e,t,a=new Map,r=new Set){if(null==e)return null;if("function"==typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw Error("Circular references are not supported.");if(a.has(e))return a.get(e);let n=t(e);if(n.recurse&&null!==n.value)throw Error("A deep map function may not return both a value and recurse=true.");if(!n.recurse)return a.set(e,n.value),n.value;if(cX(e)){let n=Array.isArray(e)?[]:{};for(let i in r.add(e),e){let s=cH(e[i],t,a,r);n[i]=s}return r.delete(e),e.__proto__&&(n.__proto__=e.__proto__),n}throw Error(`Can't recurse into non-iterable type: ${e}`)}function cK(e){return null===e?null:cX(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function cX(e){let t=!1;if(et.get("IS_BROWSER"))t=e instanceof TextDecoder;else{let{StringDecoder:r}=a(1576);t=e instanceof r}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof a9)&&!(e instanceof Promise)&&!t)}function cY(e){return e instanceof a9?{value:e.clone(),recurse:!1}:cX(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class cJ{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw RangeError("Can't create ring buffer of capacity < 1.");this.data=Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(let t of e)this.push(t)}pop(){if(this.isEmpty())throw RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);let e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw RangeError("Ring buffer is empty.");let e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw RangeError("Ring buffer is empty.");let t=this.wrap(this.begin+e),a=this.get(t);return this.set(t,this.pop()),a}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class cZ extends cJ{constructor(){super(cZ.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){let e=2*this.capacity,t=Array(e),a=this.length();for(let e=0;e<a;e++)t[e]=this.get(this.wrap(this.begin+e));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=a}}cZ.INITIAL_CAPACITY=32;class cQ{async toArray(){let e=[],t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){let e=this.prefetch(100),t=[],a=await e.next();for(;!a.done;)t.push(a.value),a=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),a=e(t.value);for(;!t.done&&a;)a=e((t=await this.next()).value)}handleErrors(e){return new c9(this,e)}filter(e){return new c6(this,e)}map(e){return new c8(this,e)}mapAsync(e){return new c7(this,e)}serialMapAsync(e){return new c7(this,e).serial()}flatmap(e){return new mt(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile(e=>!0===e)}rowMajorBatch(e,t=!0){return new c3(this,e,t)}columnMajorBatch(e,t=!0,a=cK){return this.rowMajorBatch(e,t).map(e=>(function(e,t=cK){return function e(t,a,r=new Set){let n=t[0];if(r.has(n))throw Error("Circular references are not supported.");let i=a(t);if(i.recurse&&null!==i.value)throw Error("A deep zip function may not return both a value and recurse=true.");if(!i.recurse)return i.value;if(cX(n)){let i=Array.isArray(n)?[]:{};for(let s in r.add(n),n){let n=e(t.map(e=>e[s]),a,r);i[s]=n}return r.delete(n),i}throw Error(`Can't recurse into non-iterable type: ${n}`)}(e,t)})(e,a))}concatenate(e,t){return new ma(new c1([this,e]),t)}take(e){return e<0||null==e?this:new c4(this,e)}skip(e){return e<0||null==e?this:new c5(this,e)}prefetch(e){return new mr(this,e)}shuffle(e,t){return new mn(this,e,t)}serial(){return new c0(this)}}class c1 extends cQ{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};let e=this.items[this.trav];return this.trav++,{value:cH(e,cY),done:!1}}}class c2 extends cQ{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class c0 extends cQ{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){return this.upstream.next()}}class c5 extends cQ{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){let e=await this.upstream.next();if(e.done)return e;r_(e.value)}return this.upstream.next()}}class c4 extends cQ{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class c3 extends cQ{constructor(e,t,a=!0){super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=a,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){let e=[];for(;e.length<this.batchSize;){let t=await this.upstream.next();if(t.done){if(this.enableSmallLastBatch&&e.length>0)return{value:e,done:!1};return{value:null,done:!0}}e.push(t.value)}return{value:e,done:!1}}}class c6 extends cQ{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;){let e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;r_(e.value)}}}class c8 extends cQ{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}async next(){let e=await this.upstream.next();if(e.done)return{value:null,done:!0};let t=rl(e.value),a=this.transform(e.value),r=rl(a);for(let e of t)ro(e,r)||e.dispose();return{value:a,done:!1}}}class c9 extends cQ{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class c7 extends cQ{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){let e=await this.upstream.next();if(e.done)return{value:null,done:!0};let t=rl(e.value),a=await this.transform(e.value),r=rl(a);for(let e of t)ro(e,r)||e.dispose();return{value:a,done:!1}}}class me extends cQ{constructor(){super(),this.outputQueue=new cZ,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class mt extends me{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){let e=await this.upstream.next();if(e.done)return!1;let t=rl(e.value),a=this.transform(e.value),r=rl(a);for(let e of(this.outputQueue.pushAll(a),t))ro(e,r)||e.dispose();return!0}}class ma extends cQ{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){let e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}let t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(N3||(N3={}));class mr extends cQ{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new cJ(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){let e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class mn extends mr{constructor(e,t,a){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=sd.alea(a||aX().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){let e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class mi{constructor(){this.size=null}batch(e,t=!0){let a=this;return S(e>0,()=>`batchSize needs to be positive, but it is
      ${e}`),ms(async()=>(await a.iterator()).columnMajorBatch(e,t,mo),this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e))}concatenate(e){let t=this;return ms(async()=>(await t.iterator()).concatenate(await e.iterator()),this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null)}filter(e){let t=this;return ms(async()=>(await t.iterator()).filter(t=>rA(()=>e(t))),this.size===1/0?1/0:null)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){let t=this;return ms(async()=>(await t.iterator()).map(t=>rA(()=>e(t))),this.size)}mapAsync(e){let t=this;return ms(async()=>(await t.iterator()).mapAsync(e),this.size)}prefetch(e){if(null==e)throw RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");let t=this;return ms(async()=>(await t.iterator()).prefetch(e),this.size)}repeat(e){let t=this;return ms(async()=>new ma(new c2(async()=>({value:await t.iterator(),done:!1})).take(e),void 0),null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null)}skip(e){let t=this;return ms(async()=>(await t.iterator()).skip(e),null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null)}shuffle(e,t,a=!0){if(null==e||e<0){if(null==this.size)throw RangeError("`Dataset.shuffle()` requires bufferSize to be specified.");throw RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`)}let r=this,n=sd.alea(t||aX().toString());return ms(async()=>{let t=n.int32();return a&&(t+=n.int32()),(await r.iterator()).shuffle(e,t.toString())},this.size)}take(e){let t=this;return ms(async()=>(await t.iterator()).take(e),null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null)}async toArray(){if(this.size===1/0)throw Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function ms(e,t=null){return new class extends mi{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function mo(e){var t,a;return null===e?null:null==(t=e[0])||null===(a=t)||"object"!=typeof a&&"function"!=typeof a||Array.isArray(t)||"object"==typeof t&&t instanceof a9||aZ(t)?{value:function(e){if(0===e.length)throw Error("Can't make a batch of zero elements.");return e[0]instanceof a9?sE(e):rI(e)}(e),recurse:!1}:{value:null,recurse:!0}}mi.MAX_BUFFER_SIZE=1e4,Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class ml extends cQ{split(e){return new mp(this,e)}}class mp extends ml{constructor(e,t){super(),this.upstream=e,this.impl=new md(e,t)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class md extends me{constructor(e,t){super(),this.upstream=e,this.separator=t,this.carryover=""}summary(){return`${this.upstream.summary()} -> Split('${this.separator}')`}async pump(){let e=await this.upstream.next();if(e.done)return""!==this.carryover&&(this.outputQueue.push(this.carryover),this.carryover="",!0);let t=e.value.split(this.separator);for(let e of(t[0]=this.carryover+t[0],t.slice(0,-1)))this.outputQueue.push(e);return this.carryover=t[t.length-1],!0}}class mu extends ml{constructor(e){super(),this.upstream=e,this.impl=new mh(e)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class mh extends me{constructor(e){if(super(),this.upstream=e,et.get("IS_BROWSER"))this.decoder=new TextDecoder("utf-8");else{let{StringDecoder:e}=a(1576);this.decoder=new e("utf8")}}summary(){return`${this.upstream.summary()} -> Utf8`}async pump(){let e,t;let a=await this.upstream.next();return!a.done&&(e=a.value,t=et.get("IS_BROWSER")?this.decoder.decode(e,{stream:!0}):this.decoder.write(Buffer.from(e.buffer)),this.outputQueue.push(t),!0)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mc(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>{null!=e&&S("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the CPU backend.`)})}class mm extends y{nextDataId(){return mm.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new b(this,rc)}write(e,t,a){this.firstUse&&(this.firstUse=!1,et.get("IS_NODE")&&aT("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));let r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:a,refCount:1}),r}makeTensorInfo(e,t,a){let r;if("string"===t&&null!=a&&a.length>0&&M(a[0])){let n=a.map(e=>aY(e));r=this.write(n,e,t)}else r=this.write(a,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){let t=this.data.get(e);t.refCount++}decRef(e){if(this.data.has(e)){let t=this.data.get(e);t.refCount--}}move(e,t,a,r,n){this.data.set(e,{values:t,dtype:r,refCount:n})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){let{dtype:t,complexTensorInfos:a}=this.data.get(e);return"complex64"===t?oZ(this.readSync(a.real.dataId),this.readSync(a.imag.dataId)):function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw Error(`Unknown dtype ${t}`)}(this.data.get(e).values,t)}bufferSync(e){let t=this.readSync(e.dataId);if("string"===e.dtype)try{let a=t.map(e=>aJ(e));return r6(e.shape,e.dtype,a)}catch(e){throw Error("Failed to decode encoded string bytes into utf-8")}return r6(e.shape,e.dtype,t)}makeOutput(e,t,a){return rc.makeTensorFromTensorInfo(this.makeTensorInfo(t,a,e),this)}disposeData(e,t=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;let{complexTensorInfos:a}=this.data.get(e);null!=a&&(this.disposeData(a.real.dataId,!0),this.disposeData(a.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){let t=aX();return e(),{kernelMs:aX()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){mc([e],"where");let t=this.readSync(e.dataId);return lw(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mf(e){return(t,a,r)=>{let n=F(a,t.length);for(let a=0;a<t.length;++a)n[a]=e(t[a],r);return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mg(e,t,a){return mv(e,mf(t),a)}function mv(e,t,a){return({inputs:r,attrs:n,backend:i})=>{let s;let{x:o}=r;mc(o,e);let l=i.data.get(o.dataId).values;if("string"===o.dtype){if(!Array.isArray(l))throw Error("String tensor's value was not an instance of Array");s=lb(l)}else s=l;let p=a||o.dtype,d=t(s,p,n);return i.makeTensorInfo(o.shape,p,d)}}mm.nextDataId=0,/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */r$("cpu",()=>new mm,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mb=mg("Elu",e=>e>=0?e:Math.exp(e)-1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function my(e){let{inputs:t,backend:a}=e,{x:r}=t;return a.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mw(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{alpha:i}=r;mc([n],"leakyRelu");let s=T(n.shape),o=a.data.get(n.dataId).values,l=F("float32",s);for(let e=0;e<o.length;e++)l[e]=o[e]<0?i*o[e]:o[e];return a.makeTensorInfo(n.shape,"float32",l)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mx(e){return(t,a,r,n,i)=>{let s=nk(t,a),o=s.length,l=j(s),p=F(i,T(s)),d=t.length,u=a.length,h=j(t),c=j(a),m=nx(t,s),f=nx(a,s);if(m.length+f.length===0)for(let t=0;t<p.length;++t)p[t]=e(r[t%r.length],n[t%n.length]);else for(let t=0;t<p.length;++t){let a=Y(t,o,l),i=a.slice(-d);m.forEach(e=>i[e]=0);let s=X(i,d,h),g=a.slice(-u);f.forEach(e=>g[e]=0);let v=X(g,u,c);p[t]=e(r[s],n[v])}return[p,s]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mN=mx((e,t)=>e<0?t*e:e);function mk(e){let{inputs:t,backend:a}=e,{x:r,alpha:n}=t;mc([r,n],"prelu");let i=a.data.get(r.dataId).values,s=a.data.get(n.dataId).values,[o,l]=mN(r.shape,n.shape,i,s,"float32");return a.makeTensorInfo(l,"float32",o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mS=mg(tV,e=>Math.max(0,e)),mI=mg(tH,e=>Math.min(Math.max(0,e),6)),mC=mf(e=>1/(1+Math.exp(-e))),mT=mg(t3,e=>1/(1+Math.exp(-e)));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mA(e,t,a,r,n){if("linear"===a)return my({inputs:{x:t},backend:e});if("relu"===a)return mS({inputs:{x:t},backend:e});if("elu"===a)return mb({inputs:{x:t},backend:e});if("relu6"===a)return mI({inputs:{x:t},backend:e});if("prelu"===a)return mk({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===a)return mw({inputs:{x:t},backend:e,attrs:{alpha:n}});if("sigmoid"===a)return mT({inputs:{x:t},backend:e});throw Error(`Activation ${a} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m_(e){let{inputs:t,backend:a}=e,{real:r,imag:n}=t,i=a.data.get(r.dataId).values,s=a.data.get(n.dataId).values,o=a.makeTensorInfo(r.shape,"complex64");return a.data.get(o.dataId).complexTensorInfos={real:a.makeTensorInfo(r.shape,"float32",i),imag:a.makeTensorInfo(n.shape,"float32",s)},o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mE(e,t,a="float32"){if("complex64"===a)return m_({inputs:{real:mE(e,t,"float32"),imag:mE(e,t,"float32")},backend:e});let r=G(T(t),a);return e.makeTensorInfo(t,a,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m$(e){let{inputs:t,backend:a}=e,{input:r}=t,n=a.data.get(r.dataId).complexTensorInfos.real,i=a.data.get(n.dataId).values;return a.makeTensorInfo(n.shape,n.dtype,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mR(e,t,a,r){if("int32"===r)return[t,"int32",Int32Array.from(e)];if("bool"===r){let r=aK([0],a),[n,i]=mx((e,t)=>e!==t?1:0)(t,[],e,r,"bool");return[i,"bool",n]}throw Error(`Error in Cast: failed to cast ${a} to ${r}`)}function mL(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{dtype:i}=r;if("complex64"===i){if("complex64"===n.dtype)return my({inputs:{x:n},backend:a});let e=mE(a,n.shape,n.dtype),t=mL({inputs:{x:n},backend:a,attrs:{dtype:"float32"}}),r=m_({inputs:{real:t,imag:e},backend:a});return a.disposeIntermediateTensorInfo(e),a.disposeIntermediateTensorInfo(t),r}if("complex64"===n.dtype){let e=m$({inputs:{input:n},backend:a}),t=mL({inputs:{x:e},backend:a,attrs:{dtype:i}});return a.disposeIntermediateTensorInfo(e),t}if(!O(n.dtype,i)){let e=my({inputs:{x:n},backend:a});return{dataId:e.dataId,shape:e.shape,dtype:i}}let[s,o,l]=mR(a.data.get(n.dataId).values,n.shape,n.dtype,i);return a.makeTensorInfo(s,o,l)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mD(e,t,a,r){return null==a?({inputs:a,backend:n})=>{let{a:i,b:s}=a;mc([i,s],e);let o=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values,p="string"===i.dtype?lb(o):o,d="string"===i.dtype?lb(l):l,u=r||i.dtype,[h,c]=t(i.shape,s.shape,p,d,u);return n.makeTensorInfo(c,u,h)}:({inputs:e,backend:n})=>{let{a:i,b:s}=e;if("complex64"===i.dtype||"complex64"===s.dtype){let e=mL({inputs:{x:i},backend:n,attrs:{dtype:"complex64"}}),t=n.data.get(e.dataId),r=t.complexTensorInfos.real,o=t.complexTensorInfos.imag,l=n.data.get(r.dataId).values,p=n.data.get(o.dataId).values,d=mL({inputs:{x:s},backend:n,attrs:{dtype:"complex64"}}),u=n.data.get(d.dataId),h=u.complexTensorInfos.real,c=u.complexTensorInfos.imag,m=n.data.get(h.dataId).values,f=n.data.get(c.dataId).values,[g,v,b]=a(i.shape,s.shape,l,p,m,f),y=n.makeTensorInfo(b,"float32",g),w=n.makeTensorInfo(b,"float32",v),x=m_({inputs:{real:y,imag:w},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(w),x}{let e=n.data.get(i.dataId).values,a=n.data.get(s.dataId).values,o=r||i.dtype,[l,p]=t(i.shape,s.shape,e,a,o);return n.makeTensorInfo(p,o,l)}}}function mF(e){return(t,a,r,n,i,s)=>{let o=nk(t,a),l=T(o),p=o.length,d=j(o),u=F("float32",l),h=F("float32",l),c=nx(t,o),m=nx(a,o),f=oZ(r,n),g=oZ(i,s),v=t.length,b=j(t),y=a.length,w=j(a);if(c.length+m.length===0)for(let t=0;t<u.length;t++){let a=t%f.length,r=t%g.length,n=e(f[2*a],f[2*a+1],g[2*r],g[2*r+1]);u[t]=n.real,h[t]=n.imag}else for(let t=0;t<u.length;t++){let a=Y(t,p,d),r=a.slice(-v);c.forEach(e=>r[e]=0);let n=X(r,v,b),i=a.slice(-y);m.forEach(e=>i[e]=0);let s=X(i,y,w),o=e(f[2*n],f[2*n+1],g[2*s],g[2*s+1]);u[t]=o.real,h[t]=o.imag}return[u,h,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mO=mx((e,t)=>e+t),mP=mD("Add",mO,mF((e,t,a,r)=>({real:e+a,imag:t+r})));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mM(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{shape:i}=r,s=T(n.shape),o=R(i,s),l=T(o);S(s===l,()=>`The new shape (${o}) has ${l} elements and the old shape (${n.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`),a.incRef(n.dataId);let p=a.data.get(n.dataId);if(null!=p.complexTensorInfos){let e=p.complexTensorInfos.real,t=p.complexTensorInfos.imag;e.shape=o,t.shape=o}return{dataId:n.dataId,shape:o,dtype:n.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mB(e){let{inputs:t,backend:a,attrs:r}=e,{a:n,b:i}=t,{transposeA:s,transposeB:o}=r;mc([n,i],"matMul");let l=n.shape.length,p=i.shape.length,d=s?n.shape[l-2]:n.shape[l-1],u=o?i.shape[p-1]:i.shape[p-2],h=s?n.shape[l-1]:n.shape[l-2],c=o?i.shape[p-2]:i.shape[p-1],m=n.shape.slice(0,-2),f=i.shape.slice(0,-2),g=T(m),v=T(f),b=nk(n.shape.slice(0,-2),i.shape.slice(0,-2)).concat([h,c]);S(d===u,()=>`Error in matMul: inner shapes (${d}) and (${u}) of Tensors with shapes ${n.shape} and ${i.shape} and transposeA=${s} and transposeB=${o} must match.`);let y=mM({inputs:{x:n},backend:a,attrs:{shape:s?[g,d,h]:[g,h,d]}}),w=mM({inputs:{x:i},backend:a,attrs:{shape:o?[v,c,u]:[v,u,c]}}),x=s?y.shape[1]:y.shape[2],N=s?y.shape[2]:y.shape[1],k=o?w.shape[1]:w.shape[2],I=Math.max(g,v),C=a.data.get(y.dataId).values,A=a.data.get(w.dataId).values,_=j(y.shape),E=j(w.shape),[$,R,L]=s?[_[0],1,_[1]]:[_[0],_[1],1],[D,F,O]=o?[1,E[1],E[0]]:[E[1],1,E[0]],P=N*k,M=r6([I,N,k],y.dtype),B=M.values,z=a.blockSize;for(let e=0;e<I;e++){let t=e%g,a=e%v;for(let r=0;r<N;r+=z){let n=Math.min(r+z,N);for(let i=0;i<k;i+=z){let s=Math.min(i+z,k);for(let o=0;o<x;o+=z){let l=Math.min(o+z,x);for(let p=r;p<n;p++)for(let r=i;r<s;r++){let n=0;for(let e=o;e<l;e++)n+=C[t*$+p*R+e*L]*A[e*D+r*F+a*O];B[e*P+(p*k+r)]+=n}}}}}return a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(w),a.makeTensorInfo(b,M.dtype,M.values)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mz(e){let t=new Float32Array(e.length);for(let a=0;a<e.length;++a)t[a]=Math.abs(e[a]);return t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mV=mg(en,e=>Math.acos(e)),mU=mg(ei,e=>Math.acosh(e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mj(e,t,a,r,n){let i=t.length,s=T(t),o=j(t),l=j(n),p=F(a,T(n));for(let t=0;t<s;++t){let a=Y(t,i,o),n=Array(a.length);for(let e=0;e<n.length;e++)n[e]=a[r[e]];p[X(n,i,l)]=e[t]}return p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mW(e){let{inputs:t,attrs:a,backend:r}=e,{x:n}=t,{perm:i}=a;mc(n,"transpose");let s=Array(n.shape.length);for(let e=0;e<s.length;e++)s[e]=n.shape[i[e]];let o=mj(r.data.get(n.dataId).values,n.shape,n.dtype,i,s);return{dataId:r.write(o,s,n.dtype),shape:s,dtype:n.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mq=mg(ep,e=>Math.asin(e)),mG=mg(ed,e=>Math.asinh(e)),mH=mg(eu,e=>Math.atan(e)),mK=mD(ec,mx((e,t)=>Math.atan2(e,t))),mX=mg(eh,e=>Math.atanh(e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mY(e,t,a,r,n,i){let s=n.strideHeight,o=n.strideWidth,l=n.dilationHeight,p=n.dilationWidth,d=n.effectiveFilterHeight,u=n.effectiveFilterWidth,h=n.padInfo.top,c=n.padInfo.left,m="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,f=r6(n.outShape,a),g=f.values,v=n.outShape[1]*n.outShape[2]*n.outShape[3],b=n.outShape[2]*n.outShape[3],y=n.outShape[3];for(let t=0;t<n.batchSize;++t){let a=t*v,f=t*r[0];for(let t=0;t<n.inChannels;++t)for(let v=0;v<n.outHeight;++v){let w=v*s-h,x=Math.max(0,w),N=Math.min(n.inHeight,d+w),k=a+v*b;for(let a=0;a<n.outWidth;++a){let s=a*o-c,d=Math.max(0,s),h=Math.min(n.inWidth,u+s),v=m,b=0,w=0;for(let a=x;a<N;a+=l){let n=f+a*r[1];for(let a=d;a<h;a+=p){let s=e[n+a*r[2]+t];"max"===i&&s>v?v=s:"avg"===i&&(b+=s,w++)}if(isNaN(v))break}g[k+a*y+t]="avg"===i?b/w:v}}}return f}function mJ(e,t,a,r,n=!1,i=!1){let s=r6(r.outShape,"int32"),o=r.strideHeight,l=r.strideWidth,p=r.dilationHeight,d=r.dilationWidth,u=r.effectiveFilterHeight,h=r.effectiveFilterWidth,c=r.padInfo.top,m=r.padInfo.left,f=r6(t,a,e);for(let e=0;e<r.batchSize;++e)for(let t=0;t<r.inChannels;++t)for(let a=0;a<r.outHeight;++a){let g=a*o-c,v=g;for(;v<0;)v+=p;let b=Math.min(r.inHeight,u+g);for(let o=0;o<r.outWidth;++o){let u=o*l-m,c=u;for(;c<0;)c+=d;let y=Math.min(r.inWidth,h+u),w=Number.NEGATIVE_INFINITY,x=-1;for(let a=v;a<b;a+=p){let s=a-g;for(let o=c;o<y;o+=d){let l=o-u,p=f.get(e,a,o,t);p>w&&(w=p,x=n?i?((e*r.inHeight+a)*r.inWidth+o)*r.inChannels+t:(a*r.inWidth+o)*r.inChannels+t:s*h+l)}}s.set(x,e,a,o,t)}}return s}function mZ(e,t,a,r,n,i){let s=n.strideDepth,o=n.strideHeight,l=n.strideWidth,p=n.dilationDepth,d=n.dilationHeight,u=n.dilationWidth,h=n.effectiveFilterDepth,c=n.effectiveFilterHeight,m=n.effectiveFilterWidth,f=n.padInfo.front,g=n.padInfo.top,v=n.padInfo.left,b="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=r6(n.outShape,a),w=y.values,x=n.outShape[1]*n.outShape[2]*n.outShape[3]*n.outShape[4],N=n.outShape[2]*n.outShape[3]*n.outShape[4],k=n.outShape[3]*n.outShape[4],S=n.outShape[4];for(let t=0;t<n.batchSize;++t){let a=t*x,y=t*r[0];for(let t=0;t<n.inChannels;++t)for(let x=0;x<n.outDepth;++x){let I=x*s-f,C=I;for(;C<0;)C+=p;let T=Math.min(n.inDepth,h+I),A=a+x*N;for(let a=0;a<n.outHeight;++a){let s=a*o-g,h=s;for(;h<0;)h+=d;let f=Math.min(n.inHeight,c+s),x=A+a*k;for(let a=0;a<n.outWidth;++a){let s=a*l-v,o=s;for(;o<0;)o+=u;let c=Math.min(n.inWidth,m+s),g=x+a*S,N=b,k=0,I=0;for(let a=C;a<T;a+=p){let n=y+a*r[1];for(let a=h;a<f;a+=d){let s=n+a*r[2];for(let a=o;a<c;a+=u){let n=e[s+a*r[3]+t];if("max"===i&&n>N?N=n:"avg"===i&&(k+=n,I++),isNaN(N))break}if(isNaN(N))break}if(isNaN(N))break}w[g+t]="avg"===i?k/Math.max(I,1):N}}}}return y}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mQ(e,t,a,r,n){let i=nK(r,t,a),s=T(a),o=j(r);if(i){let a=nX(t,o);return"string"===n?e.slice(a,a+s):e.subarray(a,a+s)}let l="string"===n?lb(e):e,p=r6(r,n,l),d=r6(a,n);for(let e=0;e<d.size;++e){let a=d.indexToLoc(e),r=a.map((e,a)=>e+t[a]);d.set(p.get(...r),...a)}return"string"===n?ly(d.values):d.values}function m1(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{begin:i,size:s}=r;mc(n,"slice");let[o,l]=nY(n,i,s);nP(n,o,l);let p=mQ(a.data.get(n.dataId).values,o,l,n.shape,n.dtype);return a.makeTensorInfo(l,n.dtype,p)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m2(e,t,a,r,n){let i=T(r),s=G(n,a);for(let a=0;a<e.length;a++){let r=e[a];if(r<0)throw Error("Input x must be non-negative!");r>=n||(i>0?s[r]+=t[a]:s[r]+=1)}return s}function m0(e,t,a,r=!1){let n=e.shape[0],i=e.shape[1],s=r6([n,a],t.dtype);for(let o=0;o<n;o++)for(let n=0;n<i;n++){let i=e.get(o,n);if(i<0)throw Error("Input x must be non-negative!");i>=a||(r?s.set(1,o,i):t.size>0?s.set(s.get(o,i)+t.get(o,n),o,i):s.set(s.get(o,i)+1,o,i))}return s}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let m5=mx((e,t)=>e&t),m4=mD(ex,m5),m3=mf(e=>Math.ceil(e)),m6=mv(eS,m3),m8=mg(eI,(e,t)=>e>t.clipValueMax?t.clipValueMax:e<t.clipValueMin?t.clipValueMin:e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m9(e,t,a,r){let n=F(a,T(t));if(r&&"string"!==a){let t=0;e.forEach(e=>{let a=T(e.shape);n.set(e.vals,t),t+=a})}else{let r=0;e.forEach(e=>{let i="string"===a?lb(e.vals):e.vals,s=0;for(let a=0;a<e.shape[0];++a){let o=a*t[1]+r;for(let t=0;t<e.shape[1];++t)n[o+t]=i[s++]}r+=e.shape[1]})}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m7(e){let{inputs:t,backend:a}=e,{input:r}=t,n=a.data.get(r.dataId).complexTensorInfos.imag,i=a.data.get(n.dataId).values;return a.makeTensorInfo(n.shape,n.dtype,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fe(e){let{inputs:t,backend:a,attrs:r}=e,{axis:n}=r,i=L(n,t[0].shape)[0];oC(t.map(e=>e.shape),i);let s=oT(t.map(e=>e.shape),i);if(0===T(s))return a.makeTensorInfo(s,t[0].dtype,[]);let o=t.filter(e=>T(e.shape)>0);if(1===o.length)return my({inputs:{x:o[0]},backend:a});if("complex64"===o[0].dtype){let e=o.map(e=>m$({inputs:{input:e},backend:a})),t=o.map(e=>m7({inputs:{input:e},backend:a})),r=fe({inputs:e,backend:a,attrs:{axis:i}}),n=fe({inputs:t,backend:a,attrs:{axis:i}}),s=m_({inputs:{real:r,imag:n},backend:a});return e.forEach(e=>a.disposeIntermediateTensorInfo(e)),t.forEach(e=>a.disposeIntermediateTensorInfo(e)),a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(n),s}let l=o.map(e=>{let t=T(e.shape.slice(i));return mM({inputs:{x:e},backend:a,attrs:{shape:[-1,t]}})}),p=l.map(e=>({vals:a.data.get(e.dataId).values,shape:e.shape}));s=oT(l.map(e=>e.shape),1);let d=1===l[0].shape[0],u=m9(p,s,t[0].dtype,d),h=oT(o.map(e=>e.shape),i),c=a.makeTensorInfo(h,t[0].dtype,u);return l.forEach(e=>a.disposeIntermediateTensorInfo(e)),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ft(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,filter:i}=t,{strides:s,pad:o,dataFormat:l,dilations:p,dimRoundingMode:d}=r;mc([n,i],"conv2d");let u=is(l),h=n3(n.shape,i.shape,s,p,o,d,!1,u),c=h.filterHeight,m=h.filterWidth,f=h.dilationHeight,g=h.dilationWidth,v=h.padInfo.left,b=h.padInfo.top,y="channelsLast"===h.dataFormat,w=new a3(h.outShape,n.dtype),x=j(n.shape),N=j(i.shape),k=x[0],S=y?x[1]:x[2],I=y?x[2]:1,C=y?1:x[1],T=w.strides[0],A=y?w.strides[1]:w.strides[2],_=y?w.strides[2]:1,E=y?1:w.strides[1],$=a.data.get(n.dataId).values,R=a.data.get(i.dataId).values,L=w.values;for(let e=0;e<h.batchSize;++e){let t=e*k,a=e*T;for(let e=0;e<h.outHeight;++e){let r=a+e*A,n=e*h.strideHeight-b;for(let e=0;e<c;++e){let a=n+e*f;if(a<0||a>=h.inHeight)continue;let i=e*N[0],s=t+a*S;for(let e=0;e<h.outWidth;++e){let t=r+e*_,a=e*h.strideWidth-v;for(let e=0;e<m;++e){let r=a+e*g;if(r<0||r>=h.inWidth)continue;let n=i+e*N[1],o=s+r*I,l=n;for(let e=0;e<h.inChannels;++e){let a=$[o+e*C];for(let e=0;e<h.outChannels;++e)L[t+e*E]+=a*R[l+e];l+=h.outChannels}}}}}}return a.makeTensorInfo(w.shape,w.dtype,L)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let fa=mg("Cos",e=>Math.cos(e)),fr=mg(eF,e=>Math.cosh(e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fn(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,filter:i}=t,{strides:s,pad:o,dilations:l,dimRoundingMode:p}=r;mc([n,i],"depthwiseConv2DNative");let d=j(n.shape),u=j(i.shape),h=l;null==h&&(h=[1,1]),S(ir(s,h),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${h}'`);let c=n3(n.shape,i.shape,s,h,o,p,!0),{filterHeight:m,filterWidth:f,dilationHeight:g,dilationWidth:v,padInfo:b}=c,y=b.left,w=b.top,x=c.outChannels/c.inChannels,N=new a3(c.outShape,n.dtype),k=a.data.get(n.dataId).values,I=a.data.get(i.dataId).values,C=N.values;for(let e=0;e<c.batchSize;++e){let t=e*d[0],a=e*N.strides[0];for(let e=0;e<c.outHeight;++e){let r=a+e*N.strides[1],n=e*c.strideHeight-w;for(let e=0;e<m;++e){let a=n+e*g;if(a<0||a>=c.inHeight)continue;let i=e*u[0],s=t+a*d[1];for(let e=0;e<c.outWidth;++e){let t=r+e*N.strides[2],a=e*c.strideWidth-y;for(let e=0;e<f;++e){let r=a+e*v;if(r<0||r>=c.inWidth)continue;let n=i+e*u[1],o=s+r*c.inChannels,l=t,p=n;for(let e=0;e<c.inChannels;++e){let t=k[o+e];for(let e=0;e<x;++e)C[l+e]+=t*I[p+e];l+=x,p+=x}}}}}}return a.makeTensorInfo(N.shape,N.dtype,N.values)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let fi=mx((e,t)=>e*t),fs=mD(tS,fi,mF((e,t,a,r)=>({real:e*a-t*r,imag:e*r+t*a})));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fo(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a,{axis:s,keepDims:o}=n;mc(i,"sum");let l=(t="bool"===i.dtype?mL({inputs:{x:i},backend:r,attrs:{dtype:"int32"}}):my({inputs:{x:i},backend:r})).shape.length,p=L(s,t.shape),d=i1(p,l),u=p,h=t;null!=d&&(h=mW({inputs:{x:t},backend:r,attrs:{perm:d}}),u=i0(u.length,l)),iQ("sum",u,h.shape.length);let[c,m]=iJ(h.shape,u),f=mE(r,c,ra(h.dtype,"int32")),g=T(m),v=r.data.get(f.dataId).values,b=r.data.get(h.dataId).values;for(let e=0;e<v.length;++e){let t=e*g,a=0;for(let e=0;e<g;++e)a+=b[t+e];v[e]=a}if(o){let e=iZ(f.shape,p),t=f;f=mM({inputs:{x:f},backend:r,attrs:{shape:e}}),r.disposeIntermediateTensorInfo(t)}return r.disposeIntermediateTensorInfo(t),null!=d&&r.disposeIntermediateTensorInfo(h),f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let fl=mx((e,t)=>e===t?1:0),fp=mD(eJ,fl,null,"bool"),fd=mg("Erf",e=>{let t=Math.sign(e),a=Math.abs(e),r=1/(1+oG*a);return t*(1-((((oJ*r+oY)*r+oX)*r+oK)*r+oH)*r*Math.exp(-a*a))}),fu=mf(e=>Math.exp(e)),fh=mv("Exp",fu,"float32");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fc(e){let{inputs:t,backend:a,attrs:r}=e,{input:n}=t,{dim:i}=r,s=n.shape.length,o=n.shape.slice(),l=i;return i<0&&(S(-(s+1)<=i,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),l=s+i+1),o.splice(l,0,1),mM({inputs:{x:n},backend:a,attrs:{shape:o}})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let fm=mf(e=>Math.expm1(e)),ff=mv(eQ,fm),fg=mD(eK,mx((e,t)=>e/t)),fv={kernelName:eK,backendName:"cpu",kernelFunc:fg},fb=mx((e,t)=>e-t),fy=mD("Sub",fb,mF((e,t,a,r)=>({real:e-a,imag:t-r})));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fw(e,t,a){let r=e.shape,n=r[0],i=r[1],s=a.data.get(e.dataId),o=s.complexTensorInfos.real,l=s.complexTensorInfos.imag,p=[n,i],d=T(p),u=F("float32",d),h=F("float32",d);for(let e=0;e<n;e++){let r=m1({inputs:{x:o},backend:a,attrs:{begin:[e,0],size:[1,i]}}),n=m1({inputs:{x:l},backend:a,attrs:{begin:[e,0],size:[1,i]}}),s=m_({inputs:{real:r,imag:n},backend:a}),{real:p,imag:d}=function(e,t,a){let r=T(e.shape),n=a.data.get(e.dataId),i=a.data.get(n.complexTensorInfos.real.dataId).values,s=a.data.get(n.complexTensorInfos.imag.dataId).values;if((r&r-1)!=0)return oQ(function(e,t,a){let r=new Float32Array(2*t);for(let n=0;n<t;n++){let i=0,s=0;for(let r=0;r<t;r++){let o=o3(n*r,t,a),l=o0(e,r);i+=l.real*o.real-l.imag*o.imag,s+=l.real*o.imag+l.imag*o.real}a&&(i/=t,s/=t),o5(r,i,s,n)}return r}(oZ(i,s),r,t));{let n=function e(t,a,r,n,i){if(1===r)return{real:t,imag:a};let s=oZ(t,a),o=r/2,l=o1(s),p=l.real,d=l.imag,u=[p.length],h=i.makeTensorInfo(u,"float32",p),c=i.makeTensorInfo(u,"float32",d),m=m_({inputs:{real:h,imag:c},backend:i}),f=o2(s),g=f.real,v=f.imag,b=[g.length],y=i.makeTensorInfo(b,"float32",g),w=i.makeTensorInfo(b,"float32",v),x=m_({inputs:{real:y,imag:w},backend:i}),N=e(p,d,o,n,i),k=N.real,S=N.imag,I=[k.length],C=i.makeTensorInfo(I,"float32",k),T=i.makeTensorInfo(I,"float32",S),A=m_({inputs:{real:C,imag:T},backend:i}),_=e(g,v,o,n,i),E=_.real,$=_.imag,R=[E.length],L=i.makeTensorInfo(R,"float32",E),D=i.makeTensorInfo(R,"float32",$),F=m_({inputs:{real:L,imag:D},backend:i}),O=o4(r,n),P=[O.real.length],M=i.makeTensorInfo(P,"float32",O.real),B=i.makeTensorInfo(P,"float32",O.imag),z=m_({inputs:{real:M,imag:B},backend:i}),V=fs({inputs:{a:z,b:F},backend:i}),U=mP({inputs:{a:A,b:V},backend:i}),j=fy({inputs:{a:A,b:V},backend:i}),W=m$({inputs:{input:U},backend:i}),q=m$({inputs:{input:j},backend:i}),G=m7({inputs:{input:U},backend:i}),H=m7({inputs:{input:j},backend:i}),K=fe({inputs:[W,q],backend:i,attrs:{axis:0}}),X=fe({inputs:[G,H],backend:i,attrs:{axis:0}}),Y=i.data.get(K.dataId).values,J=i.data.get(X.dataId).values;return i.disposeIntermediateTensorInfo(h),i.disposeIntermediateTensorInfo(c),i.disposeIntermediateTensorInfo(m),i.disposeIntermediateTensorInfo(y),i.disposeIntermediateTensorInfo(w),i.disposeIntermediateTensorInfo(x),i.disposeIntermediateTensorInfo(C),i.disposeIntermediateTensorInfo(T),i.disposeIntermediateTensorInfo(A),i.disposeIntermediateTensorInfo(L),i.disposeIntermediateTensorInfo(D),i.disposeIntermediateTensorInfo(F),i.disposeIntermediateTensorInfo(M),i.disposeIntermediateTensorInfo(B),i.disposeIntermediateTensorInfo(z),i.disposeIntermediateTensorInfo(V),i.disposeIntermediateTensorInfo(U),i.disposeIntermediateTensorInfo(j),i.disposeIntermediateTensorInfo(W),i.disposeIntermediateTensorInfo(G),i.disposeIntermediateTensorInfo(q),i.disposeIntermediateTensorInfo(H),i.disposeIntermediateTensorInfo(K),i.disposeIntermediateTensorInfo(X),{real:Y,imag:J}}(i,s,r,t,a),o=[e.shape[0],e.shape[1]];if(t){let e=a.makeTensorInfo(o,"float32",n.real),t=a.makeTensorInfo(o,"float32",n.imag),i=a.makeTensorInfo([],"float32",aH(r,"float32")),s=my({inputs:{x:i},backend:a}),l=fv.kernelFunc({inputs:{a:e,b:i},backend:a}),p=fv.kernelFunc({inputs:{a:t,b:s},backend:a}),d=a.data.get(l.dataId).values,u=a.data.get(p.dataId).values;return a.disposeIntermediateTensorInfo(e),a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(i),a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(p),{real:d,imag:u}}return n}}(s,t,a),c=oZ(p,d);for(let t=0;t<i;t++){let a=o0(c,t);u[e*i+t]=a.real,h[e*i+t]=a.imag}a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(s)}let c=a.makeTensorInfo(p,"float32",u),m=a.makeTensorInfo(p,"float32",h),f=m_({inputs:{real:c,imag:m},backend:a});return a.disposeIntermediateTensorInfo(c),a.disposeIntermediateTensorInfo(m),f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fx(e){let{backend:t,attrs:a}=e,{shape:r,value:n,dtype:i}=a,s=i||z(n),o=F(s,T(r));return function(e,t,a){e.fill(t)}(o,n,0),t.makeTensorInfo(r,s,o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let fN=mf(e=>Math.floor(e)),fk=mv(e0,fN),fS=mD(e5,mx((e,t)=>Math.floor(e/t)),null,"int32");/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fI(e,t,a,r,n,i,s,o,l){let p=r6([r,i],a);for(let a=0;a<r;a++){let r=[],d=0;for(let t=0;t<n;t++){let i=e[a*n+t];d+=i*s[t],r.push(i)}if(d<0||d>=l/i)throw Error(`Invalid indices: ${r} does not index into ${o}`);for(let e=0;e<i;e++)p.values[a*i+e]=t.get(...t.indexToLoc(d*i+e))}return p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fC(e,t,a){let r=r6(a,e.dtype);for(let a=0;a<r.size;++a){let n=r.indexToLoc(a).slice(),i=n[0],s=n[2],o=t.locToIndex([i,s]);n[2]=t.values[o];let l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[a]=e.values[l])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let fT=mx((e,t)=>e>t?1:0),fA=mD(e8,fT,null,"bool"),f_=mx((e,t)=>e>=t?1:0),fE=mD(e9,f_,null,"bool"),f$=mg(ta,e=>Number.isFinite(e)?1:0,"bool"),fR=mg(tr,e=>Math.abs(e)===1/0?1:0,"bool"),fL=mg(tn,e=>Number.isNaN(e)?1:0,"bool"),fD=mx((e,t)=>e<t?1:0),fF=mD(ts,fD,null,"bool"),fO=mx((e,t)=>e<=t?1:0),fP=mD(to,fO,null,"bool");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fM(e,t,a){let r=(t-e)/(a-1),n=G(a,"float32");n[0]=e;for(let e=1;e<n.length;e++)n[e]=n[e-1]+r;return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let fB=mf(e=>Math.log(e)),fz=mv("Log",fB),fV=mg(tp,e=>Math.log1p(e)),fU=mD(td,mx((e,t)=>e&&t),null,"bool"),fj=mg(tu,e=>e?0:1,"bool"),fW=mD(th,mx((e,t)=>e||t),null,"bool");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fq(e,t,a,r){let n=F(r,T(a));for(let a=0;a<n.length;++a){let r=a*t,i=e[r];for(let a=0;a<t;++a){let t=e[r+a];(Number.isNaN(t)||t>i)&&(i=t)}n[a]=i}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fG(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{reductionIndices:i,keepDims:s}=r,o=n.shape,l=o.length,p=L(i,o),d=p,u=i1(d,l),h=a.data.get(n.dataId).values;if(null!=u){let e=Array(l);for(let t=0;t<e.length;t++)e[t]=o[u[t]];h=mj(h,o,n.dtype,u,e),d=i0(d.length,l),o=e}mc(n,"max"),iQ("max",d,l);let[c,m]=iJ(o,d),f=fq(h,T(m),c,n.dtype),g=a.write(f,c,n.dtype),v=c;return s&&(v=iZ(c,p)),{dataId:g,shape:v,dtype:n.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let fH=mx((e,t)=>Math.max(e,t)),fK=mD(tm,fH),fX=mx((e,t)=>Math.min(e,t)),fY=mD(tx,fX),fJ=mD("Mod",mx((e,t)=>{let a=e%t;return e<0&&t<0||e>=0&&t>=0?a:(a+t)%t}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fZ(e){let{inputs:t,backend:a,attrs:r}=e,{logits:n}=t,{dim:i}=r,s=n.shape.length,o=i;if(-1===o&&(o=s-1),o!==s-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${s} and dim was ${o}`);let l=L([o],n.shape),p=fG({inputs:{x:n},backend:a,attrs:{reductionIndices:l,keepDims:!1}}),d=iZ(p.shape,l),u=mM({inputs:{x:p},backend:a,attrs:{shape:d}}),h=fy({inputs:{a:n,b:u},backend:a}),c=fh({inputs:{x:h},backend:a}),m=fo({inputs:{x:c},backend:a,attrs:{axis:l,keepDims:!1}}),f=mM({inputs:{x:m},backend:a,attrs:{shape:d}}),g=fg({inputs:{a:c,b:f},backend:a});return a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(u),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(c),a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(f),g}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fQ(e,t,a){return fi([],t,aH(-1,a),e,a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let f1=mx((e,t)=>e!==t?1:0),f2=mD(tI,f1,null,"bool");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f0(e){let{inputs:t,backend:a}=e,{x:r}=t;if("string"===r.dtype)throw Error("zerosLike is not supported for string tensors");if("complex64"!==r.dtype)return fx({backend:a,attrs:{shape:r.shape,value:0,dtype:r.dtype}});{let e=m$({inputs:{input:r},backend:a}),t=f0({inputs:{x:e},backend:a}),n=m7({inputs:{input:r},backend:a}),i=f0({inputs:{x:n},backend:a}),s=m_({inputs:{real:t,imag:i},backend:a});return a.disposeIntermediateTensorInfo(e),a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(i),s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f5(e){let{inputs:t,backend:a,attrs:r}=e,{axis:n}=r;if(1===t.length)return fc({inputs:{input:t[0]},backend:a,attrs:{dim:n}});let i=t[0].shape,s=t[0].dtype;t.forEach(e=>{I(i,e.shape,"All tensors passed to stack must have matching shapes"),S(s===e.dtype,()=>"All tensors passed to stack must have matching dtypes")});let o=[],l=fe({inputs:t.map(e=>{let t=fc({inputs:{input:e},backend:a,attrs:{dim:n}});return o.push(t),t}),backend:a,attrs:{axis:n}});return o.forEach(e=>a.disposeIntermediateTensorInfo(e)),l}let f4={kernelName:tR,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{paddings:i,constantValue:s}=r;mc(n,"pad");let o=i.map((e,t)=>e[0]+n.shape[t]+e[1]),l=i.map(e=>e[0]),p=a.data.get(n.dataId).values,d=T(n.shape),u=n.shape.length,h=j(n.shape),c=T(o),m=o.length,f=j(o),g=F(n.dtype,c);0!==s&&g.fill(s);for(let e=0;e<d;e++)g[X(Y(e,u,h).map((e,t)=>e+l[t]),m,f)]=p[e];return{dataId:a.write(g,o,n.dtype),shape:o,dtype:n.dtype}}},f3=mD("Pow",mx((e,t)=>Math.pow(e,t)));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f6(e,t,a,r){let[n,i]=iJ(e,r),s=ra(t,"int32"),o=G(T(n),s),l=T(i);for(let e=0;e<o.length;++e){let t=e*l,r=1;for(let e=0;e<l;++e)r*=a[t+e];o[e]=r}return{outVals:o,outShape:n,outDtype:s}}function f8(e,t){let a=e.slice(0,t);for(;a.length<t;)a.push(1);for(let r=t;r<e.length;r++)a[t-1]*=e[r];return a}function f9(e,t,a,r,n,i,s,o){if(0===e.length)throw Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw Error("Split tensors must not be scalars");if(/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){e.forEach((e,r)=>{if(e<0||e>=a){let n=Y(r,t.length,j(t)).join(",");throw Error(`indices[${n}] = ${e} is not in [0, ${a})`)}})}(i,s,t[0][0]-1),0===r.length)throw Error("params.rank must be nonzero");let{outSplits:l,valueSlices:p,numValues:d}=function(e,t,a,r){let n=[],i=0,s=Array(t.length-1+a.length).fill(null).map(()=>[0]);!function(e,t){for(let a=0;a<e.length;++a){let r=e[a],n=a===e.length-1?t:e[a+1].length;if(0===r.length)throw Error("Ragged splits may not be empty");if(r[0]<0)throw Error("Ragged splits must be non-negative");if(r[r.length-1]>n)throw Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw Error("Ragged splits must be sorted in ascending order")}}(a,r);let o=1;for(let e=0;e<t.length-1;++e){o*=t[e];let a=t[e+1];for(let t=1;t<o+1;++t)s[e].push(t*a)}for(let r=0;r<e.length;++r){let o=e[r],l=e[r]+1;for(let e=0;e<a.length;++e){let r=a[e],n=e+t.length-1;if(n>=0){let e=s[n],t=e[e.length-1]-r[o];for(let e=o;e<l;++e)s[n].push(r[e+1]+t)}o=r[o],l=r[l]}l!==o&&(n.push([o,l]),i+=l-o)}return{outSplits:s,valueSlices:n,numValues:i}}(i,s,e,r[0]),u=function(e){let t=[];for(let a=0;a<e.length;++a){let r=F("int32",e[a].length);t.push(r),e[a].forEach((e,t)=>r[t]=e)}return t}(l),h=function(e,t,a,r,n){let i=t.slice();i[0]=n;let s=F(a,T(i)),o=e.length,l=0===o?0:o/t[0];return function(e,t,a,r,n,i){let s=f8(t,2)[1],o=f8(i,2)[1],l=0;for(let t of a)for(let a=t[0];a<t[1];++a){for(let t=0;t<r;++t)n[l*o+t]=e[a*s+t];++l}}(e,t,r,l,s,i),[s,i]}(a,r,n,p,d);return[u,h[0],h[1]]}function f7(e,t,a,r,n,i,s){if(t.length>1)throw Error("starts must be a scalar or vector");if(n.length>1)throw Error("limits must be a scalar or vector");if(s.length>1)throw Error("deltas must be a scalar or vector");let o=0===t.length,l=0===n.length,p=0===s.length,d=[];o||d.push(t[0]),l||d.push(n[0]),p||d.push(s[0]);for(let e=1;e<d.length;++e)if(d[e]!==d[e-1])throw Error("starts, limits, and deltas must have the same shape");let u=0===d.length?1:d[0],h=F("int32",u+1);h[0]=0;for(let t=0;t<u;++t){let a;let n=o?e[0]:e[t],s=l?r[0]:r[t],d=p?i[0]:i[t];if(0===d)throw Error("Requires delta != 0");if(d>0&&s<n||d<0&&s>n)a=0;else if((a=Math.ceil(Math.abs((s-n)/d)))>2147483647)throw Error("Requires ((limit - start) / delta) <= 2147483647");h[t+1]=h[t]+a}let c=F(a,h[u]),m=0;for(let t=0;t<u;++t){let a=h[t+1]-h[t],r=o?e[0]:e[t],n=p?i[0]:i[t];for(let e=0;e<a;++e)c[m++]=r,r+=n}return[h,c]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ge=N2;class gt{constructor(e,t,a,r,n,i,s,o,l,p){this.shape=e,this.shapeShape=t,this.values=a,this.valuesShape=r,this.valuesDType=n,this.defaultValue=i,this.defaultValueShape=s,this.rowPartitionValues=o,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=o_(p),this.raggedRank=oE(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===ge.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===ge.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){let t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case ge.VALUE_ROWIDS:return gt.getMaxWidthValueRowID(t);case ge.ROW_SPLITS:return gt.getMaxWidthRowSplit(t);default:throw Error(`Cannot handle partition type ${ge[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){let t=e.length;if(0===t||1===t)return 0;let a=0;for(let r=0;r<t-1;++r){let t=e[r+1]-e[r];t>a&&(a=t)}return a}static getMaxWidthValueRowID(e){let t=e.length;if(0===t)return 0;let a=0,r=e[0],n=0;for(let i=1;i<t;++i){let t=e[i];t!==r&&(r=t,n=Math.max(i-a,n),a=i)}return Math.max(t-a,n)}tensorShapeFromTensor(e,t,a=!0){if(0===t.length){if(-1===e[0])return[];throw Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return gr(e,a)}calculateOutputSize(e){let t=this.valuesShape;o$(this.defaultValueShape,t);let a=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=oA(this.raggedRank,a,t);r[0]<0&&(r[0]=e);for(let e=1;e<=this.raggedRank;++e)r[e]<0&&(r[e]=this.getMaxWidth(e));return r}calculateFirstParentOutputIndex(e,t,a){let r=Math.min(e,a),n=[],i=0;for(let e=0;e<r;++e,i+=t)n.push(i);for(let t=r;t<e;++t)n.push(-1);return S(n.length===e,()=>"Final length of result must be equal to firstDimension."),n}calculateOutputIndexRowSplit(e,t,a,r){let n=e.length,i=[];for(let s=0;s<n-1;++s){let n=e[s+1]-e[s],o=Math.min(r,n),l=t[s];-1===l&&(o=0);for(let e=0;e<o;++e)i.push(l),l+=a;for(let e=0;e<n-o;++e)i.push(-1)}if(n>0&&i.length!==e[n-1])throw Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(e,t,a,r){let n=e.length,i=[];if(0===n)return[];let s=0,o=e[0];if(o>=t.length)throw Error(`Got currentValueRowId=${o}, which is not less than ${t.length}`);let l=t[o];i.push(l);for(let p=1;p<n;++p){let n=e[p];if(n===o)l>=0&&(++s<r?l+=a:l=-1);else{if(s=0,o=n,n>=t.length)throw Error(`Got nextValueRowId=${n} which is not less than ${t.length}`);l=t[n]}i.push(l)}if(i.length!==e.length)throw Error("Invalid row ids.");return i}calculateOutputIndex(e,t,a,r){let n=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case ge.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(n,t,a,r);case ge.ROW_SPLITS:if(n.length-1>t.length)throw Error(`Row partition size is greater than output size: ${n.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(n,t,a,r);default:throw Error(`Unsupported partition type: ${ge[i]}`)}}getFirstDimensionSize(){let e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw Error("No row_partition_types given.");let t=this.rowPartitionTypes[0];switch(t){case ge.FIRST_DIM_SIZE:return e[0];case ge.VALUE_ROWIDS:throw Error("Cannot handle VALUE_ROWIDS in first dimension.");case ge.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw Error(`Cannot handle type ${ge[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw Error("Invalid first partition input. Tensor requires at least one element.");let e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),a=Array(this.raggedRank+1);a[a.length-1]=1;for(let e=a.length-2;e>=0;--e)a[e]=a[e+1]*t[e+1];let r=gr(t,!1),n=F(this.valuesDType,T(r));if(a[0]*t[0]>0){let i=this.calculateFirstParentOutputIndex(e,a[0],t[0]);for(let e=1;e<=this.raggedRank;++e)i=this.calculateOutputIndex(e-1,i,a[e],t[e]);this.setOutput(this.raggedRank,i,n,r)}return[r,n]}setOutput(e,t,a,r){if(0===a.length)return;let n=this.values,i=r.slice(),s=T(i=i.slice(e+1)),o=t.length,l=this.defaultValue;if(l.length!==s&&1!==l.length){let e=this.defaultValueShape;rA(()=>{l=ig(il(l,e),i).dataSync()})}let p=0,d=0,u=0;for(let e=0;e<=o;++e){let r=e<o?t[e]:-1;if(r===u){++u;continue}if(d<u){let e=n.subarray(p*s);ga(a.subarray(d*s),e,(u-d)*s)}if(e>=o&&(r=Math.floor(a.length/s)),r>u){if(1===this.defaultValue.length)a.subarray(u*s,r*s).fill(this.defaultValue[0]),u=r;else for(;r>u;)ga(a.slice(u*s),l,s),++u}r<0?(p=e+1,d=u):(p=e,u=(d=u)+1)}}}function ga(e,t,a){for(let r=0;r<a;r++)e[r]=t[r]}function gr(e,t){let a=[];for(let r of e){if(r<0){if(!t)throw Error(`Dimension ${r} must be >= 0`);if(r<-1)throw Error(`Dimension ${r} must be >= -1`);r=-1}a.push(r)}return a}function gn(e,t,a,r,n,i,s,o,l,p){return new gt(e,t,a,r,n,i,s,o,l,p).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gi(e,t,a,r){let n=e<t&&a<0,i=t<e&&a>1;if(e===t||n||i)return G(0,r);let s=G(Math.abs(Math.ceil((t-e)/a)),r);t<e&&1===a&&(a=-1),s[0]=e;for(let e=1;e<s.length;e++)s[e]=s[e-1]+a;return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let gs=mg(tz,e=>1/e),go=mg(tX,e=>{let t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1}),gl=mf(e=>1/Math.sqrt(e)),gp=mv(tY,gl);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gd(e,t,a,r,n,i,s,o,l,p){let d=e.values,u=t.values;if(0===r)return r6(a,t.dtype);let h=l instanceof a3?l:r6([r/n,n],t.dtype);"string"==typeof l?h.values.fill(l):"number"==typeof l?h.values.fill(l):"boolean"==typeof l&&h.values.fill(+l);for(let e=0;e<i;e++){let i=[],l=0;for(let t=0;t<s;t++){let a=d[e*s+t];i.push(a),l+=a*o[t]}if(l<0||l>=r/n)throw Error(`Invalid indices: ${i} does not index into ${a}`);for(let a=0;a<n;a++)p?h.values[l*n+a]+=u[e*n+a]:h.values[l*n+a]=0===t.rank?u[0]:u[e*n+a]}return h}let gu=mg(t2,e=>e>=0?oq*e:oW*(Math.exp(e)-1)),gh=mg(t4,e=>e<0?-1:e>0?1:0),gc=mg("Sin",e=>Math.sin(e)),gm=mg(t5,e=>Math.sinh(e)),gf=Math.log(11920928955078125e-23)+2,gg=mg(t6,e=>{let t=Math.exp(e);return e<gf?t:e>-gf?e:Math.log(1+t)});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gv(e,t,a,r,n,i,s){let o=t[0],l=i[0],p=Array(l),d=Array(o),u=t[1];if(0===l){if(0!==o)throw Error(lr(o));return[F(a,0),[0,u],F(n,0),p,d]}let h=!0,c=0,m=Array(l).fill(0);for(let t=0;t<o;++t){let a=e[t*u];if(a<0)throw Error(ln(t,a));if(a>=l)throw Error(li(t,a,l));++m[a],h=h&&a>=c,c=a}let f=!0;for(let e=0;e<l;++e){let t=0===m[e];p[e]=t,f=f&&!t,m[e]=Math.max(m[e],1),e>0&&(m[e]+=m[e-1])}if(f&&h){for(let e=0;e<o;++e)d[e]=e;return[e,[o,u],r,p,d]}{let t=m[l-1],i=F(a,t*u),h=F(n,t),c=Array(l).fill(0);for(let t=0;t<o;++t){let a=e[t*u],n=c[a],s=(0===a?0:m[a-1])+n;c[a]++;for(let a=0;a<u;++a)i[s*u+a]=e[t*u+a];h[s]=r[t],d[t]=s}for(let e=0;e<l;++e)if(0===c[e]){let t=0===e?0:m[e-1];i[t*u+0]=e;for(let e=1;e<u;++e)i[t*u+e]=0;h[t]=s}return[i,[t,u],h,p,d]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gb(e,t,a,r,n){let i=T(r),s=t[0],o=n.length,l=[],p=1,d=-1;for(let e=0;e<o;++e){let t=n[e];if(-1===t){if(-1!==d)throw Error(ls(d,e));d=e,l.push(1)}else{if(t<0)throw Error(lo(e,t));p*=t,l.push(t)}}if(-1!==d){if(p<=0)throw Error(ll());let e=Math.trunc(i/p);if(p*e!==i)throw Error(lp(r,l));l[d]=e}if(T(l)!==i)throw Error(ld(r,l));let u=r.length,h=[];if(u>0){h[u-1]=1;for(let e=u-2;e>=0;--e)h[e]=h[e+1]*r[e+1]}let c=[];if(o>0){c[o-1]=1;for(let e=o-2;e>=0;--e)c[e]=c[e+1]*l[e+1]}let m=F(a,s*o);for(let t=0;t<s;++t){let a=0;for(let r=0;r<u;++r)a+=e[t*u+r]*h[r];for(let e=0;e<o;++e)m[t*o+e]=Math.trunc(a/c[e]),a%=c[e]}return[m,[s,o],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gy(e,t,a,r,n,i=!1,s=0){let o=r.length,l=[t[0],e.length/t[0]],p=l[1],d=o>0?n[o-1]+1:0;if(d<0)throw Error(lu());let u=t.slice();u[0]=d;let h=F(a,u.reduce((e,t)=>e*t,1));if(0===o)return d>0&&h.fill(s),[h,u];if(d<=0)throw Error(lu());let c=0,m=1,f=0,g=n[0];for(;;){let t=0;if(m<o){if(g===(t=n[m])){++m;continue}if(g>=t)throw Error(lh())}if(g<0||g>=d)throw Error(lc(g,d));g>f&&h.fill(s,f*p,g*p);for(let t=c;t<m;++t){let a=r[t];if(a<0||a>=l[0])throw Error(lm(t,r[t],l[0]));for(let t=0;t<p;t++)h[g*p+t]+=e[a*p+t]}if(i)for(let e=0;e<p;e++)h[g*p+e]/=m-c;if(c=m,++m,f=g+1,g=t,m>o)break}return f<d&&h.fill(s,f*p,d*p),[h,u]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let gw=mf(e=>Math.sqrt(e)),gx=mg(t8,e=>Math.sqrt(e)),gN=mD(as,mx((e,t)=>{let a=e-t;return a*a})),gk=mf((e,t)=>{let{pattern:a,replaceGlobal:r,rewrite:n}=t;return e.replace(new RegExp(a,r?"g":""),n)}),gS=mv(al,gk),gI=mg(aN,(e,t)=>isNaN(e)?NaN:e>0?1:t.alpha);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gC(e,t,a,r){let n=r6(e,t.dtype);for(let e=0;e<n.size;e++){let i=n.indexToLoc(e),s=Array(i.length);for(let e=0;e<s.length;e++)s[e]=i[e]*a[e]+r[e];n.set(t.get(...s),...i)}return n}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gT{constructor(e,t,a,r,n,i){this.separator=aY(e),this.nGramWidths=t,this.leftPad=aY(a),this.rightPad=aY(r),this.padWidth=n,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){return Math.max(0,e+2*this.getPadWidth(t)-t+1)}createNGrams(e,t,a,r,n,i){for(let s=0;s<n;++s){let o;let l=this.getPadWidth(i),p=Math.max(0,l-s),d=Math.max(0,l-(n-(s+1))),u=i-(p+d),h=t+(p>0?0:s-l);o=0+p*this.leftPad.length;for(let t=0;t<u;++t)o+=e[h+t].length;o+=d*this.rightPad.length+(p+d+u-1)*this.separator.length,a[r+s]=new Uint8Array(o);let c=a[r+s],m=0,f=e=>e.forEach(e=>c[m++]=e);for(let e=0;e<p;++e)f(this.leftPad),f(this.separator);for(let t=0;t<u-1;++t)f(e[h+t]),f(this.separator);if(u>0){f(e[h+u-1]);for(let e=0;e<d;++e)f(this.separator),f(this.rightPad)}else{for(let e=0;e<d-1;++e)f(this.rightPad),f(this.separator);f(this.rightPad)}}}compute(e,t){let a=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw Error(`First split value must be 0, got ${e}`);for(let n=1;n<r;++n){let r=t[n]>=e;if(!(r=r&&t[n]<=a))throw Error(`Invalid split value ${t[n]}, must be in [${e}, ${a}]`);e=t[n]}if(e!==a)throw Error(`Last split value must be data size. Expected ${a}, got ${e}`)}let n=r-1,i=F("int32",r);if(0===a||0===r){let e=Array(a);for(let e=0;e<=n;++e)i[e]=0;return[e,i]}i[0]=0;for(let e=1;e<=n;++e){let a=t[e]-t[e-1],r=0;this.nGramWidths.forEach(e=>{r+=this.getNumNGrams(a,e)}),this.preserveShort&&a>0&&0===r&&(r=1),i[e]=i[e-1]+r}let s=Array(i[n]);for(let a=0;a<n;++a){let r=t[a],n=i[a];if(this.nGramWidths.forEach(i=>{let o=t[a+1]-t[a],l=this.getNumNGrams(o,i);this.createNGrams(e,r,s,n,l,i),n+=l}),this.preserveShort&&n===i[a]){let i=t[a+1]-t[a];if(0===i)continue;let o=i+2*this.padWidth;this.createNGrams(e,r,s,n,1,o)}}return[s,i]}}function gA(e,t,a,r,n,i,s,o){return new gT(a,r,n,i,s,o).compute(e,t)}function g_(e,t,a){let r=e.length,n=[],i=0,s=0,o=Array(r);for(let l=0;l<r;++l){let r=n.length;!/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){let n=t[0],i=e.indexOf(n);for(;-1!==i;){let t=e.subarray(0,i);a&&0===t.length||r.push(t),i=(e=e.subarray(i+1)).indexOf(n)}a&&0===e.length||r.push(e);return}let n=0;for(let i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){let t=e.subarray(n,i);a&&0===t.length||r.push(t),n=i+1}}(e[l],t,a,n);let p=n.length-r;o[l]=p,i+=p,s=Math.max(s,p)}let l=F("int32",2*i),p=Array(i),d=[r,s],u=0;for(let e=0;e<r;++e)for(let t=0;t<o[e];++t)l[2*u]=e,l[2*u+1]=t,p[u]=n[u],++u;return[l,p,d]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gE(e,t){let a=F("int32",e.length);for(let r=0;r<e.length;++r)a[r]=(function(e,t=e.length){let a=aO.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){let a=az.add(2*t),r=aj(e,0).add(az),n=aj(e,t-8);return aq(aW(n,37).mul(a).add(r),aW(r,25).add(n).mul(a),a)}if(t>=4){let a=az.add(2*t);return aq(aU(e,0,4).shl(3).add(t),aU(e,t-4,4),a)}if(t>0){let a=e[0],r=e[t>>1],n=e[t-1];return aV(az.mul(a+(r<<8)).xor(aM.mul(t+(n<<2)))).mul(az)}return az}(e,t):function(e,t=e.length){let a=az.add(2*t),r=aj(e,0).mul(aB),n=aj(e,8),i=aj(e,t-8).mul(a),s=aj(e,t-16).mul(az);return aq(aW(r.add(n),43).add(aW(i,30)).add(s),r.add(aW(n.add(az),18)).add(i),a)}(e,t);if(t<=64)return function(e,t=e.length){let a=az.add(2*t),r=aj(e,0).mul(az),n=aj(e,8),i=aj(e,t-8).mul(a),s=aj(e,t-16).mul(az),o=aW(r.add(n),43).add(aW(i,30)).add(s),l=aq(o,r.add(aW(n.add(az),18)).add(i),a),p=aj(e,16).mul(a),d=aj(e,24),u=o.add(aj(e,t-32)).mul(a),h=l.add(aj(e,t-24)).mul(a);return aq(aW(p.add(d),43).add(aW(u,30)).add(h),p.add(aW(d.add(r),18)).add(u),a)}(e,t);let r=a,n=a.mul(aB).add(113),i=aV(n.mul(az).add(113)).mul(az),s=[aO.UZERO,aO.UZERO],o=[aO.UZERO,aO.UZERO];r=r.mul(az).add(aj(e,0));let l=0,p=(t-1>>6)*64;do r=aW(r.add(n).add(s[0]).add(aj(e,l+8)),37).mul(aB),n=aW(n.add(s[1]).add(aj(e,l+48)),42).mul(aB),r=r.xor(o[1]),n=n.add(s[0]).add(aj(e,l+40)),i=aW(i.add(o[0]),33).mul(aB),s=aG(e,l,s[1].mul(aB),r.add(o[0])),o=aG(e,l+32,i.add(o[1]),n.add(aj(e,l+16))),[i,r]=[r,i],l+=64;while(l!==p);let d=aB.add(i.and(255).shl(1));return l=p+(t-1&63)-63,o[0]=o[0].add(t-1&63),s[0]=s[0].add(o[0]),o[0]=o[0].add(s[0]),r=aW(r.add(n).add(s[0]).add(aj(e,l+8)),37).mul(d),n=aW(n.add(s[1]).add(aj(e,l+48)),42).mul(d),r=r.xor(o[1].mul(9)),n=n.add(s[0].mul(9).add(aj(e,l+40))),i=aW(i.add(o[0]),33).mul(d),s=aG(e,l,s[1].mul(d),r.add(o[0])),o=aG(e,l+32,i.add(o[1]),n.add(aj(e,l+16))),[i,r]=[r,i],aq(aq(s[0],o[0],d).add(aV(n).mul(aM)).add(i),aq(s[1],o[1],d).add(r),d)})(e[r]).modulo(t).getLowBitsUnsigned();return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let g$=mg("Tan",e=>Math.tan(e)),gR=mg(ac,e=>Math.tanh(e));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gL(e,t){let a=Array(e.rank);for(let r=0;r<a.length;r++)a[r]=e.shape[r]*t[r];let r=r6(a,e.dtype);for(let t=0;t<r.values.length;++t){let a=r.indexToLoc(t),n=Array(e.rank);for(let t=0;t<n.length;t++)n[t]=a[t]%e.shape[t];let i=e.locToIndex(n);r.values[t]=e.values[i]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let gD=(e,t)=>{let a=t.value-e.value;return 0===a?e.index-t.index:a};function gF(e,t,a,r,n){let i=t[t.length-1],[s,o]=[e.length/i,i],l=F(a,s*r),p=F("int32",s*r);for(let t=0;t<s;t++){let a=t*o,i=e.subarray(a,a+o),s=Array(i.length);i.forEach((e,t)=>s[t]={value:e,index:t}),r<s.length&&(function e(t,a,r=0,n=t.length-1){for(;n>r;){if(n-r>600){let i=n-r+1,s=a-r+1,o=Math.log(i),l=.5*Math.exp(2*o/3),p=.5*Math.sqrt(o*l*(i-l)/i)*Math.sign(s-i/2),d=Math.max(r,Math.floor(a-s*l/i+p)),u=Math.min(n,Math.floor(a+(i-s)*l/i+p));e(t,a,d,u)}let i=t[a],s=r,o=n;for(k(t,r,a),gD(t[n],i)>0&&k(t,r,n);s<o;){for(k(t,s,o),s++,o--;0>gD(t[s],i);)s+=1;for(;gD(t[o],i)>0;)o-=1}0===gD(t[r],i)?k(t,r,o):k(t,o+=1,n),o<=a&&(r=o+1),a<=o&&(n=o-1)}}(s,r),s=s.slice(0,r)),n&&s.sort(gD);let d=t*r,u=l.subarray(d,d+r),h=p.subarray(d,d+r);for(let e=0;e<r;e++)u[e]=s[e].value,h[e]=s[e].index}let d=t.slice();return d[d.length-1]=r,[r6(d,a,l),r6(d,"int32",p)]}function gO(e,t,a){switch(a){case"reflect":return function(e,t){let a=e;if(a<0){if(t<=1)a=0;else{let e=2*t;a<e&&(a=e*Math.trunc(-a/e)+a),a=a<-t?a+e:-a-1}}else if(a>t-1){if(t<=1)a=0;else{let e=2*t;(a-=e*Math.trunc(a/e))>=t&&(a=e-a-1)}}return x(0,a,t-1)}(e,t);case"wrap":let r;return(r=e)<0?t<=1?r=0:r+=t*(Math.trunc(-r/(t-1))+1):r>t-1&&(t<=1?r=0:r-=t*Math.trunc(r/(t-1))),x(0,r,t-1);case"nearest":return x(0,e,t-1);default:return e}}function gP(e,t,a,r,n,i,s,o,l,p,d){return 0<=o&&o<t&&0<=l&&l<a?e[s*r+o*n+l*i+p]:d}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gM(e,t,a,r){let n=L(t,a)[0],i=[1,a[0],1];for(let e=0;e<n;e++)i[0]*=a[e];i[1]=a[n];for(let e=n+1;e<a.length;e++)i[2]*=a[e];let s=new Map,o=new Int32Array(a[n]),l=new a3(i,r,e),p=[],d=1===i[0]&&1===i[2];for(let t=0;t<a[n];t++){let a;if(d)a=e[t].toString();else{let e=[];for(let a=0;a<i[0];a++)for(let r=0;r<i[2];r++)e.push(l.get(a,t,r));a=e.join(",")}let r=s.get(a);if(null!=r)o[t]=r;else{let e=s.size;s.set(a,e),o[t]=e,p.push(t)}}let u=i.slice();u[1]=s.size;let h=new a3(u,r);p.forEach((e,t)=>{for(let a=0;a<i[0];a++)for(let r=0;r<i[2];r++)h.set(l.get(a,e,r),a,t,r)});let c=a.slice();return c[n]=u[1],{outputValues:h.values,outputShape:c,indices:o}}for(let e of[{kernelName:aS,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t,a,r;let{inputs:n,backend:i,attrs:s}=e,{a:o,b:l,bias:p,preluActivationWeights:d}=n,{transposeA:u,transposeB:h,activation:c,leakyreluAlpha:m}=s,f=[];for(let e of(t=mB({inputs:{a:o,b:l},attrs:{transposeA:u,transposeB:h},backend:i}),p&&(a=mP({inputs:{a:t,b:p},backend:i}),f.push(t),t=a),c&&(r=mA(i,t,c,d,m),f.push(t),t=r),f))i.disposeIntermediateTensorInfo(e);return t}},{kernelName:"Abs",backendName:"cpu",kernelFunc:e=>{let{x:t}=e.inputs,a=e.backend;mc(t,"abs");let r=new Float32Array(T(t.shape));return r=mz(a.data.get(t.dataId).values),a.makeOutput(r,t.shape,t.dtype)}},{kernelName:en,backendName:"cpu",kernelFunc:mV},{kernelName:ei,backendName:"cpu",kernelFunc:mU},{kernelName:"Add",backendName:"cpu",kernelFunc:mP},{kernelName:es,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e;mc(t,"addN");let r=t.map(e=>a.data.get(e.dataId).values),n=r6(t[0].shape,t[0].dtype),i=n.values;for(let e=0;e<t.length;e++){let t=r[e];for(let e=0;e<i.length;e++)i[e]+=t[e]}return a.makeTensorInfo(n.shape,n.dtype,n.values)}},{kernelName:"All",backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i,keepDims:s}=r;mc(n,"all");let o=L(i,n.shape),l=o,p=i1(l,n.shape.length),d=n;null!=p&&(d=mW({inputs:{x:n},backend:a,attrs:{perm:p}}),l=i0(l.length,n.shape.length)),iQ("all",l,d.shape.length);let[u,h]=iJ(d.shape,l),c=T(h),m=G(T(u),d.dtype),f=a.data.get(d.dataId).values;for(let e=0;e<m.length;++e){let t=e*c,a=f[t];for(let e=0;e<c;++e){let r=f[t+e];a=a&&r}m[e]=a}null!=p&&a.disposeIntermediateTensorInfo(d);let g=a.makeTensorInfo(u,d.dtype,m);if(s){let e=mM({inputs:{x:g},backend:a,attrs:{shape:iZ(u,o)}});return a.disposeIntermediateTensorInfo(g),e}return g}},{kernelName:"Any",backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i,keepDims:s}=r;mc(n,"any");let o=L(i,n.shape),l=o,p=i1(l,n.shape.length),d=n;null!=p&&(d=mW({inputs:{x:n},backend:a,attrs:{perm:p}}),l=i0(l.length,n.shape.length)),iQ("any",l,d.shape.length);let[u,h]=iJ(d.shape,l),c=T(h),m=G(T(u),d.dtype),f=a.data.get(d.dataId).values;for(let e=0;e<m.length;++e){let t=e*c,a=f[t];for(let e=0;e<c;++e){let r=f[t+e];a=a||r}m[e]=a}null!=p&&a.disposeIntermediateTensorInfo(d);let g=a.makeTensorInfo(u,d.dtype,m);if(s){let e=mM({inputs:{x:g},backend:a,attrs:{shape:iZ(u,o)}});return a.disposeIntermediateTensorInfo(g),e}return g}},{kernelName:eo,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i}=r;mc(n,"argMax");let s=L(i,n.shape),o=i1(s,n.shape.length),l=n,p=[];null!=o&&(p.push(l=mW({inputs:{x:n},backend:a,attrs:{perm:o}})),s=i0(s.length,l.shape.length)),iQ("argMax",s=[s[0]],l.shape.length);let[d,u]=iJ(l.shape,s),h=G(T(d),"int32"),c=T(u),m=a.data.get(l.dataId).values;for(let e=0;e<h.length;++e){let t=e*c,a=m[t],r=0;for(let e=0;e<c;++e){let n=m[t+e];n>a&&(a=n,r=e)}h[e]=r}return p.forEach(e=>a.disposeIntermediateTensorInfo(e)),a.makeTensorInfo(d,"int32",h)}},{kernelName:el,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i}=r;mc(n,"argMin");let s=L(i,n.shape),o=i1(s,n.shape.length),l=n,p=[];null!=o&&(p.push(l=mW({inputs:{x:n},backend:a,attrs:{perm:o}})),s=i0(s.length,l.shape.length)),iQ("argMin",s=[s[0]],l.shape.length);let[d,u]=iJ(l.shape,s),h=G(T(d),"int32"),c=T(u),m=a.data.get(l.dataId).values;for(let e=0;e<h.length;++e){let t=e*c,a=m[t],r=0;for(let e=0;e<c;++e){let n=m[t+e];n<a&&(a=n,r=e)}h[e]=r}return p.forEach(e=>a.disposeIntermediateTensorInfo(e)),a.makeTensorInfo(d,"int32",h)}},{kernelName:ep,backendName:"cpu",kernelFunc:mq},{kernelName:ed,backendName:"cpu",kernelFunc:mG},{kernelName:eu,backendName:"cpu",kernelFunc:mH},{kernelName:ec,backendName:"cpu",kernelFunc:mK},{kernelName:eh,backendName:"cpu",kernelFunc:mX},{kernelName:em,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a;mc(i,"avgPool");let{filterSize:s,strides:o,pad:l,dimRoundingMode:p}=n;S(ir(o,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '1'`);let d=n5(i.shape,s,o,1,l,p);if(1===d.filterWidth&&1===d.filterHeight&&A(d.inShape,d.outShape))t=my({inputs:{x:i},backend:r});else{let e=r.data.get(i.dataId).values,a=j(i.shape),n=mY(e,i.shape,i.dtype,a,d,"avg");t=r.makeTensorInfo(d.outShape,i.dtype,n.values)}return t}},{kernelName:eg,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:p}=r;mc(n,"avgPool3d");let d=n4(n.shape,i,s,1,o,l,p),u=mZ(a.data.get(n.dataId).values,n.shape,n.dtype,j(n.shape),d,"avg");return a.makeTensorInfo(u.shape,"float32",u.values)}},{kernelName:ev,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:p}=r;mc([n,i],"avgPool3DGrad");let d=n4(i.shape,s,o,1,l,p),u=d.strideDepth,h=d.strideHeight,c=d.strideWidth,m=d.filterDepth,f=d.filterHeight,g=d.filterWidth,v=d.dilationDepth,b=d.dilationHeight,y=d.dilationWidth,w=d.effectiveFilterDepth,x=d.effectiveFilterHeight,N=d.effectiveFilterWidth,k=w-1-d.padInfo.front,S=N-1-d.padInfo.left,I=x-1-d.padInfo.top,C=r6(i.shape,"float32"),T=1/(m*f*g),A=a.bufferSync(n);for(let e=0;e<d.batchSize;++e)for(let t=0;t<d.inChannels;++t)for(let a=0;a<d.inDepth;++a)for(let r=0;r<d.inHeight;++r)for(let n=0;n<d.inWidth;++n){let i=a-k,s=r-I,o=n-S,l=0;for(let a=0;a<w;a+=v){let r=(i+a)/u;if(!(r<0)&&!(r>=d.outDepth)&&Math.floor(r)===r)for(let a=0;a<x;a+=b){let n=(s+a)/h;if(!(n<0)&&!(n>=d.outHeight)&&Math.floor(n)===n)for(let a=0;a<N;a+=y){let i=(o+a)/c;i<0||i>=d.outWidth||Math.floor(i)!==i||(l+=A.get(e,r,n,i,t))}}}C.set(l*T,e,a,r,n,t)}return a.makeTensorInfo(C.shape,C.dtype,C.values)}},{kernelName:ef,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,input:i}=t;mc([n,i],"avgPoolGrad");let{filterSize:s,strides:o,pad:l}=r,p=n5(i.shape,s,o,1,l),d=p.strideHeight,u=p.strideWidth,h=p.filterHeight,c=p.filterWidth,m=p.dilationHeight,f=p.dilationWidth,g=p.effectiveFilterHeight,v=p.effectiveFilterWidth,b=v-1-p.padInfo.left,y=g-1-p.padInfo.top,w=r6(i.shape,"float32"),x=1/(h*c),N=a.data.get(n.dataId).values,k=r6(n.shape,"float32",N);for(let e=0;e<p.batchSize;++e)for(let t=0;t<p.inChannels;++t)for(let a=0;a<p.inHeight;++a)for(let r=0;r<p.inWidth;++r){let n=a-y,i=r-b,s=0;for(let a=0;a<g;a+=m){let r=(n+a)/d;if(!(r<0)&&!(r>=p.outHeight)&&Math.floor(r)===r)for(let a=0;a<v;a+=f){let n=(i+a)/u;n<0||n>=p.outWidth||Math.floor(n)!==n||(s+=k.get(e,r,n,t))}}w.set(s*x,e,a,r,t)}return a.makeTensorInfo(w.shape,w.dtype,w.values)}},{kernelName:eb,backendName:"cpu",kernelFunc:mB},{kernelName:e4,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,scale:i,offset:s,mean:o,variance:l}=t;S(o.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),S(null==s||o.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),S(null==i||o.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),mc([n,o,l,i,s],"batchNorm");let{varianceEpsilon:p}=r;null==p&&(p=.001);let d=a.data.get(n.dataId).values,u=a.data.get(o.dataId).values,h=a.data.get(l.dataId).values,c=i?a.data.get(i.dataId).values:new Float32Array([1]),m=s?a.data.get(s.dataId).values:new Float32Array([0]),f=new Float32Array(d.length),g=m.length,v=c.length,b=h.length,y=u.length,w=0,x=0,N=0,k=0;for(let e=0;e<d.length;++e)f[e]=m[w++]+(d[e]-u[x++])*c[N++]/Math.sqrt(h[k++]+p),w>=g&&(w=0),x>=y&&(x=0),N>=v&&(N=0),k>=b&&(k=0);return a.makeTensorInfo(n.shape,n.dtype,f)}},{kernelName:ey,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{blockShape:i,crops:s}=r;mc([n],"batchToSpaceND");let o=i.reduce((e,t)=>e*t),l=oF(n.shape,i,o),p=oO(l.length,i.length),d=oP(n.shape,i,o),u=oM(s,i.length),h=oB(d,s,i.length),c=mM({inputs:{x:n},backend:a,attrs:{shape:l}}),m=mW({inputs:{x:c},backend:a,attrs:{perm:p}}),f=mM({inputs:{x:m},backend:a,attrs:{shape:d}}),g=m1({inputs:{x:f},backend:a,attrs:{begin:u,size:h}});return a.disposeIntermediateTensorInfo(c),a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(f),g}},{kernelName:ew,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,weights:i}=t,{size:s}=r,o=m2(a.data.get(n.dataId).values,a.data.get(i.dataId).values,i.dtype,i.shape,s);return a.makeTensorInfo([s],i.dtype,o)}},{kernelName:ex,backendName:"cpu",kernelFunc:m4},{kernelName:eN,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{s0:r,s1:n}=t,i=a.data.get(r.dataId).values,s=a.data.get(n.dataId).values,o=nk(Array.from(i),Array.from(s));return a.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},{kernelName:ek,backendName:"cpu",kernelFunc:mL},{kernelName:eS,backendName:"cpu",kernelFunc:m6},{kernelName:eI,backendName:"cpu",kernelFunc:m8},{kernelName:eC,backendName:"cpu",kernelFunc:m_},{kernelName:eT,backendName:"cpu",kernelFunc:e=>{let{x:t}=e.inputs,a=e.backend,r=new Float32Array(T(t.shape)),n=a.data.get(t.dataId),i=n.complexTensorInfos.real,s=n.complexTensorInfos.imag,o=a.data.get(i.dataId).values,l=a.data.get(s.dataId).values;for(let e=0;e<o.length;e++){let t=o[e],a=l[e];r[e]=Math.hypot(t,a)}return a.makeOutput(r,t.shape,"float32")}},{kernelName:eA,backendName:"cpu",kernelFunc:fe},{kernelName:e_,backendName:"cpu",kernelFunc:ft},{kernelName:eE,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,dy:i}=t,{strides:s,pad:o,dataFormat:l,dimRoundingMode:p,filterShape:d}=r;mc([n,i],"conv2dBackpropFilter");let u=is(l),h=n3(n.shape,d,s,1,o,p,!1,u),{strideHeight:c,strideWidth:m,filterHeight:f,filterWidth:g}=h,v="channelsLast"===h.dataFormat,b=new a3(h.filterShape,"float32"),y=h.padInfo.left,w=h.padInfo.top,x=a.data.get(n.dataId).values,N=a.data.get(i.dataId).values,k=new a3(n.shape,n.dtype,x),S=new a3(i.shape,i.dtype,N);for(let e=0;e<f;++e){let t=Math.max(0,Math.ceil((w-e)/c)),a=Math.min(h.outHeight,(h.inHeight+w-e)/c);for(let r=0;r<g;++r){let n=Math.max(0,Math.ceil((y-r)/m)),i=Math.min(h.outWidth,(h.inWidth+y-r)/m);for(let s=0;s<h.inChannels;++s)for(let o=0;o<h.outChannels;++o){let l=0;for(let p=0;p<h.batchSize;++p)for(let d=t;d<a;++d){let t=e+d*c-w;for(let e=n;e<i;++e){let a=r+e*m-y;v?l+=k.get(p,t,a,s)*S.get(p,d,e,o):l+=k.get(p,s,t,a)*S.get(p,o,d,e)}}b.set(l,e,r,s,o)}}}return a.makeTensorInfo(b.shape,b.dtype,b.values)}},{kernelName:e$,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,filter:i}=t,{inputShape:s,strides:o,pad:l,dataFormat:p,dimRoundingMode:d}=r;mc([n,i],"conv2dBackpropInput");let u=j(i.shape),h=j(n.shape),c=is(p),m=n3(s,i.shape,o,1,l,d,!1,c),f=new a3(m.inShape,"float32"),g=f.values,v=a.data.get(n.dataId).values,b=a.data.get(i.dataId).values,[y,w,x]=u,{batchSize:N,filterHeight:k,filterWidth:S,inChannels:I,inHeight:C,inWidth:T,outChannels:A,outHeight:_,outWidth:E,strideHeight:$,strideWidth:R}=m;c=m.dataFormat;let L=k-1-m.padInfo.top,D=S-1-m.padInfo.left,F="channelsLast"===c,O=f.strides[0],P=F?f.strides[1]:f.strides[2],M=F?f.strides[2]:1,B=F?1:f.strides[1],z=h[0],V=F?h[1]:h[2],U=F?h[2]:1,W=F?1:h[1];for(let e=0;e<N;++e)for(let t=0;t<I;++t)for(let a=0;a<C;++a){let r=a-L,n=Math.max(0,Math.ceil(r/$)),i=Math.min(_,(k+r)/$);for(let s=0;s<T;++s){let o=s-D,l=Math.max(0,Math.ceil(o/R)),p=Math.min(E,(S+o)/R),d=0;for(let a=n;a<i;++a){let n=a*$-r;for(let r=l;r<p;++r){let i=r*R-o,s=z*e+V*a+U*r,l=y*(k-1-n)+w*(S-1-i)+x*t;for(let e=0;e<A;++e)d+=v[s+W*e]*b[l+e]}}g[O*e+P*a+M*s+B*t]=d}}return a.makeTensorInfo(f.shape,f.dtype,f.values)}},{kernelName:eR,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,filter:i}=t,{strides:s,pad:o,dilations:l}=r;mc([n,i],"conv3d");let p=n6(n.shape,i.shape,s,l,o),{filterDepth:d,filterHeight:u,filterWidth:h,dilationDepth:c,dilationHeight:m,dilationWidth:f,padInfo:g}=p,v=g.front,b=g.left,y=g.top,w=new a3(p.outShape,n.dtype),x=a.data.get(n.dataId).values,N=a.data.get(i.dataId).values,k=w.values,S=j(n.shape),I=j(i.shape);for(let e=0;e<p.batchSize;++e){let t=e*S[0],a=e*w.strides[0];for(let e=0;e<p.outDepth;++e){let r=a+e*w.strides[1],n=e*p.strideDepth-v;for(let e=0;e<d;++e){let a=n+e*c;if(a<0||a>=p.inDepth)continue;let i=e*I[0],s=t+a*S[1];for(let e=0;e<p.outHeight;++e){let t=r+e*w.strides[2],a=e*p.strideHeight-y;for(let e=0;e<u;++e){let r=a+e*m;if(r<0||r>=p.inHeight)continue;let n=i+e*I[1],o=s+r*S[2];for(let e=0;e<p.outWidth;++e){let a=t+e*p.outChannels,r=e*p.strideWidth-b;for(let e=0;e<h;++e){let t=r+e*f;if(t<0||t>=p.inWidth)continue;let i=n+e*I[2],s=o+t*p.inChannels,l=i;for(let e=0;e<p.inChannels;++e){let t=x[s+e];for(let e=0;e<p.outChannels;++e)k[a+e]+=t*N[l+e];l+=p.outChannels}}}}}}}}return a.makeTensorInfo(w.shape,w.dtype,w.values)}},{kernelName:eL,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,dy:i}=t,{strides:s,pad:o,filterShape:l}=r;mc([n,i],"conv3dBackpropFilterV2");let p=j(n.shape),d=j(i.shape),u=n6(n.shape,l,s,1,o),h=u.strideDepth,c=u.strideHeight,m=u.strideWidth,f=u.filterDepth,g=u.filterHeight,v=u.filterWidth,b=new a3(u.filterShape,"float32"),y=b.values,[w,x,N,k]=b.strides,S=a.data.get(i.dataId).values,[I,C,T,A]=d,_=a.data.get(n.dataId).values,[E,$,R,L]=p,D=u.padInfo.front,F=u.padInfo.left,O=u.padInfo.top;for(let e=0;e<f;++e){let t=Math.max(0,Math.ceil((D-e)/h)),a=Math.min(u.outDepth,(u.inDepth+D-e)/h),r=e*w;for(let n=0;n<g;++n){let i=Math.max(0,Math.ceil((O-n)/c)),s=Math.min(u.outHeight,(u.inHeight+O-n)/c),o=n*x+r;for(let r=0;r<v;++r){let l=Math.max(0,Math.ceil((F-r)/m)),p=Math.min(u.outWidth,(u.inWidth+F-r)/m),d=r*N+o;for(let o=0;o<u.inChannels;++o){let f=o*k+d;for(let d=0;d<u.outChannels;++d){let g=0;for(let f=0;f<u.batchSize;++f){let u=f*E,v=f*I;for(let f=t;f<a;++f){let t=(e+f*h-D)*$+u,a=f*C+v;for(let e=i;e<s;++e){let i=(n+e*c-O)*R+t,s=e*T+a;for(let e=l;e<p;++e){let t=(r+e*m-F)*L+i,a=e*A+s;g+=_[t+o]*S[a+d]}}}}y[f+d]=g}}}}}return a.makeTensorInfo(b.shape,b.dtype,b.values)}},{kernelName:eD,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,filter:i}=t,{pad:s,strides:o,inputShape:l}=r;mc([n],"conv3dBackpropInputV2");let p=j(n.shape),d=j(i.shape),u=n6(l,i.shape,o,1,s),h=new a3(u.inShape,"float32"),c=h.values,[m,f,g,v]=h.strides,b=a.data.get(n.dataId).values,[y,w,x,N]=p,k=a.data.get(i.dataId).values,[S,I,C,T]=d,{batchSize:A,filterDepth:_,filterHeight:E,filterWidth:$,inChannels:R,inDepth:L,inHeight:D,inWidth:F,outChannels:O,outDepth:P,outHeight:M,outWidth:B,strideDepth:z,strideHeight:V,strideWidth:U}=u,W=_-1-u.padInfo.front,q=E-1-u.padInfo.top,G=$-1-u.padInfo.left;for(let e=0;e<A;++e)for(let t=0;t<R;++t)for(let a=0;a<L;++a){let r=a-W,n=Math.max(0,Math.ceil(r/z)),i=Math.min(P,(_+r)/z);for(let s=0;s<D;++s){let o=s-q,l=Math.max(0,Math.ceil(o/V)),p=Math.min(M,(E+o)/V);for(let d=0;d<F;++d){let u=d-G,h=Math.max(0,Math.ceil(u/U)),A=Math.min(B,($+u)/U),R=0;for(let a=n;a<i;++a){let n=a*z-r;for(let r=l;r<p;++r){let i=r*V-o;for(let s=h;s<A;++s){let o=s*U-u,l=y*e+w*a+x*r+N*s,p=S*(_-1-n)+I*(E-1-i)+C*($-1-o)+T*t;for(let e=0;e<O;++e)R+=b[l+e]*k[p+e]}}}c[m*e+f*a+g*s+v*d+t]=R}}}return a.makeTensorInfo(h.shape,h.dtype,h.values)}},{kernelName:"Cos",backendName:"cpu",kernelFunc:fa},{kernelName:eF,backendName:"cpu",kernelFunc:fr},{kernelName:eM,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{image:n,boxes:i,boxInd:s}=t,{cropSize:o,method:l,extrapolationValue:p}=r,[d,u,h,c]=n.shape,m=i.shape[0],[f,g]=o,v=r6([m,f,g,c],"float32"),b=a.data.get(i.dataId).values,y=a.data.get(s.dataId).values,w=a.data.get(n.dataId).values,x=j(n.shape),N=j(v.shape);for(let e=0;e<m;e++){let t=4*e,a=b[t],r=b[t+1],n=b[t+2],i=b[t+3],s=y[e];if(s>=d)continue;let o=f>1?(n-a)*(u-1)/(f-1):0,m=g>1?(i-r)*(h-1)/(g-1):0;for(let t=0;t<f;t++){let d=f>1?a*(u-1)+t*o:.5*(a+n)*(u-1);if(d<0||d>u-1){for(let a=0;a<g;a++)for(let r=0;r<c;r++){let n=r+a*N[2]+t*N[1]+e*N[0];v.values[n]=p}continue}if("bilinear"===l){let a=Math.floor(d),n=Math.ceil(d),o=d-a;for(let l=0;l<g;l++){let d=g>1?r*(h-1)+l*m:.5*(r+i)*(h-1);if(d<0||d>h-1){for(let a=0;a<c;a++){let r=a+l*N[2]+t*N[1]+e*N[0];v.values[r]=p}continue}let u=Math.floor(d),f=Math.ceil(d),b=d-u;for(let r=0;r<c;r++){let i=r+u*x[2]+a*x[1]+s*x[0],p=w[i],d=w[i=r+f*x[2]+a*x[1]+s*x[0]],h=w[i=r+u*x[2]+n*x[1]+s*x[0]],c=w[i=r+f*x[2]+n*x[1]+s*x[0]],m=p+(d-p)*b,g=h+(c-h)*b;i=r+l*N[2]+t*N[1]+e*N[0],v.values[i]=m+(g-m)*o}}}else for(let a=0;a<g;++a){let n=g>1?r*(h-1)+a*m:.5*(r+i)*(h-1);if(n<0||n>h-1){for(let r=0;r<c;r++){let n=r+a*N[2]+t*N[1]+e*N[0];v.values[n]=p}continue}let o=Math.round(n),l=Math.round(d);for(let r=0;r<c;r++){let n=r+o*x[2]+l*x[1]+s*x[0],i=r+a*N[2]+t*N[1]+e*N[0];v.values[i]=w[n]}}}}return a.makeTensorInfo(v.shape,v.dtype,v.values)}},{kernelName:eO,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i,exclusive:s,reverse:o}=r;mc(n,"cumprod");let l=i1([i],n.shape.length),p=n;null!=l&&(p=mW({inputs:{x:n},backend:a,attrs:{perm:l}}));let d=i0(1,n.shape.length)[0];if(d!==p.shape.length-1)throw Error(`backend.cumprod in CPU expects an inner-most axis=${p.shape.length-1} but got axis=${d}`);let u=ra(p.dtype,"int32"),h=q(T(p.shape),u),c=a.data.get(p.dataId).values,m=p.shape[p.shape.length-1],f=o?(e,t)=>e+m-t-1:(e,t)=>e+t;for(let e=0;e<c.length;e+=m)for(let t=0;t<m;t++){let a=f(e,t);if(0===t)h[a]=s?1:c[a];else{let r=f(e,t-1);h[a]=s?c[r]*h[r]:c[a]*h[r]}}let g=a.makeTensorInfo(p.shape,u,h);if(null!=l){let e=mW({inputs:{x:g},backend:a,attrs:{perm:i2(l)}});return a.disposeIntermediateTensorInfo(g),a.disposeIntermediateTensorInfo(p),e}return g}},{kernelName:eP,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i,exclusive:s,reverse:o}=r;mc(n,"cumsum");let l=i1([i],n.shape.length),p=n;null!=l&&(p=mW({inputs:{x:n},backend:a,attrs:{perm:l}}));let d=i0(1,n.shape.length)[0];if(d!==p.shape.length-1)throw Error(`backend.cumsum in CPU expects an inner-most axis=${p.shape.length-1} but got axis=${d}`);let u=ra(p.dtype,"int32"),h=G(T(p.shape),u),c=a.data.get(p.dataId).values,m=p.shape[p.shape.length-1],f=o?(e,t)=>e+m-t-1:(e,t)=>e+t;for(let e=0;e<c.length;e+=m)for(let t=0;t<m;t++){let a=f(e,t);if(0===t)h[a]=s?0:c[a];else{let r=f(e,t-1);h[a]=s?c[r]+h[r]:c[a]+h[r]}}let g=a.makeTensorInfo(p.shape,u,h);if(null!=l){let e=mW({inputs:{x:g},backend:a,attrs:{perm:i2(l)}});return a.disposeIntermediateTensorInfo(g),a.disposeIntermediateTensorInfo(p),e}return g}},{kernelName:eB,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,weights:i}=t,{size:s,binaryOutput:o}=r;if(1===n.shape.length){let e=m2(a.data.get(n.dataId).values,a.data.get(i.dataId).values,i.dtype,i.shape,s);return a.makeTensorInfo([s],i.dtype,e)}if(2===n.shape.length){let e=m0(a.bufferSync(n),a.bufferSync(i),s,o);return a.makeTensorInfo(e.shape,i.dtype,e.values)}throw Error(`Error in denseBincount: input must be at most rank 2, but got rank${n.shape.length}.`)}},{kernelName:ez,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{blockSize:i,dataFormat:s}=r;S("NHWC"===s,()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${s}`);let o=n.shape[0],l=n.shape[1],p=n.shape[2],d=n.shape[3],u=l*i,h=p*i,c=d/(i*i),m=a.data.get(n.dataId).values,f=new Float32Array(o*u*h*c),g=0;for(let e=0;e<o;++e)for(let t=0;t<u;++t){let a=Math.floor(t/i),r=t%i;for(let t=0;t<h;++t){let n=Math.floor(t/i),s=t%i,o=(r*i+s)*c;for(let t=0;t<c;++t){let r=t+o+d*(n+p*(a+l*e));f[g++]=m[r]}}}return a.makeTensorInfo([o,u,h,c],n.dtype,f)}},{kernelName:eV,backendName:"cpu",kernelFunc:fn},{kernelName:eU,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,dy:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:p,filterShape:d}=r;mc([n,i],"depthwiseConv2dNativeBackpropFilter");let u=n3(n.shape,d,s,o,l,p,!0),{strideHeight:h,strideWidth:c,filterHeight:m,filterWidth:f}=u,g=new a3(u.filterShape,"float32"),v=u.padInfo.left,b=u.padInfo.top,y=u.outChannels/u.inChannels,w=a.data.get(n.dataId).values,x=new a3(n.shape,n.dtype,w),N=a.data.get(i.dataId).values,k=new a3(i.shape,i.dtype,N);for(let e=0;e<m;++e){let t=Math.max(0,Math.ceil((b-e)/h)),a=Math.min(u.outHeight,(u.inHeight+b-e)/h);for(let r=0;r<f;++r){let n=Math.max(0,Math.ceil((v-r)/c)),i=Math.min(u.outWidth,(u.inWidth+v-r)/c);for(let s=0;s<u.outChannels;++s){let o=Math.trunc(s/y),l=s%y,p=0;for(let l=0;l<u.batchSize;++l)for(let d=t;d<a;++d){let t=e+d*h-b;for(let e=n;e<i;++e){let a=r+e*c-v;p+=x.get(l,t,a,o)*k.get(l,d,e,s)}}g.set(p,e,r,o,l)}}}return a.makeTensorInfo(g.shape,g.dtype,g.values)}},{kernelName:ej,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,filter:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:p,inputShape:d}=r;mc([n,i],"depthwiseConv2DNativeBackpropInput");let u=j(n.shape),h=j(i.shape),c=n3(d,i.shape,s,o,l,p,!0),m=new a3(c.inShape,"float32"),f=m.values,[g,v,b]=m.strides,y=a.data.get(n.dataId).values,[w,x,N]=u,k=a.data.get(i.dataId).values,[S,I,C]=h,{batchSize:T,filterHeight:A,filterWidth:_,inChannels:E,inHeight:$,inWidth:R,outChannels:L,outHeight:D,outWidth:F,strideHeight:O,strideWidth:P}=c,M=A-1-c.padInfo.top,B=_-1-c.padInfo.left,z=L/E;for(let e=0;e<T;++e)for(let t=0;t<E;++t)for(let a=0;a<$;++a){let r=a-M,n=Math.max(0,Math.ceil(r/O)),i=Math.min(D,(A+r)/O);for(let s=0;s<R;++s){let o=s-B,l=Math.max(0,Math.ceil(o/P)),p=Math.min(F,(_+o)/P),d=0;for(let a=n;a<i;++a){let n=a*O-r;for(let r=l;r<p;++r){let i=r*P-o,s=w*e+x*a+N*r,l=S*(A-1-n)+I*(_-1-i)+C*t;for(let e=0;e<z;++e)d+=y[s+(t*z+e)]*k[l+e]}}f[g*e+v*a+b*s+t]=d}}return a.makeTensorInfo(m.shape,m.dtype,m.values)}},{kernelName:eW,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{x:r}=t,n=T(r.shape),i=a.data.get(r.dataId).values,s=r6([n,n],r.dtype),o=s.values;for(let e=0;e<i.length;e++)o[e*n+e]=i[e];let l=[...r.shape,...r.shape];return a.makeTensorInfo(l,s.dtype,s.values)}},{kernelName:eq,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:a})=>{let{x:r,filter:n}=e,{strides:i,pad:s,dilations:o}=a,l=t.data.get(r.dataId).values,p=r.shape.length,d=t.data.get(n.dataId).values,u=n.shape.length,{batchSize:h,inHeight:c,inWidth:m,inChannels:f,outHeight:g,outWidth:v,padInfo:b,strideHeight:y,strideWidth:w,filterHeight:x,filterWidth:N,dilationHeight:k,dilationWidth:S,outShape:I}=n0(r.shape,n.shape,i,s,"NHWC",o),C=T(I),A=I.length,_=F(r.dtype,C);for(let e=0;e<h;++e)for(let t=0;t<g;++t){let a=t*y-b.top;for(let i=0;i<v;++i){let s=i*w-b.left;for(let o=0;o<f;++o){let h=Number.MIN_SAFE_INTEGER;for(let t=0;t<x;++t){let i=a+t*k;if(i>=0&&i<c)for(let a=0;a<N;++a){let c=s+a*S;if(c>=0&&c<m){let s=X([e,i,c,o],p,j(r.shape)),m=X([t,a,o],u,j(n.shape)),f=l[s]+d[m];f>h&&(h=f)}}}_[X([e,t,i,o],A,j(I))]=h}}}return{dataId:t.write(aK(_,r.dtype),I,r.dtype),shape:I,dtype:r.dtype}}},{kernelName:eH,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:a})=>{let{x:r,filter:n,dy:i}=e,{strides:s,pad:o,dilations:l}=a,p=W(r.shape,t.data.get(r.dataId).values),d=W(n.shape,t.data.get(n.dataId).values),{batchSize:u,inHeight:h,inWidth:c,inChannels:m,outHeight:f,outWidth:g,padInfo:v,strideHeight:b,strideWidth:y,filterHeight:w,filterWidth:x,dilationHeight:N,dilationWidth:k,outShape:I}=n0(r.shape,n.shape,s,o,"NHWC",l);S(i.rank===I.length,()=>`Error in ${eH}, dy must have the same rank as output ${I.length}, but got ${i.rank}`);let C=W(I,t.data.get(i.dataId).values),T=H(n.shape,n.dtype);for(let e=0;e<u;++e)for(let t=0;t<f;++t){let a=t*b-v.top;for(let r=0;r<g;++r){let n=r*y-v.left;for(let i=0;i<m;++i){let s=Number.MIN_SAFE_INTEGER,o=0,l=0;for(let t=0;t<w;++t){let r=a+t*N;if(r>=0&&r<h)for(let a=0;a<x;++a){let u=n+a*k;if(u>=0&&u<c){let n=p[e][r][u][i]+d[t][a][i];n>s&&(s=n,o=t,l=a)}}}T[o][l][i]+=C[e][t][r][i]}}}return{dataId:t.write(aK(T,r.dtype),n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},{kernelName:eG,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:a})=>{let{x:r,filter:n,dy:i}=e,{strides:s,pad:o,dilations:l}=a,p=W(r.shape,t.data.get(r.dataId).values),d=W(n.shape,t.data.get(n.dataId).values),{batchSize:u,inHeight:h,inWidth:c,inChannels:m,outHeight:f,outWidth:g,padInfo:v,strideHeight:b,strideWidth:y,filterHeight:w,filterWidth:x,dilationHeight:N,dilationWidth:k,outShape:I}=n0(r.shape,n.shape,s,o,"NHWC",l);S(i.rank===I.length,()=>`Error in ${eG}, dy must have the same rank as output ${I.length}, but got ${i.rank}`);let C=W(I,t.data.get(i.dataId).values),T=H(r.shape,r.dtype);for(let e=0;e<u;++e)for(let t=0;t<f;++t){let a=t*b-v.top;for(let r=0;r<g;++r){let n=r*y-v.left;for(let i=0;i<m;++i){let s=Number.MIN_SAFE_INTEGER,o=a<0?0:a,l=n<0?0:n;for(let t=0;t<w;++t){let r=a+t*N;if(r>=0&&r<h)for(let a=0;a<x;++a){let u=n+a*k;if(u>=0&&u<c){let n=p[e][r][u][i]+d[t][a][i];n>s&&(s=n,o=r,l=u)}}}T[e][o][l][i]+=C[e][t][r][i]}}}return{dataId:t.write(aK(T,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:"Draw",backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{image:n}=t,{canvas:i,options:s}=r,{contextOptions:o,imageOptions:l}=s||{},p=(null==l?void 0:l.alpha)||1,d=(null==o?void 0:o.contextType)||"2d";if("2d"!==d)throw Error(`Context type ${o.contextType} is not supported by the CPU backend.`);let u=i.getContext(d,(null==o?void 0:o.contextAttributes)||{});if(null==u)throw Error(`Could not get the context with ${d} type.`);let[h,c]=n.shape.slice(0,2),m=2===n.shape.length?1:n.shape[2],f=a.data.get(n.dataId).values,g="float32"===n.dtype?255:1,v=new Uint8ClampedArray(c*h*4);for(let e=0;e<h*c;++e){let t=[0,0,0,255*p];for(let a=0;a<m;a++){let r=f[e*m+a];if("float32"===n.dtype){if(r<0||r>1)throw Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${r}.`)}else if("int32"===n.dtype&&(r<0||r>255))throw Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${r}.`);1===m?(t[0]=r*g,t[1]=r*g,t[2]=r*g):t[a]=r*g}let a=4*e;v[a+0]=Math.round(t[0]),v[a+1]=Math.round(t[1]),v[a+2]=Math.round(t[2]),v[a+3]=Math.round(t[3])}i.width=c,i.height=h;let b=new ImageData(v,c,h);return u.putImageData(b,0,0),n}},{kernelName:eX,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{equation:n}=r,{allDims:i,summedDims:s,idDims:o}=o8(n,t.length);o7(i.length,o,t);let{path:l,steps:p}=le(s,o),d=p.length,u=null,h=i.length,c=[];for(let e=0;e<d;++e){for(let r of p[e]){let e;let{permutationIndices:n,expandDims:i}=o9(h,o[r]);lt(n)?e=t[r]:(e=mW({inputs:{x:t[r]},backend:a,attrs:{perm:n}}),c.push(e));let s=e.shape.slice();for(let e=0;e<i.length;++e)s.splice(i[e],0,1);A(e.shape,s)||(e=mM({inputs:{x:e},backend:a,attrs:{shape:s}}),c.push(e)),null===u?u=e:(u=fs({inputs:{a:e,b:u},backend:a}),c.push(u))}e<d-1&&(l[e]>=0&&(u=fo({inputs:{x:u},backend:a,attrs:{axis:l[e]-(i.length-h),keepDims:!1}}),c.push(u)),h--)}for(let e of c)e!==u&&a.disposeIntermediateTensorInfo(e);return u}},{kernelName:"Elu",backendName:"cpu",kernelFunc:mb},{kernelName:eY,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{dy:r,y:n}=t;mc([r,n],"eluGrad");let i=new Float32Array(T(n.shape)),s=a.data.get(n.dataId).values,o=a.data.get(r.dataId).values;for(let e=0;e<s.length;++e){let t=s[e];t>=0?i[e]=o[e]:i[e]=o[e]*(t+1)}return a.makeTensorInfo(n.shape,"float32",i)}},{kernelName:eJ,backendName:"cpu",kernelFunc:fp},{kernelName:"Erf",backendName:"cpu",kernelFunc:fd},{kernelName:"Exp",backendName:"cpu",kernelFunc:fh},{kernelName:eZ,backendName:"cpu",kernelFunc:fc},{kernelName:eQ,backendName:"cpu",kernelFunc:ff},{kernelName:"FFT",backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{input:r}=t,n=T(r.shape),i=r.shape[r.shape.length-1],s=mM({inputs:{x:r},backend:a,attrs:{shape:[n/i,i]}}),o=fw(s,!1,a),l=mM({inputs:{x:o},backend:a,attrs:{shape:r.shape}});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(o),l}},{kernelName:e1,backendName:"cpu",kernelFunc:fx},{kernelName:e2,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:a})=>{let{image:r}=e,n=F(r.dtype,T(r.shape)),[i,s,o,l]=r.shape,p=a.data.get(r.dataId).values;for(let e=0;e<i;e++){let t=e*o*s*l;for(let e=0;e<s;e++){let a=o*l*e;for(let e=0;e<o;e++){let r=e*l;for(let i=0;i<l;i++){let s=Math.round(o-e-1),d=t+a+r+i,u=p[d];s>=0&&s<o&&(u=p[t+a+s*l+i]),n[d]=u}}}}return{dataId:a.write(n,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:e0,backendName:"cpu",kernelFunc:fk},{kernelName:e5,backendName:"cpu",kernelFunc:fS},{kernelName:aI,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:p,dataFormat:d,dilations:u,dimRoundingMode:h,activation:c,leakyreluAlpha:m}=r,f=ft({inputs:{x:n,filter:i},backend:a,attrs:{strides:l,pad:p,dataFormat:d,dilations:u,dimRoundingMode:h}});if(s){let e=f;if("NCHW"===d&&1===s.shape.length&&1!==s.shape[0]){let e=mM({inputs:{x:s},backend:a,attrs:{shape:[s.shape[0],1,1]}});f=mP({inputs:{a:f,b:e},backend:a}),a.disposeIntermediateTensorInfo(e)}else f=mP({inputs:{a:f,b:s},backend:a});a.disposeIntermediateTensorInfo(e)}if(c){let e=f;if("NCHW"===d&&"prelu"===c&&1===o.shape.length&&1!==o.shape[0]){let e=mM({inputs:{x:o},backend:a,attrs:{shape:[o.shape[0],1,1]}});f=mA(a,f,c,e,m),a.disposeIntermediateTensorInfo(e)}else f=mA(a,f,c,o,m);a.disposeIntermediateTensorInfo(e)}return f}},{kernelName:aC,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:p,dataFormat:d,dilations:u,dimRoundingMode:h,activation:c,leakyreluAlpha:m}=r,f=fn({inputs:{x:n,filter:i},backend:a,attrs:{strides:l,pad:p,dataFormat:d,dilations:u,dimRoundingMode:h}});if(s){let e=f;f=mP({inputs:{a:f,b:s},backend:a}),a.disposeIntermediateTensorInfo(e)}if(c){let e=f;f=mA(a,f,c,o,m),a.disposeIntermediateTensorInfo(e)}return f}},{kernelName:e6,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{params:r,indices:n}=t,i=T(r.shape),s=n.shape,o=s[s.length-1],[l,p,d,u]=oz(r,n);if(0===p)return a.makeTensorInfo(l,r.dtype,[]);let h=fI(a.data.get(n.dataId).values,a.bufferSync(r),r.dtype,p,o,d,u,r.shape,i);return a.makeTensorInfo(l,r.dtype,h.values)}},{kernelName:e3,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,indices:i}=t,{axis:s,batchDims:o}=r;mc([n,i],"gatherV2");let l=L(s,n.shape)[0],p=a.data.get(i.dataId).values,d=n.shape[l];for(let e=0;e<p.length;++e){let t=p[e];S(t<=d-1&&t>=0,()=>`GatherV2: the index value ${t} is not in [0, ${d-1}]`)}let u=o;null==o&&(u=0);let h=T(i.shape),c=lv(n,i,l,u),m=mM({inputs:{x:n},backend:a,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),f=mM({inputs:{x:i},backend:a,attrs:{shape:[c.batchSize,h/c.batchSize]}}),g=[c.batchSize,c.outerSize,h/c.batchSize,c.sliceSize],v=a.bufferSync(f),b=fC(a.bufferSync(m),v,g);return a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(f),a.makeTensorInfo(c.outputShape,b.dtype,b.values)}},{kernelName:e8,backendName:"cpu",kernelFunc:fA},{kernelName:e9,backendName:"cpu",kernelFunc:fE},{kernelName:e7,backendName:"cpu",kernelFunc:my},{kernelName:te,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{input:r}=t,n=T(r.shape),i=r.shape[r.shape.length-1],s=mM({inputs:{x:r},backend:a,attrs:{shape:[n/i,i]}}),o=fw(s,!0,a),l=mM({inputs:{x:o},backend:a,attrs:{shape:r.shape}});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(o),l}},{kernelName:tt,backendName:"cpu",kernelFunc:m7},{kernelName:ta,backendName:"cpu",kernelFunc:f$},{kernelName:tr,backendName:"cpu",kernelFunc:fR},{kernelName:tn,backendName:"cpu",kernelFunc:fL},{kernelName:ti,backendName:"cpu",kernelFunc:mw},{kernelName:ts,backendName:"cpu",kernelFunc:fF},{kernelName:to,backendName:"cpu",kernelFunc:fP},{kernelName:tl,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{backend:t,attrs:a}=e,{start:r,stop:n,num:i}=a,s=fM(r,n,i);return t.makeTensorInfo([s.length],"float32",s)}},{kernelName:"Log",backendName:"cpu",kernelFunc:fz},{kernelName:tp,backendName:"cpu",kernelFunc:fV},{kernelName:td,backendName:"cpu",kernelFunc:fU},{kernelName:tu,backendName:"cpu",kernelFunc:fj},{kernelName:th,backendName:"cpu",kernelFunc:fW},{kernelName:"LRN",backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{depthRadius:i,bias:s,alpha:o,beta:l}=r;mc(n,"LRN");let p=n.shape[3],d=p-1,u=a.data.get(n.dataId).values,h=T(n.shape),c=new Float32Array(h);for(let e=0;e<h;e++){let t=function(e){let t=e%p,a=e-t+Math.max(0,t-i),r=e-t+Math.min(t+i,d),n=0;for(;a<=r;a++){let e=u[a];n+=e*e}return n}(e),a=u[e]*Math.pow(s+o*t,-l);c[e]=a}return a.makeTensorInfo(n.shape,n.dtype,c)}},{kernelName:tc,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,y:i,dy:s}=t,{depthRadius:o,bias:l,alpha:p,beta:d}=r;mc(s,"LRNGrad");let u=T(s.shape),h=s.shape[3],c=a.data.get(s.dataId).values,m=a.data.get(n.dataId).values,f=a.data.get(i.dataId).values,g=new Float32Array(u);for(let e=0;e<u;e++){let t=e%h,a=e-t+Math.max(0,t-o),r=e-t+Math.min(h,t+o+1),n=0;for(let e=a;e<r;e++)n+=Math.pow(m[e],2);n=p*n+l;for(let t=a;t<r;t++){let a=-2*p*d*m[t]*f[e]/n;e===t&&(a+=Math.pow(n,-d)),a*=c[e],g[t]+=a}}return a.makeTensorInfo(s.shape,n.dtype,g)}},{kernelName:"Max",backendName:"cpu",kernelFunc:fG},{kernelName:tm,backendName:"cpu",kernelFunc:fK},{kernelName:tf,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a;mc(i,"maxPool");let{filterSize:s,strides:o,pad:l,dimRoundingMode:p}=n;S(ir(o,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '1'`);let d=n5(i.shape,s,o,1,l,p);if(1===d.filterWidth&&1===d.filterHeight&&A(d.inShape,d.outShape))t=my({inputs:{x:i},backend:r});else{let e=r.data.get(i.dataId).values,a=j(i.shape),n=mY(e,i.shape,i.dtype,a,d,"max");t=r.makeTensorInfo(d.outShape,i.dtype,n.values)}return t}},{kernelName:tv,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:p}=r;mc(n,"maxPool3d");let d=n4(n.shape,i,s,1,o,l,p),u=mZ(a.data.get(n.dataId).values,n.shape,n.dtype,j(n.shape),d,"max");return a.makeTensorInfo(u.shape,"float32",u.values)}},{kernelName:tb,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:p}=r;mc([n,i],"maxPool3DGrad");let d=n4(i.shape,s,o,1,l,p),u=function(e,t){let a=r6(t.outShape,"int32"),r=t.strideDepth,n=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,o=t.dilationHeight,l=t.dilationWidth,p=t.effectiveFilterDepth,d=t.effectiveFilterHeight,u=t.effectiveFilterWidth,h=t.padInfo.front,c=t.padInfo.top,m=t.padInfo.left;for(let f=0;f<t.batchSize;++f)for(let g=0;g<t.inChannels;++g)for(let v=0;v<t.outDepth;++v){let b=v*r-h,y=b;for(;y<0;)y+=s;let w=Math.min(t.inDepth,p+b);for(let r=0;r<t.outHeight;++r){let p=r*n-c,h=p;for(;h<0;)h+=o;let x=Math.min(t.inHeight,d+p);for(let n=0;n<t.outWidth;++n){let c=n*i-m,N=c;for(;N<0;)N+=l;let k=Math.min(t.inWidth,u+c),S=Number.NEGATIVE_INFINITY,I=-1;for(let t=y;t<w;t+=s){let a=t-b;for(let r=h;r<x;r+=o){let n=r-p;for(let i=N;i<k;i+=l){let s=i-c,o=e.get(f,t,r,i,g);o>=S&&(S=o,I=a*d*u+n*d+s)}}}a.set(I,f,v,r,n,g)}}}return a}(a.bufferSync(i),d),h=d.strideDepth,c=d.strideHeight,m=d.strideWidth,f=d.dilationDepth,g=d.dilationHeight,v=d.dilationWidth,b=d.effectiveFilterDepth,y=d.effectiveFilterHeight,w=d.effectiveFilterWidth,x=b-1-d.padInfo.front,N=w-1-d.padInfo.left,k=y-1-d.padInfo.top,S=r6(i.shape,"float32"),I=a.bufferSync(n);for(let e=0;e<d.batchSize;++e)for(let t=0;t<d.inChannels;++t)for(let a=0;a<d.inDepth;++a)for(let r=0;r<d.inHeight;++r)for(let n=0;n<d.inWidth;++n){let i=a-x,s=r-k,o=n-N,l=0;for(let a=0;a<b;a+=f){let r=(i+a)/h;if(!(r<0)&&!(r>=d.outDepth)&&Math.floor(r)===r)for(let n=0;n<y;n+=g){let i=(s+n)/c;if(!(i<0)&&!(i>=d.outHeight)&&Math.floor(i)===i)for(let s=0;s<w;s+=v){let p=(o+s)/m;if(p<0||p>=d.outWidth||Math.floor(p)!==p)continue;let h=b*y*w-1-u.get(e,r,i,p,t)===a*y*w+n*w+s?1:0;0!==h&&(l+=I.get(e,r,i,p,t)*h)}}}S.set(l,e,a,r,n,t)}return a.makeTensorInfo(S.shape,S.dtype,S.values)}},{kernelName:tg,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,input:i,output:s}=t;mc([i,s],"maxPoolGrad");let{filterSize:o,strides:l,pad:p,dimRoundingMode:d}=r,u=n5(i.shape,o,l,1,p,d),h=a.data.get(i.dataId).values,c=r6(u.outShape,i.dtype,mJ(h,i.shape,i.dtype,u).values),m=u.strideHeight,f=u.strideWidth,g=u.dilationHeight,v=u.dilationWidth,b=u.effectiveFilterHeight,y=u.effectiveFilterWidth,w=y-1-u.padInfo.left,x=b-1-u.padInfo.top,N=r6(i.shape,"float32"),k=a.data.get(n.dataId).values,S=r6(n.shape,"float32",k);for(let e=0;e<u.batchSize;++e)for(let t=0;t<u.inChannels;++t)for(let a=0;a<u.inHeight;++a)for(let r=0;r<u.inWidth;++r){let n=a-x,i=r-w,s=0;for(let a=0;a<b;a+=g){let r=(n+a)/m;if(!(r<0)&&!(r>=u.outHeight)&&Math.floor(r)===r)for(let n=0;n<y;n+=v){let o=(i+n)/f;if(o<0||o>=u.outWidth||Math.floor(o)!==o)continue;let l=b*y-1-c.get(e,r,o,t)===a*y+n?1:0;0!==l&&(s+=S.get(e,r,o,t)*l)}}N.set(s,e,a,r,t)}return a.makeTensorInfo(N.shape,N.dtype,N.values)}},{kernelName:ty,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:a})=>{let{x:r}=e,{filterSize:n,strides:i,pad:s,includeBatchInIndex:o}=t;mc(r,"MaxPoolWithArgmax");let l=a.data.get(r.dataId).values,p=n5(r.shape,n,i,[1,1],s),[d,u]=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r,n){let i=j(t),s=mY(e,t,a,i,n,"max"),o=mJ(e,t,a,n,!0,r);return[s.values,o.values]}(l,r.shape,r.dtype,o,p),h=a.write(d,p.outShape,r.dtype),c=a.write(u,p.outShape,r.dtype);return[{dataId:h,shape:p.outShape,dtype:r.dtype},{dataId:c,shape:p.outShape,dtype:"int32"}]}},{kernelName:tw,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i,keepDims:s}=r,o=L(i,n.shape),l=T(iJ(n.shape,o)[1]),p=[],d=a.makeTensorInfo([],"float32",new Float32Array([l]));p.push(d);let u=mL({inputs:{x:n},backend:a,attrs:{dtype:"float32"}});p.push(u);let h=fg({inputs:{a:u,b:d},backend:a});p.push(h);let c=fo({inputs:{x:h},backend:a,attrs:{axis:i,keepDims:s}});return p.forEach(e=>a.disposeIntermediateTensorInfo(e)),c}},{kernelName:"Min",backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i,keepDims:s}=r;mc(n,"min");let o=L(i,n.shape),l=o,p=i1(l,n.shape.length),d=n;null!=p&&(d=mW({inputs:{x:n},backend:a,attrs:{perm:p}}),l=i0(l.length,n.shape.length)),iQ("min",l,d.shape.length);let[u,h]=iJ(d.shape,l),c=T(h),m=G(T(u),d.dtype),f=a.data.get(d.dataId).values;for(let e=0;e<m.length;++e){let t=e*c,a=f[t];for(let e=0;e<c;++e){let r=f[t+e];(Number.isNaN(r)||r<a)&&(a=r)}m[e]=a}null!=p&&a.disposeIntermediateTensorInfo(d);let g=a.makeTensorInfo(u,d.dtype,m);if(s){let e=mM({inputs:{x:g},backend:a,attrs:{shape:iZ(u,o)}});return a.disposeIntermediateTensorInfo(g),e}return g}},{kernelName:tx,backendName:"cpu",kernelFunc:fY},{kernelName:tN,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{paddings:i,mode:s}=r;mc(n,"mirrorPad");let o=i.map((e,t)=>e[0]+n.shape[t]+e[1]),l=i.map(e=>e[0]),p=i.map((e,t)=>e[0]+n.shape[t]),d="reflect"===s?0:1,u=a.data.get(n.dataId).values,h=n.shape.length,c=j(n.shape),m=T(o),f=o.length,g=j(o),v=F(n.dtype,m);for(let e=0;e<m;e++){let t=Y(e,f,g);for(let e=0;e<f;e++)t[e]<l[e]?t[e]=2*l[e]-t[e]-d:t[e]>=p[e]&&(t[e]=(p[e]-1)*2-t[e]+d);let a=X(t=t.map((e,t)=>e-l[t]),h,c);v[e]=u[a]}return{dataId:a.write(v,o,n.dtype),shape:o,dtype:n.dtype}}},{kernelName:"Mod",backendName:"cpu",kernelFunc:fJ},{kernelName:tk,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{logits:n}=t,{numSamples:i,seed:s,normalized:o}=r;mc(n,"multinomial");let l=o?n:fZ({inputs:{logits:n},backend:a,attrs:{dim:-1}}),p=l.shape[0],d=l.shape[1],u=a.data.get(l.dataId).values,h=[p,i],c=G(T(h),"int32");for(let e=0;e<p;++e){let t=e*d,a=new Float32Array(d-1);a[0]=u[t];for(let e=1;e<a.length;++e)a[e]=a[e-1]+u[t+e];let r=sd.alea(s.toString()),n=e*i;for(let e=0;e<i;++e){let t=r();c[n+e]=a.length;for(let r=0;r<a.length;r++)if(t<a[r]){c[n+e]=r;break}}}return o||a.disposeIntermediateTensorInfo(l),a.makeTensorInfo(h,"int32",c)}},{kernelName:tS,backendName:"cpu",kernelFunc:fs},{kernelName:"Neg",backendName:"cpu",kernelFunc:function(e){let{inputs:t,backend:a}=e,{x:r}=t;mc(r,"neg");let[n,i]=fQ(a.data.get(r.dataId).values,r.shape,r.dtype);return a.makeTensorInfo(i,r.dtype,n)}},{kernelName:tC,backendName:"cpu",kernelFunc:function(e){var t;let{inputs:a,backend:r,attrs:n}=e,{boxes:i,scores:s}=a,{maxOutputSize:o,iouThreshold:l,scoreThreshold:p}=n;mc(i,"NonMaxSuppression");let{selectedIndices:d}=(t=r.data.get(i.dataId).values,oa(t,r.data.get(s.dataId).values,o,l,p,0));return r.makeTensorInfo([d.length],"int32",new Int32Array(d))}},{kernelName:tT,backendName:"cpu",kernelFunc:function(e){let{inputs:t,backend:a,attrs:r}=e,{boxes:n,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:p}=r;mc(n,"NonMaxSuppressionPadded");let{selectedIndices:d,validOutputs:u}=ot(a.data.get(n.dataId).values,a.data.get(i.dataId).values,s,o,l,p);return[a.makeTensorInfo([d.length],"int32",new Int32Array(d)),a.makeTensorInfo([],"int32",new Int32Array([u]))]}},{kernelName:tA,backendName:"cpu",kernelFunc:function(e){let{inputs:t,backend:a,attrs:r}=e,{boxes:n,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,softNmsSigma:p}=r;mc(n,"NonMaxSuppressionWithScore");let{selectedIndices:d,selectedScores:u}=oa(a.data.get(n.dataId).values,a.data.get(i.dataId).values,s,o,l,p,!0);return[a.makeTensorInfo([d.length],"int32",new Int32Array(d)),a.makeTensorInfo([u.length],"float32",new Float32Array(u))]}},{kernelName:tI,backendName:"cpu",kernelFunc:f2},{kernelName:tE,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{indices:n}=t,{dtype:i,depth:s,onValue:o,offValue:l}=r;mc(n,"oneHot");let p=T(n.shape),d=new Float32Array(p*s);d.fill(l);let u=a.data.get(n.dataId).values;for(let e=0;e<p;++e)u[e]>=0&&u[e]<s&&(d[e*s+u[e]]=o);return a.makeTensorInfo([...n.shape,s],i,d)}},{kernelName:t_,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e(t){let{inputs:a,backend:r}=t,{x:n}=a;if("string"===n.dtype)throw Error("onesLike is not supported for string tensors");if("complex64"!==n.dtype)return fx({backend:r,attrs:{shape:n.shape,value:1,dtype:n.dtype}});{let t=m$({inputs:{input:n},backend:r}),a=e({inputs:{x:t},backend:r}),i=m7({inputs:{input:n},backend:r}),s=f0({inputs:{x:i},backend:r}),o=m_({inputs:{real:a,imag:s},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),o}}},{kernelName:t$,backendName:"cpu",kernelFunc:f5},f4,{kernelName:"Pow",backendName:"cpu",kernelFunc:f3},{kernelName:tL,backendName:"cpu",kernelFunc:mk},{kernelName:tD,backendName:"cpu",kernelFunc:function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i,keepDims:s}=r;mc(n,"prod");let o=n.shape.length,l=L(i,n.shape),p=i1(l,o),d=l,u=n,h=[];null!=p&&(h.push(u=mW({inputs:{x:n},backend:a,attrs:{perm:p}})),d=i0(d.length,o));let c=a.data.get(u.dataId).values,{outVals:m,outShape:f,outDtype:g}=f6(u.shape,u.dtype,c,d),v=f;return s&&(v=iZ(f,l)),h.forEach(e=>a.disposeIntermediateTensorInfo(e)),a.makeTensorInfo(v,g,m)}},{kernelName:tF,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{paramsNestedSplits:n,paramsDenseValues:i,indices:s}=t,{outputRaggedRank:o}=r,l=n.map(e=>a.data.get(e.dataId).values),p=n.map(e=>e.shape),d=a.data.get(i.dataId).values,u=a.data.get(s.dataId).values,[h,c,m]=f9(l,p,d,i.shape,i.dtype,u,s.shape,o),f=h.map(e=>a.makeTensorInfo([e.length],"int32",e)),g=a.makeTensorInfo(m,i.dtype,c);return f.concat([g])}},{kernelName:tO,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{starts:r,limits:n,deltas:i}=t,s=a.data.get(r.dataId).values,o=a.data.get(n.dataId).values,l=a.data.get(i.dataId).values,[p,d]=f7(s,r.shape,r.dtype,o,n.shape,l,i.shape);return[a.makeTensorInfo([p.length],"int32",p),a.makeTensorInfo([d.length],r.dtype,d)]}},{kernelName:tP,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{shape:n,values:i,defaultValue:s,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=r,p=a.data.get(n.dataId).values,d=a.data.get(i.dataId).values,u=a.data.get(s.dataId).values,h=o.map(e=>a.data.get(e.dataId).values),c=o.map(e=>e.shape),[m,f]=gn(p,n.shape,d,i.shape,i.dtype,u,s.shape,h,c,l);return a.makeTensorInfo(m,i.dtype,f)}},{kernelName:tM,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{backend:t,attrs:a}=e,{start:r,stop:n,dtype:i,step:s}=a,o=gi(r,n,s,i);return t.makeTensorInfo([o.length],i,o)}},{kernelName:tB,backendName:"cpu",kernelFunc:m$},fv,{kernelName:tz,backendName:"cpu",kernelFunc:gs},{kernelName:tV,backendName:"cpu",kernelFunc:mS},{kernelName:tH,backendName:"cpu",kernelFunc:mI},{kernelName:tU,backendName:"cpu",kernelFunc:mM},{kernelName:tq,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{images:n}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r;mc(n,"resizeBilinear");let l=j(n.shape),[p,d]=o,[u,h,c,m]=n.shape,f=a.data.get(n.dataId).values,g=new Float32Array(T([u,p,d,m])),v=[i&&p>1?h-1:h,i&&d>1?c-1:c],b=[i&&p>1?p-1:p,i&&d>1?d-1:d],y=0,w=v[0]/b[0],x=v[1]/b[1];for(let e=0;e<u;e++)for(let t=0;t<p;t++){let a;let r=Math.max(0,Math.floor(a=s?w*(t+.5)-.5:w*t)),n=a-r,i=Math.min(h-1,Math.ceil(a)),o=e*l[0]+r*l[1],p=e*l[0]+i*l[1];for(let e=0;e<d;e++){let t;let a=Math.max(0,Math.floor(t=s?x*(e+.5)-.5:x*e)),r=t-a,i=Math.min(c-1,Math.ceil(t)),d=o+a*l[2],u=p+a*l[2],h=o+i*l[2],v=p+i*l[2];for(let e=0;e<m;e++){let t=f[d+e],a=f[u+e],i=f[h+e],s=f[v+e],o=t+(i-t)*r,l=o+(a+(s-a)*r-o)*n;g[y++]=l}}}return a.makeTensorInfo([u,p,d,m],"float32",g)}},{kernelName:tG,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{images:n,dy:i}=t,{alignCorners:s}=r;mc([i,n],"resizeBilinearGrad");let o=j(n.shape),[l,p,d,u]=n.shape,[,h,c]=i.shape,m=new Float32Array(l*p*d*u),f=[s&&h>1?p-1:p,s&&c>1?d-1:d],g=[s&&h>1?h-1:h,s&&c>1?c-1:c],v=f[0]/g[0],b=f[1]/g[1],y=a.data.get(i.dataId).values,w=0;for(let e=0;e<l;e++){let t=e*o[0];for(let e=0;e<h;e++){let a=e*v,r=Math.floor(a),n=Math.min(Math.ceil(a),p-1),i=t+r*o[1],s=t+n*o[1],l=a-r,h=1-l;for(let e=0;e<c;e++){let t=e*b,a=Math.floor(t),r=Math.min(Math.ceil(t),d-1),n=t-a,p=1-n,c=i+a*o[2],f=i+r*o[2],g=s+a*o[2],v=s+r*o[2],x=h*p,N=h*n,k=l*p,S=l*n;for(let e=0;e<u;e++){let t=y[w++];m[c+e]+=t*x,m[f+e]+=t*N,m[g+e]+=t*k,m[v+e]+=t*S}}}}return a.makeTensorInfo([l,d,p,u],"float32",m)}},{kernelName:tj,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{images:n}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r;mc(n,"resizeNearestNeighbor");let l=j(n.shape),[p,d]=o,[u,h,c,m]=n.shape,f=a.data.get(n.dataId).values,g=new Float32Array(u*p*d*m),v=[i&&p>1?h-1:h,i&&d>1?c-1:c],b=[i&&p>1?p-1:p,i&&d>1?d-1:d],y=v[0]/b[0],w=v[1]/b[1],x=0;for(let e=0;e<u;e++){let t=e*l[0];for(let e=0;e<p;e++){let a=s?y*(e+.5):y*e,r=Math.min(h-1,i?Math.round(a):Math.floor(a));s&&(r=Math.max(0,r));let n=t+r*l[1];for(let e=0;e<d;e++){let t=s?w*(e+.5):w*e,a=Math.min(c-1,i?Math.round(t):Math.floor(t));s&&(a=Math.max(0,a));let r=n+a*l[2];for(let e=0;e<m;e++){let t=f[r+e];g[x++]=t}}}}return a.makeTensorInfo([u,p,d,m],n.dtype,g)}},{kernelName:tW,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{images:n,dy:i}=t,{alignCorners:s}=r;mc([i,n],"resizeNearestNeighborGrad");let o=j(n.shape),l=j(i.shape),[p,d,u,h]=n.shape,[,c,m]=i.shape,f=new Float32Array(p*d*u*h),g=a.data.get(i.dataId).values,v=[s&&c>1?d-1:d,s&&m>1?u-1:u],b=[s&&c>1?c-1:c,s&&m>1?m-1:m],y=v[0]/b[0],w=v[1]/b[1],x=1/y,N=1/w,k=2*Math.ceil(x)+2,S=2*Math.ceil(N)+2;for(let e=0;e<p;e++){let t=e*o[0];for(let e=0;e<d;e++){let a=t+e*o[1],r=Math.floor(Math.floor(e*x)-k/2);for(let n=0;n<u;n++){let i=a+n*o[2],p=Math.floor(Math.floor(n*N)-S/2);for(let a=0;a<h;a++){let o=0;for(let i=0;i<k;i++){let h=i+r;if(h<0||h>=c)continue;let f=t+h*l[1],v=h*y;if(e===Math.min(d-1,s?Math.round(v):Math.floor(v)))for(let e=0;e<S;e++){let t=e+p;if(t<0||t>=m)continue;let r=f+t*l[2],i=t*w;n===Math.min(u-1,s?Math.round(i):Math.floor(i))&&(o+=g[r+a])}}f[i+a]=o}}}}return a.makeTensorInfo(n.shape,n.dtype,f)}},{kernelName:tK,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{dims:i}=r;mc(n,"reverse");let s=n.shape.length,o=L(i,n.shape);if(0===s)return my({inputs:{x:n},backend:a});let l=new a3(n.shape,n.dtype),p=a.bufferSync(n);for(let e=0;e<l.size;e++){let t=l.indexToLoc(e),a=t.slice();o.forEach(e=>a[e]=n.shape[e]-1-a[e]),l.set(p.get(...a),...t)}return a.makeTensorInfo(l.shape,l.dtype,l.values)}},{kernelName:ak,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:a})=>{let{image:r}=e,{radians:n,fillValue:i,center:s}=t,o=F(r.dtype,T(r.shape)),[l,p,d,u]=r.shape,[h,c]=oD(s,p,d),m=Math.sin(n),f=Math.cos(n),g=a.data.get(r.dataId).values;for(let e=0;e<l;e++){let t=e*d*p*u;for(let e=0;e<p;e++){let a=d*u*e;for(let r=0;r<d;r++){let n=r*u;for(let s=0;s<u;s++){let v=[l,e,r,s],b=v[2],y=v[1],w=(b-h)*f-(y-c)*m,x=(b-h)*m+(y-c)*f;w=Math.round(w+h),x=Math.round(x+c);let N=i;"number"!=typeof i&&(N=3===s?255:i[s]),w>=0&&w<d&&x>=0&&x<p&&(N=g[t+d*u*x+w*u+s]),o[t+a+n+s]=N}}}}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:tX,backendName:"cpu",kernelFunc:go},{kernelName:tY,backendName:"cpu",kernelFunc:gp},{kernelName:tJ,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{indices:n,updates:i}=t,{shape:s}=r,{sliceRank:o,numUpdates:l,sliceSize:p,strides:d,outputSize:u}=oj(i,n,s),h=gd(a.bufferSync(n),a.bufferSync(i),s,u,p,l,o,d,0,!0);return a.makeTensorInfo(s,h.dtype,h.values)}},{kernelName:tQ,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{sortedSequence:n,values:i}=t,{side:s}=r,o=function(e,t,a,r,n,i){let s=F("int32",a*n);for(let o=0;o<a;++o){let a=e.slice(o*r,(o+1)*r),l=o*n;for(let e=0;e<n;++e)s[l+e]="left"===i?/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let a=0,r=e.length,n=0;for(;a<r;)e[n=Math.floor((a+r)/2)]<t?a=n+1:r=n;return r}(a,t[e+l]):function(e,t){let a=0,r=e.length,n=0;for(;a<r;)e[n=Math.floor((a+r)/2)]<=t?a=n+1:r=n;return r}(a,t[e+l])}return s}(a.data.get(n.dataId).values,a.data.get(i.dataId).values,n.shape[0],n.shape[1],i.shape[1],s);return a.makeTensorInfo(i.shape,"int32",o)}},{kernelName:t1,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{condition:r,t:n,e:i}=t;mc([r,n,i],"select");let s=r.shape.length,o=a.data.get(r.dataId).values,l=a.data.get(n.dataId).values,p=a.data.get(i.dataId).values,d=ra(n.dtype,i.dtype),u=G(T(n.shape),d),h=0,c=0===s||s>1||1===n.shape.length?1:T(n.shape.slice(1));for(let e=0;e<o.length;e++)for(let t=0;t<c;t++)1===o[e]?u[h++]=l[e]:u[h++]=p[e];return a.makeTensorInfo(n.shape,d,u)}},{kernelName:t2,backendName:"cpu",kernelFunc:gu},{kernelName:t3,backendName:"cpu",kernelFunc:mT},{kernelName:t4,backendName:"cpu",kernelFunc:gh},{kernelName:"Sin",backendName:"cpu",kernelFunc:gc},{kernelName:t5,backendName:"cpu",kernelFunc:gm},{kernelName:t0,backendName:"cpu",kernelFunc:m1},{kernelName:ae,backendName:"cpu",kernelFunc:fZ},{kernelName:t6,backendName:"cpu",kernelFunc:gg},{kernelName:t9,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{blockShape:i,paddings:s}=r;mc([n],"spaceToBatchND");let o=T(i),l=[[0,0]];l.push(...s);for(let e=1+i.length;e<n.shape.length;++e)l.push([0,0]);let p=f4.kernelFunc({inputs:{x:n},backend:a,attrs:{paddings:l,constantValue:0}}),d=oF(p.shape,i,o,!1),u=oO(d.length,i.length,!1),h=oP(p.shape,i,o,!1),c=mM({inputs:{x:p},backend:a,attrs:{shape:d}}),m=mW({inputs:{x:c},backend:a,attrs:{perm:u}}),f=mM({inputs:{x:m},backend:a,attrs:{shape:h}});return a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(c),a.disposeIntermediateTensorInfo(m),f}},{kernelName:at,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{indices:r,values:n,denseShape:i,defaultValue:s}=t;if(1!==i.shape.length)throw Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(2!==r.shape.length)throw Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(1!==n.shape.length)throw Error(`Values must be a vector, saw:
        ${n.shape}`);if(0!==s.shape.length)throw Error(`Default value must be a scalar, saw:
        ${s.shape}`);let o=a.data.get(r.dataId).values,l=a.data.get(n.dataId).values,p=a.data.get(i.dataId).values,d=a.data.get(s.dataId).values[0],[u,h,c,m,f]=gv(o,r.shape,r.dtype,l,n.dtype,p,d);return[a.makeTensorInfo(h,r.dtype,u),a.makeTensorInfo([h[0]],n.dtype,c),a.makeTensorInfo([m.length],"bool",new Uint8Array(m.map(e=>Number(e)))),a.makeTensorInfo([f.length],r.dtype,new Int32Array(f))]}},{kernelName:aa,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{inputIndices:r,inputShape:n,newShape:i}=t;if(2!==r.shape.length)throw Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(1!==n.shape.length)throw Error(`Input shape should be a vector but received shape
        ${n.shape}`);if(1!==i.shape.length)throw Error(`Target shape should be a vector but received shape ${i.shape}`);let s=Array.from(a.data.get(n.dataId).values),o=a.data.get(r.dataId).values,l=Array.from(a.data.get(i.dataId).values),[p,d,u]=gb(o,r.shape,r.dtype,s,l);return[a.makeTensorInfo(d,r.dtype,p),a.makeTensorInfo([u.length],i.dtype,new Int32Array(u))]}},{kernelName:ar,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{data:r,indices:n,segmentIds:i}=t;if(r.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==n.shape.length)throw Error(`Indices should be a vector but received shape
          ${n.shape}`);if(1!==i.shape.length)throw Error(`Segment ids should be a vector but received shape
          ${i.shape}`);if(n.shape[0]!==i.shape[0])throw Error("segmentIds and indices should have same size.");let s=a.data.get(r.dataId).values,o=a.data.get(n.dataId).values,l=a.data.get(i.dataId).values,[p,d]=gy(s,r.shape,r.dtype,o,l,!0);return a.makeTensorInfo(d,r.dtype,p)}},{kernelName:an,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{data:r,indices:n,segmentIds:i}=t;if(r.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==n.shape.length)throw Error(`Indices should be a vector but received shape
         ${n.shape}`);if(1!==i.shape.length)throw Error(`Segment ids should be a vector but received shape
         ${i.shape}`);if(n.shape[0]!==i.shape[0])throw Error("segmentIds and indices should have same size.");let s=a.data.get(r.dataId).values,o=a.data.get(n.dataId).values,l=a.data.get(i.dataId).values,[p,d]=gy(s,r.shape,r.dtype,o,l);return a.makeTensorInfo(d,r.dtype,p)}},{kernelName:ai,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{sparseIndices:i,sparseValues:s,defaultValue:o}=a,{outputShape:l}=n,{sliceRank:p,numUpdates:d,sliceSize:u,strides:h,outputSize:c}=oj(s,i,l),m=r.bufferSync(i);switch(s.dtype){case"bool":t=gd(m,r.bufferSync(s),l,c,u,d,p,h,!!r.data.get(o.dataId).values[0],!1);break;case"float32":case"int32":t=gd(m,r.bufferSync(s),l,c,u,d,p,h,r.data.get(o.dataId).values[0],!1);break;case"string":t=gd(m,r.bufferSync(s),l,c,u,d,p,h,aJ(r.data.get(o.dataId).values[0]),!1);break;default:throw Error(`Unsupported type ${s.dtype}`)}return r.makeTensorInfo(l,t.dtype,t.values)}},{kernelName:t7,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{numOrSizeSplits:i,axis:s}=r,o=L(s,n.shape)[0],l=la(n,i,o),p=Array(n.shape.length).fill(0),d=n.shape.slice();return l.map(e=>{let t=[...d];t[o]=e;let r=m1({inputs:{x:n},backend:a,attrs:{begin:p,size:t}});return p[o]+=e,r})}},{kernelName:t8,backendName:"cpu",kernelFunc:gx},{kernelName:ao,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{let{x:a}=e;mc(a,"square");let r=t.data.get(a.dataId).values,n=new Float32Array(r.length);for(let e=0;e<r.length;++e){let t=r[e];n[e]=t*t}return{dataId:t.write(n,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},{kernelName:as,backendName:"cpu",kernelFunc:gN},{kernelName:al,backendName:"cpu",kernelFunc:gS},{kernelName:aN,backendName:"cpu",kernelFunc:gI},{kernelName:ap,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a,{begin:s,end:o,strides:l,beginMask:p,endMask:d,ellipsisMask:u,newAxisMask:h,shrinkAxisMask:c}=n;mc(i,"stridedSlice");let{finalShapeSparse:m,finalShape:f,isIdentity:g,sliceDim0:v,isSimpleSlice:b,begin:y,end:w,strides:x}=nJ(i.shape,s,o,l,p,d,u,h,c);if(g)t=mM({inputs:{x:i},backend:r,attrs:{shape:f}});else if(v||b){S(i.shape.length>=1,()=>`Input must have rank at least 1, got: ${i.shape.length}`);let e=nB(y,w,x),a=m1({inputs:{x:i},backend:r,attrs:{begin:y,size:e}});t=mM({inputs:{x:a},backend:r,attrs:{shape:f}}),r.disposeIntermediateTensorInfo(a)}else{let e=gC(m,r.bufferSync(i),x,y);t=r.makeTensorInfo(f,e.dtype,e.values)}return t}},{kernelName:ad,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{separator:n,nGramWidths:i,leftPad:s,rightPad:o,padWidth:l,preserveShortSequences:p}=r,{data:d,dataSplits:u}=t,[h,c]=gA(a.data.get(d.dataId).values,a.data.get(u.dataId).values,n,i,s,o,l,p);return[a.makeTensorInfo([h.length],"string",h),a.makeTensorInfo(u.shape,"int32",c)]}},{kernelName:au,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{skipEmpty:n}=r,{input:i,delimiter:s}=t;if("string"!==i.dtype)throw Error("Input must be of datatype string");if(1!==i.shape.length)throw Error(`Input must be a vector, got shape: ${i.shape}`);if(0!==s.shape.length)throw Error(`Delimiter must be a scalar, got shape: ${s.shape}`);let[o,l,p]=g_(a.data.get(i.dataId).values,a.data.get(s.dataId).values[0],n),d=l.length;return[a.makeTensorInfo([d,2],"int32",o),a.makeTensorInfo([d],"string",l),a.makeTensorInfo([2],"int32",new Int32Array(p))]}},{kernelName:ah,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{numBuckets:n}=r,{input:i}=t;if("string"!==i.dtype)throw Error("Input must be of datatype string");if(n<=0)throw Error("Number of buckets must be at least 1");let s=gE(a.data.get(i.dataId).values,n);return a.makeTensorInfo(i.shape,"int32",s)}},{kernelName:"Sub",backendName:"cpu",kernelFunc:fy},{kernelName:"Sum",backendName:"cpu",kernelFunc:fo},{kernelName:"Tan",backendName:"cpu",kernelFunc:g$},{kernelName:ac,backendName:"cpu",kernelFunc:gR},{kernelName:tZ,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{tensor:r,indices:n,updates:i}=t,{sliceRank:s,numUpdates:o,sliceSize:l,strides:p,outputSize:d}=oj(i,n,r.shape),u=a.bufferSync(n),h=a.bufferSync(i),c=a.bufferSync(r),m=gd(u,h,r.shape,d,l,o,s,p,c,!1);return a.makeTensorInfo(r.shape,m.dtype,m.values)}},{kernelName:am,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{reps:i}=r;mc(n,"tile");let s=gL(a.bufferSync(n),i);return a.makeTensorInfo(s.shape,s.dtype,s.values)}},{kernelName:af,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{k:i,sorted:s}=r;mc(n,"topk");let[o,l]=gF(a.data.get(n.dataId).values,n.shape,n.dtype,i,s);return[a.makeTensorInfo(o.shape,o.dtype,o.values),a.makeTensorInfo(l.shape,l.dtype,l.values)]}},{kernelName:ag,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,attrs:a,backend:r}=e,{image:n,transforms:i}=t,{interpolation:s,fillMode:o,fillValue:l,outputShape:p}=a,[d,u,h,c]=n.shape,[m,f]=null!=p?p:[u,h],g=[d,m,f,c],v=j(n.shape),b=v[0],y=v[1],w=v[2],x=j(g),N=x[0],k=x[1],S=x[2],I=F(n.dtype,T(g));I.fill(l);let C=r.data.get(n.dataId).values,A=r.data.get(i.dataId).values;for(let e=0;e<d;++e){let t=1===i.shape[0]?A:A.subarray(8*e,8*e+8);for(let a=0;a<m;++a)for(let r=0;r<f;++r)for(let n=0;n<c;++n){let i;let p=t[6]*r+t[7]*a+1;if(0===p)continue;let d=(t[0]*r+t[1]*a+t[2])/p,c=(t[3]*r+t[4]*a+t[5])/p,m=gO(d,h,o),f=gO(c,u,o);switch(s){case"nearest":i=gP(C,u,h,b,y,w,e,Math.round(f),Math.round(m),n,l);break;case"bilinear":i=function(e,t,a,r,n,i,s,o,l,p,d){let u=Math.floor(o),h=Math.floor(l),c=u+1,m=h+1,f=(m-l)*gP(e,t,a,r,n,i,s,u,h,p,d)+(l-h)*gP(e,t,a,r,n,i,s,u,m,p,d),g=(m-l)*gP(e,t,a,r,n,i,s,c,h,p,d)+(l-h)*gP(e,t,a,r,n,i,s,c,m,p,d);return(c-o)*f+(o-u)*g}(C,u,h,b,y,w,e,f,m,n,l);break;default:throw Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${s}`)}I[e*N+a*k+r*S+n]=i}return r.makeTensorInfo(g,n.dtype,I)}return{dataId:r.write(I,g,n.dtype),shape:n.shape,dtype:n.dtype}}},{kernelName:av,backendName:"cpu",kernelFunc:mW},{kernelName:ab,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,attrs:a,backend:r}=e,{axis:n}=a,{x:i}=t;mc(i,"unique");let{outputValues:s,outputShape:o,indices:l}=gM(r.data.get(i.dataId).values,n,i.shape,i.dtype);return[r.makeTensorInfo(o,i.dtype,s),r.makeTensorInfo([l.length],"int32",l)]}},{kernelName:ay,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{value:n}=t,{axis:i}=r;i<0&&(i+=n.shape.length);let s=n.shape.length,o=n.shape[i],l=Array(s-1),p=0;for(let e=0;e<s;e++)e!==i&&(l[p++]=n.shape[e]);let d=Array(s).fill(0),u=n.shape.slice();u[i]=1;let h=Array(o);for(let e=0;e<h.length;e++){d[i]=e;let t=m1({inputs:{x:n},backend:a,attrs:{begin:d,size:u}});h[e]=mM({inputs:{x:t},backend:a,attrs:{shape:l}}),a.disposeIntermediateTensorInfo(t)}return h}},{kernelName:aw,backendName:"cpu",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,segmentIds:i}=t,{numSegments:s}=r;mc(n,"unsortedSegmentSum");let o=n.shape.length,l=i.shape.length,p=[],d=[],u=o-l,h=i;for(let e=0;e<u;++e){let t=fc({inputs:{input:h},backend:a,attrs:{dim:e+1}});h=t,d.push(t)}for(let e=0;e<s;++e){let t=aH(e,"int32"),r=a.makeTensorInfo([],"int32",t),i=fp({inputs:{a:r,b:h},backend:a}),s=mL({inputs:{x:i},backend:a,attrs:{dtype:"float32"}}),o=fs({inputs:{a:s,b:n},backend:a}),l=fo({inputs:{x:o},backend:a,attrs:{axis:0,keepDims:!1}});p.push(l),d.push(r),d.push(i),d.push(s),d.push(o),d.push(l)}let c=f5({inputs:p,backend:a,attrs:{axis:0}});return d.forEach(e=>a.disposeIntermediateTensorInfo(e)),c}},{kernelName:ax,backendName:"cpu",kernelFunc:f0}])aL(e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let gB={},gz={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function gV(e,t){if(!(e in gB)||null!=t){let a=function(e,t){if(1!==e&&2!==e)throw Error("Cannot get WebGL rendering context, WebGL is disabled.");let a=null==t?function(e){if(!et.getBool("IS_SAFARI")&&"undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw Error("Cannot create a canvas in this context")}(e):t;return(a.addEventListener("webglcontextlost",t=>{t.preventDefault(),delete gB[e]},!1),et.getBool("SOFTWARE_WEBGL_ENABLED")&&(gz.failIfMajorPerformanceCaveat=!1),1===e)?a.getContext("webgl",gz)||a.getContext("experimental-webgl",gz):a.getContext("webgl2",gz)}(e,t);if(null===a)return console.log("Could not get context for WebGL version",e),null;gB[e]=a}let a=gB[e];return null==a||a.isContextLost()?(delete gB[e],gV(e)):(a.disable(a.DEPTH_TEST),a.disable(a.STENCIL_TEST),a.disable(a.BLEND),a.disable(a.DITHER),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SAMPLE_COVERAGE),a.enable(a.SCISSOR_TEST),a.enable(a.CULL_FACE),a.cullFace(a.BACK),gB[e])}function gU(e){return _(Math.ceil(T(e)/4))}function gj(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function gW(e,t){let a,r,n,i,s,o,l,p,d,u;return 2===et.getNumber("WEBGL_VERSION")?(a=e.R32F,r=e.R16F,n=e.RGBA16F,i=e.RGBA32F,s=e.RED,l=4,p=1,d=e.HALF_FLOAT,u=e.FLOAT,o=e.RGBA8):(a=e.RGBA,r=e.RGBA,n=e.RGBA,i=e.RGBA,s=e.RGBA,l=4,p=4,d=null!=t?t.HALF_FLOAT_OES:null,u=e.FLOAT,o=e.RGBA),{internalFormatFloat:a,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:n,internalFormatPackedFloat:i,textureFormatFloat:s,downloadTextureFormat:o,downloadUnpackNumChannels:l,defaultNumChannels:p,textureTypeHalfFloat:d,textureTypeFloat:u}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gq(e,t){let a=t();return et.getBool("DEBUG")&&function(e){let t=e.getError();if(t!==e.NO_ERROR)throw Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),a}function gG(e,t){return g1(e,()=>e.getExtension(t),'Extension "'+t+'" not supported on this browser.')}(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(N6||(N6={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(N8||(N8={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(N9||(N9={}));let gH=/ERROR: [0-9]+:([0-9]+):/g;function gK(e,t){let a=gH.exec(t);if(null==a){console.log(`Couldn't parse line number in error: ${t}`),console.log(e);return}let r=+a[1],n=e.split("\n"),i=n.length.toString().length+2,s=n.map((e,t)=>E((t+1).toString(),i)+e),o=0;for(let e=0;e<s.length;e++)o=Math.max(s[e].length,o);let l=s.slice(0,r-1),p=s.slice(r-1,r),d=s.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${E(p[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}function gX(e,t){if(gq(e,()=>e.validateProgram(t)),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),Error("Shader program validation failed.")}function gY(e,t,a,r,n,i,s){let o=e.getAttribLocation(t,a);return -1!==o&&(gq(e,()=>e.bindBuffer(e.ARRAY_BUFFER,r)),gq(e,()=>e.vertexAttribPointer(o,n,e.FLOAT,!1,i,s)),gq(e,()=>e.enableVertexAttribArray(o)),!0)}function gJ(e,t,a){gq(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,a)),gq(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0))}function gZ(e,t){gq(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,t)),gq(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0))}function gQ(e){let t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function g1(e,t,a){let r=gq(e,()=>t());if(null==r)throw Error(a);return r}function g2(e,t=2){return T(e.slice(0,e.length-t))}function g0(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function g5(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[g2(e),...g0(e)]),t}function g4(e,t){if(A(e=e.slice(-2),t=t.slice(-2))||!e.length||!t.length||0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){let a=e[e.length-1],r=t[t.length-1];if(a===r||a%2==0&&r%2==0&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&e[0]%2==0&&t[0]%2==0}function g3(e,t){return null!=e.getExtension(t)}function g6(e){try{let t=gV(e);if(null!=t)return!0}catch(e){console.log("Error when getting WebGL context: ",e)}return!1}function g8(e){let t=gW(e),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);let r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0);let n=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(a),e.deleteFramebuffer(r),n}function g9(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>{null!=e&&S("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let g7=et;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ve(){let e,t,a,r,n,i,s,o,l,p;return 2===et.getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",a="out",r="in",n="texture",i="outputColor",s="out vec4 outputColor;",o=et.getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",p=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",a="varying",r="varying",n="texture2D",i="gl_FragColor",s="",o=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,p=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:a,varyingFs:r,texture2D:n,output:i,defineOutput:s,defineSpecialNaN:o,defineSpecialInf:l,defineRound:p}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vt(e,t,a="index"){let r=j(t);return r.map((t,n)=>{let i=`int ${e[n]} = ${a} / ${t}`,s=n===r.length-1?`int ${e[n+1]} = ${a} - ${e[n]} * ${t}`:`index -= ${e[n]} * ${t}`;return`${i}; ${s};`}).join("")}function va(e,t,a="index"){let r=j(t);return r.map((t,n)=>{let i=`int ${e[n]} = ${a} / outShapeStrides[${n}]`,s=n===r.length-1?`int ${e[n+1]} = ${a} - ${e[n]} * outShapeStrides[${n}]`:`index -= ${e[n]} * outShapeStrides[${n}]`;return`${i}; ${s};`}).join("")}function vr(e){let t=j(e).map(e=>e.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;
  }
`}function vn(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}g7.registerFlag("HAS_WEBGL",()=>g7.getNumber("WEBGL_VERSION")>0),g7.registerFlag("WEBGL_VERSION",()=>g6(2)?2:g6(1)?1:0),g7.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1),g7.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>2===g7.get("WEBGL_VERSION")),g7.registerFlag("WEBGL_CPU_FORWARD",()=>!0),g7.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1),g7.registerFlag("WEBGL_PACK",()=>g7.getBool("HAS_WEBGL")),g7.registerFlag("WEBGL_PACK_NORMALIZATION",()=>g7.getBool("WEBGL_PACK")),g7.registerFlag("WEBGL_PACK_CLIP",()=>g7.getBool("WEBGL_PACK")),g7.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>g7.getBool("WEBGL_PACK")),g7.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>g7.getBool("WEBGL_PACK")),g7.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>g7.getBool("WEBGL_PACK")),g7.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>g7.getBool("WEBGL_PACK")),g7.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>g7.getBool("WEBGL_PACK")),g7.registerFlag("WEBGL_PACK_REDUCE",()=>g7.getBool("WEBGL_PACK")),g7.registerFlag("WEBGL_LAZILY_UNPACK",()=>g7.getBool("WEBGL_PACK")),g7.registerFlag("WEBGL_CONV_IM2COL",()=>g7.getBool("WEBGL_PACK")),g7.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>g7.getBool("WEBGL_PACK")),g7.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>(function(e){if(null==o){let t=gV(e);o=t.getParameter(t.MAX_TEXTURE_SIZE)}return o})(g7.getNumber("WEBGL_VERSION"))),g7.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>(function(e){if(null==l){let t=gV(e);l=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,l)})(g7.getNumber("WEBGL_VERSION"))),g7.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{let e=g7.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t=gV(e);return g3(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:g3(t,"EXT_disjoint_timer_query")?1:0}(e)}),g7.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>g7.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!rf()),g7.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>(function(e){if(0===e)return!1;let t=gV(e);if(1===e){if(!g3(t,"OES_texture_float"))return!1}else if(!g3(t,"EXT_color_buffer_float"))return!1;return g8(t)})(g7.getNumber("WEBGL_VERSION"))),g7.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>!g7.getBool("WEBGL_FORCE_F16_TEXTURES")&&g7.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")),g7.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>(function(e){if(0===e)return!1;let t=gV(e);if(1===e){if(!g3(t,"OES_texture_float")||!g3(t,"WEBGL_color_buffer_float"))return!1}else{if(g3(t,"EXT_color_buffer_float"))return g8(t);let e="EXT_color_buffer_half_float";if(g3(t,e)){let a=t.getExtension(e);return function(e,t){let a=gW(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,a.internalFormatHalfFloat,1,1,0,a.textureFormatFloat,a.textureTypeHalfFloat,null);let n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);let i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(n),i}(t,a)}return!1}return g8(t)})(g7.getNumber("WEBGL_VERSION"))),g7.registerFlag("WEBGL_FENCE_API_ENABLED",()=>(function(e){return 2===e&&null!=gV(e).fenceSync})(g7.getNumber("WEBGL_VERSION"))),g7.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>g7.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0),g7.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,e=>{if("number"!=typeof e)throw Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)}),g7.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>rf()?1:-1,e=>{if("number"!=typeof e)throw Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)}),g7.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128),g7.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1),g7.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5),g7.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128),g7.registerFlag("WEBGL_EXP_CONV",()=>!1),g7.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>g7.getBool("IS_TEST")),g7.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0),g7.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1),g7.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1),g7.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);let vi=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`,{getBroadcastDims:vs}=h,vo=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,vl=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,vp=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,vd=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function vu(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function vh(e){return`offset${e}`}function vc(e){let t=e.name,a=T(e.shapeInfo.logicalShape);return a<2?`return ${t};`:`
    for (int i = 0; i < ${a}; i++) {
      if (i == index) {
        return ${t}[i];
      }
    }
  `}function vm(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function vf(e,t,a){let{newShape:r,keptDims:n}=D(t),i=t.length,s=e&&3===i&&1===t[0],o=s?t.slice(1):r,l=!e&&i>1&&!A(t,a)&&r.length<i||s,p=l?o:t;return{useSqueezeShape:l,uniformShape:p,keptDims:n}}function vg(e,t){let a=JSON.parse(JSON.stringify(e));return a.shapeInfo.logicalShape=t,a}function vv(e,t){return t.map(t=>e[t]).join(", ")}function vb(e,t,a){let r,n,i;let s=[],o=[],l=null,p=null;for(let r of(p=e.getUniformLocation(a,"NAN",!1),1===et.getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(a,"INFINITY",!1)),t.variableNames)){let n={name:r,uniform:e.getUniformLocation(a,r,!1),offset:e.getUniformLocation(a,`offset${r}`,!1)};t.enableShapeUniforms&&(n.shape=e.getUniformLocation(a,`${r}Shape`,!1),n.texShape=e.getUniformLocation(a,`${r}TexShape`,!1)),s.push(n)}if(t.enableShapeUniforms&&(r=e.getUniformLocation(a,"outShape",!1),i=e.getUniformLocation(a,"outShapeStrides",!1),n=e.getUniformLocation(a,"outTexShape",!1)),t.customUniforms)for(let r of t.customUniforms)o.push(e.getUniformLocation(a,r.name,!1));return{variablesLocations:s,customUniformLocations:o,infLoc:l,nanLoc:p,outShapeLocation:r,outShapeStridesLocation:i,outTexShapeLocation:n}}function vy(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach((e,a)=>{let r=e.logicalShape,n=t[a],i=n.shape;if(!A(r,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${i} must match`);if(e.isUniform&&n.isUniform)return;let s=e.texShape,o=n.isUniform?null:n.texData.texShape;if(!A(s,o))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${s} and ${o} must match`)})}function vw(e){return et.getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vx{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=N6.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let t=ve();this.outputShape=e,this.enableShapeUniforms=vw(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?va(["r","c","d"],e):vt(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${t.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vN{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=N6.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let t=ve();this.outputShape=e,this.enableShapeUniforms=vw(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?va(["r","c","d"],e):vt(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${t.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vk{constructor(e){this.variableNames=["A"],this.outTexUsage=N8.DOWNLOAD;let t=ve();this.outputShape=e,this.userCode=`
      ${vi}

      void main() {
        float x = getAAtOutCoords();
        ${t.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vS{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=N8.DOWNLOAD;let t=ve();this.outputShape=e,this.userCode=`
      ${vi}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${t.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let vI={R:0,G:1,B:2,A:3};class vC{constructor(e,t=!1,a="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];let r=ve();this.outputShape=e,this.enableShapeUniforms=vw(this.outputShape.length);let n="result";t&&(n="floor(result * 255. + 0.5)");let i="";for(let e=0;e<a.length;e++){let t=a[e];i+=`
          if(offset == ${e}) {
            result = values[${vI[t]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?vn():vr(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${a.length});

        flatIndex = idiv(flatIndex, ${a.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${r.texture2D}(A, uv);
          ${i}
        }
        ${r.output} = vec4(${n}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vT{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];let a=ve();this.outputShape=e,this.enableShapeUniforms=vw(this.outputShape.length);let r="",n="result";t&&(n="floor(result * 255. + 0.5)");for(let t=0;t<=1;t++)for(let n=0;n<=1;n++){let i=2*t+n;r+=`
          localCoords = coords;
          if(localCoords[2] + ${n} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${n};
          if (localCoords[1] + ${t} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${t};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${a.texture2D}(A, uv);

            if (offset == 0) {
              result[${i}] = values[0];
            } else if (offset == 1) {
              result[${i}] = values[1];
            } else if (offset == 2) {
              result[${i}] = values[2];
            } else {
              result[${i}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?vn():vr(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${r}

          ${a.output} = ${n};
        }
    `}}function vA(e,t,a,r,n,i){!function(e,t){let a=et.getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>a||t>a)throw Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${a}x${a}].`)}(t,a);let s=g1(e,()=>e.createTexture(),"Unable to create WebGLTexture."),o=e.TEXTURE_2D;return gq(e,()=>e.bindTexture(o,s)),gq(e,()=>e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)),gq(e,()=>e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),gq(e,()=>e.texParameteri(o,e.TEXTURE_MIN_FILTER,e.NEAREST)),gq(e,()=>e.texParameteri(o,e.TEXTURE_MAG_FILTER,e.NEAREST)),1===et.getNumber("WEBGL_VERSION")?gq(e,()=>e.texImage2D(o,0,r,t,a,0,n,i,null)):gq(e,()=>e.texStorage2D(o,1,r,t,a)),gq(e,()=>e.bindTexture(e.TEXTURE_2D,null)),{texture:s,texShape:[a,t]}}function v_(e){return e.internalFormatFloat}function vE(e){return e.internalFormatHalfFloat}function v$(e){return e.downloadTextureFormat}function vR(e){return e.internalFormatPackedFloat}function vL(e){return e.internalFormatPackedHalfFloat}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vD{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];let t=et.getNumber("WEBGL_VERSION");if(null!=e){var a;this.gl=e,a=e,gB[t]=a}else this.gl=gV(t);if(e=this.gl,2===et.getNumber("WEBGL_VERSION")){let t=e;this.createVertexArray=()=>gq(t,()=>t.createVertexArray()),this.bindVertexArray=e=>gq(t,()=>t.bindVertexArray(e)),this.deleteVertexArray=e=>gq(t,()=>t.deleteVertexArray(e)),this.getVertexArray=()=>gq(t,()=>t.getParameter(t.VERTEX_ARRAY_BINDING))}else if(null!=e){let t=e.getExtension("OES_vertex_array_object");if(null==t)throw Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>gq(e,()=>t.createVertexArrayOES()),this.bindVertexArray=a=>gq(e,()=>t.bindVertexArrayOES(a)),this.deleteVertexArray=a=>gq(e,()=>t.deleteVertexArrayOES(a)),this.getVertexArray=()=>gq(e,()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float",n="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===et.getNumber("WEBGL_VERSION")){let e="OES_texture_half_float";if(this.textureFloatExtension=gG(this.gl,"OES_texture_float"),g3(this.gl,e))this.textureHalfFloatExtension=gG(this.gl,e);else if(et.get("WEBGL_FORCE_F16_TEXTURES"))throw Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),g3(this.gl,n))this.colorBufferHalfFloatExtension=gG(this.gl,n);else if(et.get("WEBGL_FORCE_F16_TEXTURES"))throw Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",g3(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(g3(this.gl,n))this.colorBufferHalfFloatExtension=this.gl.getExtension(n);else throw Error("GL context does not support color renderable floats");this.vertexBuffer=function(e,t){let a=g1(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return gq(e,()=>e.bindBuffer(e.ARRAY_BUFFER,a)),gq(e,()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)),a}(this.gl,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])),this.indexBuffer=function(e,t){let a=g1(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return gq(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a)),gq(e,()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)),a}(this.gl,new Uint16Array([0,1,2,2,1,3])),this.framebuffer=function(e){return g1(e,()=>e.createFramebuffer(),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=gW(this.gl,this.textureHalfFloatExtension)}get debug(){return et.getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");let e=this.gl;gq(e,()=>e.finish()),gq(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),gq(e,()=>e.deleteFramebuffer(this.framebuffer)),gq(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),gq(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),gq(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,a,r){let[n,i]=[a,t];return vA(e,n,i,v_(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,a,r){let[n,i]=[a,t];return vA(e,n,i,vE(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,a,r){let[n,i]=[a,t];return vA(e,n,i,v$(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){var a;this.throwIfDisposed(),gq(a=this.gl,()=>a.bindTexture(a.TEXTURE_2D,e)),t.data instanceof Uint8Array?2===et.getNumber("WEBGL_VERSION")?gq(a,()=>a.texSubImage2D(a.TEXTURE_2D,0,0,0,t.width,t.height,a.RGBA,a.UNSIGNED_BYTE,t.data)):gq(a,()=>a.texImage2D(a.TEXTURE_2D,0,a.RGBA,t.width,t.height,0,a.RGBA,a.UNSIGNED_BYTE,t.data)):2===et.getNumber("WEBGL_VERSION")?gq(a,()=>a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,t)):gq(a,()=>a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,t)),gq(a,()=>a.bindTexture(a.TEXTURE_2D,null))}uploadDenseMatrixToTexture(e,t,a,r){var n,i;let s,o,l;this.throwIfDisposed(),n=this.gl,i=this.textureConfig,gq(n,()=>n.bindTexture(n.TEXTURE_2D,e)),r instanceof Uint8Array?(s=new Uint8Array(t*a*4),o=n.UNSIGNED_BYTE,l=n.RGBA):(s=new Float32Array(t*a*4),o=n.FLOAT,l=i.internalFormatPackedFloat),s.set(r),2===et.getNumber("WEBGL_VERSION")?gq(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,t,a,n.RGBA,o,s)):gq(n,()=>n.texImage2D(n.TEXTURE_2D,0,l,t,a,0,n.RGBA,o,s)),gq(n,()=>n.bindTexture(n.TEXTURE_2D,null))}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,a,r){let[n,i]=gj(t,a);return vA(e,n,i,vL(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,a,r){let[n,i]=gj(t,a);return vA(e,n,i,vR(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(gZ(this.gl,this.framebuffer),this.outputTexture=null),gq(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,a){return this.downloadMatrixDriver(e,()=>(function(e,t,a,r){let[n,i]=[a,t],s=new Uint8Array(t*a*4);return gq(e,()=>e.readPixels(0,0,n,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,s)),new Float32Array(s.buffer)})(this.gl,t,a,this.textureConfig))}downloadPackedMatrixFromBuffer(e,t,a,r,n,i){return function(e,t,a,r,n,i,s,o){let l=new Float32Array(function(e,t){let[a,r]=gj(e,t);return a*r*4}(i,s));return e.bindBuffer(e.PIXEL_PACK_BUFFER,t),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,l),e.bindBuffer(e.PIXEL_PACK_BUFFER,null),l}(this.gl,e,0,0,0,n,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,a){let r=new Float32Array(a);return e.bindBuffer(e.PIXEL_PACK_BUFFER,t),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,r),e.bindBuffer(e.PIXEL_PACK_BUFFER,null),r}(this.gl,e,t)}createBufferFromTexture(e,t,a){this.bindTextureToFrameBuffer(e);let r=function(e,t,a,r){let n=e.createBuffer();gq(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,n));let i=16*t*a;return gq(e,()=>e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)),gq(e,()=>e.readPixels(0,0,a,t,e.RGBA,e.FLOAT,0)),gq(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null)),n}(this.gl,t,a,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){let e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,a;if(et.getBool("WEBGL_FENCE_API_ENABLED")){let r=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),a=()=>{let t=e.clientWaitSync(r,0,0);return t===e.ALREADY_SIGNALED||t===e.CONDITION_SATISFIED},t=r}else et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),a=()=>this.isQueryAvailable(t,et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):a=()=>!0;return{query:t,isFencePassed:a}}downloadMatrixFromPackedTexture(e,t,a){return this.downloadMatrixDriver(e,()=>(function(e,t,a){let r=new Float32Array(t*a*4);return gq(e,()=>e.readPixels(0,0,a,t,e.RGBA,e.FLOAT,r)),r})(this.gl,t,a))}createProgram(e){this.throwIfDisposed();let t=this.gl;null==this.vertexShader&&(this.vertexShader=/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=ve();return function(e,t){let a=g1(e,()=>e.createShader(e.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(gq(e,()=>e.shaderSource(a,t)),gq(e,()=>e.compileShader(a)),!1===e.getShaderParameter(a,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(a)),Error("Failed to compile vertex shader.");return a}(e,`${t.version}
    precision highp float;
    ${t.attribute} vec3 clipSpacePos;
    ${t.attribute} vec2 uv;
    ${t.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}(t));let a=g1(t,()=>t.createProgram(),"Unable to create WebGLProgram.");gq(t,()=>t.attachShader(a,this.vertexShader)),gq(t,()=>t.attachShader(a,e)),function(e,t){if(gq(e,()=>e.linkProgram(t)),!et.get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),Error("Failed to link vertex and fragment shaders.")}(t,a);let r=Object.assign(a,{vao:this.createVertexArray()});return this.debug&&gX(t,r),r}buildVao(e){var t;this.setProgram(e),this.bindVertexArray(e.vao);let a=this.gl;gq(a,()=>a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),t=this.vertexBuffer,gq(a,()=>a.bindBuffer(a.ARRAY_BUFFER,t)),gY(a,e,"clipSpacePos",t,3,20,0)&&gY(a,e,"uv",t,2,20,12)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(gq(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&gX(this.gl,this.program),gq(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,t,a=!0){var r,n;return(this.throwIfDisposed(),a)?g1(r=this.gl,()=>r.getUniformLocation(e,n),'uniform "'+(n=t)+'" not present in program.'):this.gl.getUniformLocation(e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),gq(this.gl,()=>this.gl.getAttribLocation(e,t))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,a){var r;this.throwIfDisposed(),this.throwIfNoProgram(),gq(r=this.gl,()=>{(function(e,t){let a=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>a){let e=`[gl.TEXTURE0, gl.TEXTURE${a}]`;throw Error(`textureUnit must be in ${e}.`)}})(r,a),gq(r,()=>r.activeTexture(r.TEXTURE0+a)),gq(r,()=>r.bindTexture(r.TEXTURE_2D,e))}),gq(r,()=>r.uniform1i(t,a))}setOutputMatrixTexture(e,t,a){this.setOutputMatrixTextureDriver(e,a,t)}setOutputPackedMatrixTexture(e,t,a){this.throwIfDisposed();let[r,n]=gj(t,a);this.setOutputMatrixTextureDriver(e,r,n)}setOutputMatrixWriteRegion(e,t,a,r){this.setOutputMatrixWriteRegionDriver(a,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,a,r){throw Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&gX(this.gl,this.program),gQ(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();let e=this.gl;this.debug&&(console.assert(this.getVertexArray()===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()),gq(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),gq(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=gG(this.gl,2===et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){let e=this.gl,t=this.getQueryTimerExtensionWebGL2(),a=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,a),a}let e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){let e=this.gl,t=this.getQueryTimerExtensionWebGL2();e.endQuery(t.TIME_ELAPSED_EXT);return}let e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await $(()=>this.disposed||this.isQueryAvailable(e,et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){let t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{let t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){let t=this.gl,a=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),r&&!this.disjoint}{let t=this.getQueryTimerExtensionWebGL1(),a=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),a&&!this.disjoint}}pollFence(e){return new Promise(t=>{this.addItemToPoll(()=>e.isFencePassed(),()=>t())})}pollItems(){let e=function(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map(e=>e.isDoneFn));for(let t=0;t<=e;++t){let{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){let a;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||("setTimeoutCustom"in et.platform&&(a=et.platform.setTimeoutCustom.bind(et.platform)),$(()=>(this.pollItems(),0===this.itemsToPoll.length),()=>0,null,a))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),gJ(this.gl,e,this.framebuffer),this.debug&&gQ(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(gJ(this.gl,this.outputTexture,this.framebuffer),this.debug&&gQ(this.gl)):gZ(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);let a=t();return this.unbindTextureToFrameBuffer(),a}setOutputMatrixTextureDriver(e,t,a){this.throwIfDisposed();let r=this.gl;gJ(r,e,this.framebuffer),this.debug&&gQ(r),this.outputTexture=e,gq(r,()=>r.viewport(0,0,t,a)),gq(r,()=>r.scissor(0,0,t,a))}setOutputMatrixWriteRegionDriver(e,t,a,r){this.throwIfDisposed(),gq(this.gl,()=>this.gl.scissor(e,t,a,r))}throwIfDisposed(){if(this.disposed)throw Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw Error("No GPU program is currently set.")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let{addImpl:vF,bincountImpl:vO,bincountReduceImpl:vP,bitwiseAndImpl:vM,castImpl:vB,ceilImpl:vz,concatImpl:vV,equalImpl:vU,expImpl:vj,expm1Impl:vW,floorImpl:vq,gatherNdImpl:vG,gatherV2Impl:vH,greaterImpl:vK,greaterEqualImpl:vX,lessImpl:vY,lessEqualImpl:vJ,linSpaceImpl:vZ,logImpl:vQ,maxImpl:v1,maximumImpl:v2,minimumImpl:v0,multiplyImpl:v5,negImpl:v4,notEqualImpl:v3,prodImpl:v6,raggedGatherImpl:v8,raggedRangeImpl:v9,raggedTensorToTensorImpl:v7,rangeImpl:be,rsqrtImpl:bt,scatterImpl:ba,sigmoidImpl:br,simpleAbsImpl:bn,sliceImpl:bi,sparseFillEmptyRowsImpl:bs,sparseReshapeImpl:bo,sparseSegmentReductionImpl:bl,sqrtImpl:bp,staticRegexReplaceImpl:bd,stridedSliceImpl:bu,stringNGramsImpl:bh,stringSplitImpl:bc,stringToHashBucketFastImpl:bm,subImpl:bf,tileImpl:bg,topKImpl:bv,transposeImpl:bb,uniqueImpl:by}=c;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bw(e,t){return["x","y","z","w","u","v"].slice(0,t).map(t=>`${e}.${t}`)}function bx(e,t){return 1===t?[e]:bw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bN{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=vw(this.outputShape.length),0===this.rank)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{let e=bx("rc",this.rank),t=vm(this.rank),a=this.getOutOfBoundsCondition(e),r=this.getSetup(e),n=this.getOutput(e);this.userCode=`
        void main() {
          ${t} rc = getOutputCoords();

          if(${a}) {
            setOutput(vec4(0));
          } else {
            ${r}

            setOutput(vec4(${n}));
          }
        }
      `}}getSourceCoordsArr(e){let t=[];for(let a=0;a<=1;a++)for(let r=0;r<=1;r++){let n=`${0===a?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let t=2;t<this.rank;t++)n=`${e[e.length-1-t]},`+n;t.push(n)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let a=this.rank-2;a<this.rank;a++)t+=`${e[a]} >= ${this.enableShapeUniforms?`outShape[${a}]`:this.outputShape[a]}`,a<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";let t=e.slice(-2),a=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${t[0]};
      int c = ${t[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${a};
      bool rEdge = rp1 >= ${r};
    `}getOutput(e){let t=this.getSourceCoordsArr(e);if(1===this.rank){let e=this.enableShapeUniforms?"outShape":this.outputShape[0];return`getA(rc), (rc + 1 >= ${e} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),
            cEdge ? 0. : getA(${t[1]}),
            rEdge ? 0. : getA(${t[2]}),
            rEdge || cEdge ? 0. : getA(${t[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bk{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=vw(this.outputShape.length);let a="";for(let e=0;e<4;e++){let t="thisRC = rc;";e%2==1&&(t+="thisRC.z += 1;"),e>1&&(t+="thisRC.y += 1;"),a+=`
        ${t}
        ${e>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${e}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${e>0?"}":""}
      `}this.userCode=`
      ${function(e,t){let a=t?function(e,t,a="index"){let r=function(e,t){let a=e.length,r=e.map(e=>`${t}[${e}]`),n=Array(a-1);n[a-2]=r[a-1];for(let e=a-3;e>=0;--e)n[e]=`(${n[e+1]} * ${r[e+1]})`;return n}(e.map((e,t)=>t),t);return r.map((t,n)=>{let i=`int ${e[n]} = ${a} / ${r[n]}`,s=n===r.length-1?`int ${e[n+1]} = ${a} - ${e[n]} * ${r[n]}`:`index -= ${e[n]} * ${r[n]}`;return`${i}; ${s};`}).join("")}(["r","c","d"],"inputShape"):vt(["r","c","d"],e);return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${a}
      return ivec3(r, c, d);
    }
  `}(t,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?vn():vr(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${a}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bS{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,a){let r;let n=bC(t,a),i=bT(e,n,a);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);let s=bI(e,n,this.gpgpu.gl,this.gpgpu.textureConfig,a);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=s,this.log();let e=this.freeTextures[i].pop();return this.usedTextures[i].push(e),e}return n===N9.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):n===N9.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):n===N9.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):n===N9.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):n===N9.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(r),this.numUsedTextures++,this._numBytesAllocated+=s,this.log(),r}releaseTexture(e,t,a,r){if(null==this.freeTextures)return;let n=bC(a,r),i=bT(t,n,r);i in this.freeTextures||(this.freeTextures[i]=[]);let s=bI(t,n,this.gpgpu.gl,this.gpgpu.textureConfig,r),o=et.getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==o&&this._numBytesAllocated>o?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;let l=this.usedTextures[i],p=l&&l.indexOf(e);if(null==p||p<0)throw Error("Cannot release a texture that was never provided by this texture manager");l[p]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;let e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);let t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(let e in this.freeTextures)this.freeTextures[e].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});for(let e in this.usedTextures)this.usedTextures[e].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function bI(e,t,a,r,n){let i;let s=function(e,t){switch(e){case N9.PACKED_2X2_FLOAT32:return vR(t);case N9.PACKED_2X2_FLOAT16:return vL(t);case N9.UNPACKED_FLOAT32:return v_(t);case N9.UNPACKED_FLOAT16:return vE(t);case N9.PACKED_4X1_UNSIGNED_BYTE:return v$(t);default:throw Error(`Unknown physical texture type ${e}`)}}(t,r);if(n){let[t,a]=gj(e[0],e[1]);i=t*a}else{var o;let[t,a]=(o=e[0],[e[1],o]);i=t*a}return i*function(e,t){if(t===e.R32F)return 4;if(t===e.R16F)return 2;if(t===e.RGBA32F||t===e.RGBA)return 16;if(t===e.RGBA16F)return 8;if(t===e.RGBA8)return 4;throw Error(`Unknown internal format ${t}`)}(a,s)}function bC(e,t){if(e===N8.UPLOAD)return N9.PACKED_2X2_FLOAT32;if(e===N8.RENDER||null==e)return et.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?N9.PACKED_2X2_FLOAT32:N9.UNPACKED_FLOAT32:t?N9.PACKED_2X2_FLOAT16:N9.UNPACKED_FLOAT16;if(e===N8.DOWNLOAD||e===N8.PIXELS)return N9.PACKED_4X1_UNSIGNED_BYTE;throw Error(`Unknown logical texture type ${e}`)}function bT(e,t,a){return`${e[0]}_${e[1]}_${t}_${a}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bA{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=vw(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${t}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}let b_="if (isnan(x)) return x;",bE="return abs(x);",b$=b_+`
  return (x < 0.0) ? 0.0 : x;
`,bR=b_+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,bL="return x;",bD=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,bF=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,bO=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;class bP{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=vw(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${t}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bM{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=vw(this.outputShape.length);let t=e.length,a=bx("rc",t),r=vm(t),n=function(e,t){if(1===e)return"rc";let a="";for(let r=0;r<e;r++)a+=t[r],r<e-1&&(a+=",");return a}(t,a),i=a.slice(-2),s=t<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`
      void main() {
        ${r} rc = getOutputCoords();
        vec4 packedInput = getA(${n});

        setOutput(getChannel(packedInput, ${s}));
      }
    `}}let bB={},bz=et.getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class bV extends y{nextDataId(){return bV.nextDataId++}constructor(e){let t;if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!et.getBool("HAS_WEBGL"))throw Error("WebGL is not supported on this device");null!=e?(t=e instanceof vD?e:new vD(gV(et.getNumber("WEBGL_VERSION"),e)),this.binaryCache={},this.gpgpuCreatedLocally=!1):(t=new vD(gV(et.getNumber("WEBGL_VERSION"))),this.binaryCache=function(e){return e in bB||(bB[e]={}),bB[e]}(et.getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0),this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new bS(this.gpgpu),this.numMBBeforeWarning=null==et.global.screen?1024:et.global.screen.height*et.global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new b(this,rc)}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,a,r,n,i){let s=this.makeTensorInfo(t,a),o=this.texData.get(s.dataId);o.isPacked=!1,o.texture={texture:e,texShape:[r,n]},o.texShape=[r,n];let l=new vC(g5(t),!1,i),p=this.runWebGLProgram(l,[s],a,[[r,n]]);return p.shape=t,o.texture=null,this.disposeIntermediateTensorInfo(s),p.dataId}write(e,t,a){if((et.getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||et.getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===a&&null!=e)throw Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");let r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:a,values:e,usage:N8.UPLOAD,refCount:1}),r}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){let t=this.texData.get(e);t.refCount++}decRef(e){if(this.texData.has(e)){let t=this.texData.get(e);t.refCount--}}move(e,t,a,r,n){if(et.getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:a,dtype:r,values:t,usage:N8.UPLOAD,refCount:n})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){let t,a;let{values:r,dtype:n,complexTensorInfos:i,slice:s,shape:o,isPacked:l}=this.texData.get(e);if(null!=s){let t;t=l?new bP(o,bL):new bA(o,bL);let a=this.runWebGLProgram(t,[{dataId:e,shape:o,dtype:n}],n),r=this.readSync(a.dataId);return this.disposeIntermediateTensorInfo(a),r}if(null!=r)return this.convertAndCacheOnCPU(e);if("string"===n)return r;let p=null!=this.activeTimers;return p&&(t=aX()),a="complex64"===n?oZ(this.readSync(i.real.dataId),this.readSync(i.imag.dataId)):this.getValuesFromTexture(e),p&&(this.downloadWaitMs+=aX()-t),this.convertAndCacheOnCPU(e,a)}async read(e){let t,a;if(this.pendingRead.has(e)){let t=this.pendingRead.get(e);return new Promise(e=>t.push(e))}let{values:r,shape:n,slice:i,dtype:s,complexTensorInfos:o,isPacked:l}=this.texData.get(e);if(null!=i){let t;t=l?new bP(n,bL):new bA(n,bL);let a=this.runWebGLProgram(t,[{dataId:e,shape:n,dtype:s}],s),r=this.read(a.dataId);return this.disposeIntermediateTensorInfo(a),r}if(null!=r)return this.convertAndCacheOnCPU(e);if(et.getBool("DEBUG")&&!et.getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===et.getNumber("WEBGL_VERSION"))throw Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let p=null;if("complex64"!==s&&et.get("WEBGL_BUFFER_SUPPORTED")){t=this.decode(e);let a=this.texData.get(t.dataId);p=this.gpgpu.createBufferFromTexture(a.texture.texture,...gU(n))}if(this.pendingRead.set(e,[]),"complex64"!==s&&await this.gpgpu.createAndWaitForFence(),"complex64"===s){let e=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]);a=oZ(e[0],e[1])}else if(null==p)a=this.getValuesFromTexture(e);else{let e=T(n);a=this.gpgpu.downloadFloat32MatrixFromBuffer(p,e)}if(null!=t&&this.disposeIntermediateTensorInfo(t),null!=p){let e=this.gpgpu.gl;gq(e,()=>e.deleteBuffer(p))}let d=this.convertAndCacheOnCPU(e,a),u=this.pendingRead.get(e);return this.pendingRead.delete(e),u.forEach(e=>e(d)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&rc.removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e,t={}){let{values:a,shape:r,slice:n,dtype:i,isPacked:s,texture:o}=this.texData.get(e);if("complex64"===i)throw Error("Does not support reading texture for complex64 dtype.");if(null!=n){let a;a=s?new bP(r,bL):new bA(r,bL);let n=this.runWebGLProgram(a,[{dataId:e,shape:r,dtype:i}],i),o=this.readToGPU(n,t);return this.disposeIntermediateTensorInfo(n),o}if(null==o){if(null!=a)throw Error("Data is not on GPU but on CPU.");throw Error("There is no data on GPU or CPU.")}let l=this.decode(e,t.customTexShape);return Object.assign({tensorRef:rc.makeTensorFromTensorInfo(l)},this.texData.get(l.dataId).texture)}bufferSync(e){let t=this.readSync(e.dataId);if("string"===e.dtype)try{let a=t.map(e=>aJ(e));return r6(e.shape,e.dtype,a)}catch(e){throw Error("Failed to decode encoded string bytes into utf-8")}return r6(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){let a=e[t];if(!(et.getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===a||596e-10<Math.abs(a)&&65504>Math.abs(a))){if(et.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${a} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${a} cannot be represented on this device.`)}}}getValuesFromTexture(e){let{shape:t,dtype:a,isPacked:r}=this.texData.get(e),n=T(t);if(et.getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){let a=this.decode(e),r=this.texData.get(a.dataId),i=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...gU(t)).subarray(0,n);return this.disposeIntermediateTensorInfo(a),i}let i=et.getBool("WEBGL_PACK")&&!0===r,s=i?g5(t):t,o=i?new vS(s):new vk(s),l=this.runWebGLProgram(o,[{shape:s,dtype:a,dataId:e}],"float32"),p=this.texData.get(l.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(p.texture.texture,p.texShape[0],p.texShape[1]).subarray(0,n);return this.disposeIntermediateTensorInfo(l),d}timerAvailable(){return et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){let t=this.activeTimers,a=[],r=!1;null==this.programTimersStack?(this.programTimersStack=a,r=!0):this.activeTimers.push(a),this.activeTimers=a,e();let n=aQ(this.activeTimers.map(e=>e.query)).filter(e=>null!=e),i=aQ(this.activeTimers.map(e=>e.name)).filter(e=>null!=e);this.activeTimers=t,r&&(this.programTimersStack=null);let s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){let e=await Promise.all(n);s.kernelMs=function(e){let t=0;for(let a=0;a<e.length;a++)t+=e[a];return t}(e),s.getExtraProfileInfo=()=>e.map((e,t)=>({name:i[t],ms:e})).map(e=>`${e.name}: ${e.ms}`).join(", ")}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,s})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:aX(),endMs:null}}endTimer(e){return et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.endQuery():e.endMs=aX(),e}async getQueryTime(e){return et.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.waitForQueryAndGetTime(e):e.endMs-e.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);let{complexTensorInfos:a}=this.texData.get(e);return null!=a&&(this.disposeData(a.real.dataId,t),this.disposeData(a.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){let{texture:t,dtype:a,texShape:r,usage:n,isPacked:i,slice:s}=this.texData.get(e),o=s&&s.origDataId||e,l=this.dataRefCount.get(o);l>1?this.dataRefCount.set(o,l-1):(this.dataRefCount.delete(o),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,a),this.textureManager.releaseTexture(t,r,n,i)));let p=this.texData.get(e);p.texture=null,p.texShape=null,p.isPacked=!1,p.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=bz){return et.getBool("WEBGL_CPU_FORWARD")&&e.every(e=>null==this.texData.get(e.dataId).texture&&T(e.shape)<t)}getGPGPUContext(){return this.gpgpu}where(e){aT("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");let t=e.dataSync();return lw(e.shape,t)}packedUnaryOp(e,t,a){let r=new bP(e.shape,t),n=this.compileAndRun(r,[e],a);return rc.makeTensorFromTensorInfo(n)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){let t=bn(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(et.getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,bE,e.dtype);let t=new bA(e.shape,bE),a=this.compileAndRun(t,[e]);return rc.makeTensorFromTensorInfo(a)}makeTensorInfo(e,t,a){let r;if("string"===t&&null!=a&&a.length>0&&M(a[0])){let n=a.map(e=>aY(e));r=this.write(n,e,t)}else r=this.write(a,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,a){return rc.makeTensorFromTensorInfo(this.makeTensorInfo(e,t,a),this)}unpackTensor(e){let t=new bM(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){let t=new bN(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){let a=[g2(e.shape),...g0(e.shape)],r={dtype:e.dtype,shape:a,dataId:e.dataId},n=new bk([g2(t),...g0(t)],a),i=this.runWebGLProgram(n,[r],e.dtype,[a],!0);return{dataId:i.dataId,shape:t,dtype:i.dtype}}decode(e,t){let a;let{isPacked:r,shape:n,dtype:i}=this.texData.get(e);null!=t&&S(T(n)<=t[0]*t[1]*4,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.");let s=g5(n);a=r?new vN(s):new vx(s);let o=[null!=t?t:gU(s)],l=this.runWebGLProgram(a,[{shape:s,dtype:i,dataId:e}],i,o,!0,t);return{dtype:i,shape:n,dataId:l.dataId}}runWebGLProgram(e,t,a,r,n=!1,i){let s;let o=this.makeTensorInfo(e.outputShape,a),l=this.texData.get(o.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===N6.DENSE){let t=null!=i?i:gU(e.outputShape);l.texShape=t.map(e=>2*e)}if(null!=e.outTexUsage&&(l.usage=e.outTexUsage),0===T(o.shape))return l.values=F(o.dtype,0),o;let p=[],d=t.map(t=>{if("complex64"===t.dtype)throw Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let a=this.texData.get(t.dataId);if(null==a.texture){if(!e.packedInputs&&T(t.shape)<=et.getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:a.values};e.packedInputs&&(a.isPacked=!0,a.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!a.isPacked!=!!e.packedInputs)t=a.isPacked?this.unpackTensor(t):this.packTensor(t),p.push(t),a=this.texData.get(t.dataId);else if(a.isPacked&&!g4(a.shape,t.shape)){let e=t,r=t.shape;t.shape=a.shape,t=this.packedReshape(t,r),p.push(t),a=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:a,isUniform:!1}});this.uploadToGPU(o.dataId);let u={shape:o.shape,texData:l,isUniform:!1},h=function(e,t,a){let r="";t.concat(a).forEach(t=>{let n=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){let i=t.texData.texShape,{useSqueezeShape:s,uniformShape:o,keptDims:l}=vf(e.packedInputs,t.shape,i),p="",d="",u="";if(1===o.length&&e.packedInputs){let e=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];p=`${e[0]>1}_${e[1]>1}`}else if(2!==o.length||e.packedInputs){if(o.length>2&&!e.packedInputs){let e=j(o);u=`${e[0]===i[1]}_${e[e.length-1]===i[1]}`}}else d=`${o[0]>1}_${o[1]>1}`;let h=t.shape.length,c=2===o.length&&A(t.shape,i),m=1===T(t.shape),f=nx(t.shape,a.shape),g=!e.packedInputs&&h===a.shape.length&&A(i,a.texData.texShape),v=e.packedInputs||o.length>2?"":`${i[0]>1}_${i[1]>1}`;r+=`${h}_${g}_${s?l:""}_${o.length}_${m}_${f}_${c}_${p}_${d}_${u}_${v}_${n}`}else{let e=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${e}_${n}`}});let n=e.userCode;return e.constructor.name+("_"+r+"_"+n)+`${et.getNumber("WEBGL_VERSION")}`}(e,d,u),c=this.getAndSaveBinary(h,()=>/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(function(e,t,a,r){let n=a.map((e,a)=>{let r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[a],shapeInfo:r}}),i=n.map(e=>e.shapeInfo),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},o=function(e,t,a){let r,n;let i=[];if(e.forEach(e=>{let t=T(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?i.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(i.push(`uniform sampler2D ${e.name};`),i.push(`uniform int offset${e.name};`)),a.enableShapeUniforms){let{uniformShape:t}=vf(a.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:i.push(`uniform int ${e.name}Shape;`);break;case 2:i.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:i.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:i.push(`uniform ivec4 ${e.name}Shape;`)}i.push(`uniform ivec2 ${e.name}TexShape;`)}}),a.enableShapeUniforms){switch(t.logicalShape.length){case 1:i.push("uniform int outShape;");break;case 2:i.push("uniform ivec2 outShape;"),i.push("uniform int outShapeStrides;");break;case 3:i.push("uniform ivec3 outShape;"),i.push("uniform ivec2 outShapeStrides;");break;case 4:i.push("uniform ivec4 outShape;"),i.push("uniform ivec3 outShapeStrides;")}i.push("uniform ivec2 outTexShape;")}a.customUniforms&&a.customUniforms.forEach(e=>{i.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)});let s=i.join("\n"),o=e.map(e=>(function(e,t,a=!1,r){let n="";a?n+=function e(t,a){switch(t.shapeInfo.logicalShape.length){case 0:return function(e){let t=e.name,a="get"+t.charAt(0).toUpperCase()+t.slice(1),r=ve();return`
    vec4 ${a}() {
      return ${r.texture2D}(${t}, halfCR);
    }
  `}(t);case 1:return function(e,t){let a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),n=e.shapeInfo.texShape,i=ve();if(t)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${a}, uv);
    }
  `;let s=[Math.ceil(n[0]/2),Math.ceil(n[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${s[0]}, ${s[1]}, index);
      return ${i.texture2D}(${a}, uv);
    }
  `}(t,a);case 2:return function(e,t){let a=e.shapeInfo.logicalShape,r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,s=i[0],o=i[1],l=ve();if(null!=i&&A(a,i))return t?`
      vec4 ${n}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${n}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${s}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(t)return`
    vec4 ${n}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;let p=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],d=Math.ceil(a[1]/2);return`
    vec4 ${n}(int row, int col) {
      vec2 uv = packedUVfrom2D(${d}, ${p[0]}, ${p[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}(t,a);case 3:return function(t,a){let r=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape,o=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];if(1===r[0]){let n=vg(t,r.slice(1));return`
        ${e(n,a)}
        vec4 ${i}(int b, int row, int col) {
          return ${i}(${vv(["b","row","col"],[1,2])});
        }
      `}let l=ve();if(a)return`
    vec4 ${i}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${n}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${l.texture2D}(${n}, uv);
    }
  `;let p=o[0],d=o[1],u=Math.ceil(r[2]/2),h=u*Math.ceil(r[1]/2);return`
    vec4 ${i}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${p}, ${d}, ${h}, ${u}, b, row, col);
      return ${l.texture2D}(${n}, uv);
    }
  `}(t,a);default:return function(e,t){let a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),n=ve();if(t)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${a}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${a}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${a}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${n.texture2D}(${a}, uv);
    }
  `;let i=e.shapeInfo.logicalShape,s=i.length,o=e.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],p=l[0],d=l[1],u=Math.ceil(i[s-1]/2),h=u*Math.ceil(i[s-2]/2),c="int b, int row, int col",m=`b * ${h} + (row / 2) * ${u} + (col / 2)`;for(let e=2;e<s-1;e++)c=`int b${e}, `+c,h*=i[s-e-1],m=`b${e} * ${h} + `+m;return`
    vec4 ${r}(${c}) {
      int index = ${m};
      int texR = index / ${d};
      int texC = index - texR * ${d};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}, ${p});
      return ${n.texture2D}(${a}, uv);
    }
  `}(t,a)}}(e,r):n+=function e(t,a=!1){let r=t.shapeInfo.logicalShape;switch(r.length){case 0:return function(e,t){let a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${a};}`;let[n,i]=e.shapeInfo.texShape;if(1===n&&1===i)return`
      float ${r}() {
        return sampleTexture(${a}, halfCR);
      }
    `;let s=vh(a);if(t)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], ${s});
      return sampleTexture(${a}, uv);
    }
  `;let[o,l]=e.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${o}, ${l}, ${s});
      return sampleTexture(${a}, uv);
    }
  `}(t,a);case 1:return function(e,t){let a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1);if(e.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${vc(e)}
      }
    `;let n=e.shapeInfo.texShape,i=n[0],s=n[1];if(1===s&&1===i)return`
      float ${r}(int index) {
        return sampleTexture(${a}, halfCR);
      }
    `;let o=vh(a);return 1===s?t?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${a}TexShape[0]));
        return sampleTexture(${a}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${i}.0);
        return sampleTexture(${a}, uv);
      }
    `:1===i?t?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${a}TexShape[1]), 0.5);
        return sampleTexture(${a}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${s}.0, 0.5);
        return sampleTexture(${a}, uv);
      }
    `:t?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index + ${o});
      return sampleTexture(${a}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${s}, index + ${o});
      return sampleTexture(${a}, uv);
    }
  `}(t,a);case 2:return function(t,a){let r=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape;if(null!=s&&A(r,s)){if(a)return`
      float ${i}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${n}TexShape[1], ${n}TexShape[0]);
        return sampleTexture(${n}, uv);
      }
    `;let e=s[0],t=s[1];return`
    float ${i}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${t}.0, ${e}.0);
      return sampleTexture(${n}, uv);
    }
  `}let{newShape:o,keptDims:l}=D(r);if(o.length<r.length){let r=vg(t,o);return`
      ${e(r,a)}
      float ${i}(int row, int col) {
        return ${i}(${vv(["row","col"],l)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${i}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${r[1]}, 1)));
        ${vc(t)}
      }
    `;let p=s[0],d=s[1],u=vh(n);return 1===d?a?`
      float ${i}(int row, int col) {
        float index = dot(vec3(row, col, ${u}), vec3(${n}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
    float ${i}(int row, int col) {
      float index = dot(vec3(row, col, ${u}), vec3(${r[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${p}.0);
      return sampleTexture(${n}, uv);
    }
  `:1===p?a?`
      float ${i}(int row, int col) {
        float index = dot(vec3(row, col, ${u}), vec3(${n}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
    float ${i}(int row, int col) {
      float index = dot(vec3(row, col, ${u}), vec3(${r[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${d}.0, 0.5);
      return sampleTexture(${n}, uv);
    }
  `:a?`
      float ${i}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${n}Shape[1] + col + ${u};
        vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index);
        return sampleTexture(${n}, uv);
      }
    `:`
  float ${i}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${r[1]} + col + ${u};
    vec2 uv = uvFromFlat(${p}, ${d}, index);
    return sampleTexture(${n}, uv);
  }
`}(t,a);case 3:return function(t,a){let r=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),s=r[1]*r[2],o=r[2],{newShape:l,keptDims:p}=D(r);if(l.length<r.length){let r=vg(t,l);return`
        ${e(r,a)}
        float ${i}(int row, int col, int depth) {
          return ${i}(${vv(["row","col","depth"],p)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${i}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${s}, ${o}, 1)));
        ${vc(t)}
      }
    `;let d=t.shapeInfo.texShape,u=d[0],h=d[1],c=t.shapeInfo.flatOffset;if(h===s&&null==c)return a?`
      float ${i}(int row, int col, int depth) {
        int stride1 = ${n}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${n}TexShape[1], ${n}TexShape[0]);
        return sampleTexture(${n}, uv);
      }
    `:`
        float ${i}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${o}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${h}.0, ${u}.0);
          return sampleTexture(${n}, uv);
        }
      `;if(h===o&&null==c)return a?`
      float ${i}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${n}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${n}TexShape[1], ${n}TexShape[0]);
        return sampleTexture(${n}, uv);
      }
    `:`
    float ${i}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${r[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${h}.0, ${u}.0);
      return sampleTexture(${n}, uv);
    }
  `;let m=vh(n);return a?`
    float ${i}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${n}Shape[1] * ${n}Shape[2];
      int stride1 = ${n}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${m};
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index);
      return sampleTexture(${n}, uv);
    }
    `:`
      float ${i}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${s} + col * ${o} + depth + ${m};
        vec2 uv = uvFromFlat(${u}, ${h}, index);
        return sampleTexture(${n}, uv);
      }
  `}(t,a);case 4:return function(t,a){let r=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),s=r[3],o=r[2]*s,l=r[1]*o,{newShape:p,keptDims:d}=D(r);if(p.length<r.length){let r=vg(t,p);return`
      ${e(r,a)}
      float ${i}(int row, int col, int depth, int depth2) {
        return ${i}(${vv(["row","col","depth","depth2"],d)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${i}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${l}, ${o}, ${s}, 1)));
        ${vc(t)}
      }
    `;let u=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,c=h[0],m=h[1],f=`int stride2 = ${n}Shape[3];`,g=`int stride1 = ${n}Shape[2] * stride2;`,v=`int stride0 = ${n}Shape[1] * stride1;`;if(m===l&&null==u)return a?`
      float ${i}(int row, int col, int depth, int depth2) {
        ${f}
        ${g}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${n}TexShape[1], ${n}TexShape[0]);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${i}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${o}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${c}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(m===s&&null==u)return a?`
      float ${i}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n}Shape[1] * ${n}Shape[2], ${n}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${n}TexShape[1], ${n}TexShape[0]);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${i}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r[1]*r[2]}, ${r[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${c}.0);
        return sampleTexture(${n}, uv);
      }
    `;let b=vh(n);return a?`
    float ${i}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${f}
      ${g}
      ${v}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${b});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${i}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${l} + col * ${o} +
          depth * ${s} + depth2;
      vec2 uv = uvFromFlat(${c}, ${m}, index + ${b});
      return sampleTexture(${n}, uv);
    }
  `}(t,a);case 5:return function(t){let a=t.shapeInfo.logicalShape,r=t.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),i=a[4],s=a[3]*i,o=a[2]*s,l=a[1]*o,{newShape:p,keptDims:d}=D(a);if(p.length<a.length){let a=vg(t,p);return`
      ${e(a)}
      float ${n}(int row, int col, int depth, int depth2, int depth3) {
        return ${n}(${vv(["row","col","depth","depth2","depth3"],d)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${n}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${l}, ${o}, ${s}, ${i})) +
          depth3;
        ${vc(t)}
      }
    `;let u=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,c=h[0],m=h[1];if(m===l&&null==u)return`
      float ${n}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${o}, ${s}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${c}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(m===i&&null==u)return`
      float ${n}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${a[1]*a[2]*a[3]},
               ${a[2]*a[3]}, ${a[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${c}.0);
        return sampleTexture(${r}, uv);
      }
    `;let f=vh(r);return`
    float ${n}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${l} + col * ${o} + depth * ${s} +
          depth2 * ${i} + depth3 + ${f};
      vec2 uv = uvFromFlat(${c}, ${m}, index);
      return sampleTexture(${r}, uv);
    }
  `}(t);case 6:return function(t){let a=t.shapeInfo.logicalShape,r=t.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),{newShape:i,keptDims:s}=D(a);if(i.length<a.length){let a=vg(t,i);return`
      ${e(a)}
      float ${n}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${n}(${vv(["row","col","depth","depth2","depth3","depth4"],s)});
      }
    `}let o=a[5],l=a[4]*o,p=a[3]*l,d=a[2]*p,u=a[1]*d;if(t.shapeInfo.isUniform)return`
      float ${n}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${u}, ${d}, ${p}, ${l})) +
          dot(
            vec2(depth3, depth4),
            vec2(${o}, 1)));
        ${vc(t)}
      }
    `;let h=t.shapeInfo.flatOffset,c=t.shapeInfo.texShape,m=c[0],f=c[1];if(f===u&&null==h)return`
      float ${n}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${d}, ${p}, ${l}, ${o})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${f}.0, ${m}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(f===o&&null==h)return`
      float ${n}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${a[1]*a[2]*a[3]*a[4]},
               ${a[2]*a[3]*a[4]},
               ${a[3]*a[4]},
               ${a[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${f}.0, ${m}.0);
        return sampleTexture(${r}, uv);
      }
    `;let g=vh(r);return`
    float ${n}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${u} + col * ${d} + depth * ${p} +
          depth2 * ${l} + depth3 * ${o} + depth4 + ${g};
      vec2 uv = uvFromFlat(${m}, ${f}, index);
      return sampleTexture(${r}, uv);
    }
  `}(t);default:throw Error(`${r.length}-D input sampling is not yet supported`)}}(e,r);let i=e.shapeInfo.logicalShape,s=t.logicalShape;return i.length<=s.length&&(a?n+=function(e,t){let a;let r=e.name,n=r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,o=vs(e.shapeInfo.logicalShape,t.logicalShape),l=vm(s),p=s-i,d=["x","y","z","w","u","v"];a=0===i?"":s<2&&o.length>=1?"coords = 0;":o.map(e=>`coords.${d[e+p]} = 0;`).join("\n");let u="";u=s<2&&i>0?"coords":e.shapeInfo.logicalShape.map((e,t)=>`coords.${d[t+p]}`).join(", ");let h="return outputValue;",c=1===T(e.shapeInfo.logicalShape),m=1===T(t.logicalShape);if(1!==i||c||m){if(c&&!m)h=1===s?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(o.length){let e=i-2,t=i-1;o.indexOf(e)>-1&&o.indexOf(t)>-1?h="return vec4(outputValue.x);":o.indexOf(e)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(t)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 ${"get"+n+"AtOutCoords"}() {
      ${l} coords = getOutputCoords();
      ${a}
      vec4 outputValue = get${n}(${u});
      ${h}
    }
  `}(e,t):n+=function(e,t){let a;let r=e.name,n=r.charAt(0).toUpperCase()+r.slice(1),i="get"+n+"AtOutCoords",s=t.texShape,o=e.shapeInfo.texShape,l=e.shapeInfo.logicalShape.length,p=t.logicalShape.length;if(!e.shapeInfo.isUniform&&l===p&&null==e.shapeInfo.flatOffset&&A(o,s))return`
      float ${i}() {
        return sampleTexture(${r}, resultUV);
      }
    `;let d=vm(p),u=vs(e.shapeInfo.logicalShape,t.logicalShape),h=p-l,c=["x","y","z","w","u","v"];a=0===l?"":p<2&&u.length>=1?"coords = 0;":u.map(e=>`coords.${c[e+h]} = 0;`).join("\n");let m="";return m=p<2&&l>0?"coords":e.shapeInfo.logicalShape.map((e,t)=>`coords.${c[t+h]}`).join(", "),`
    float ${i}() {
      ${d} coords = getOutputCoords();
      ${a}
      return get${n}(${m});
    }
  `}(e,t)),n})(e,t,a.packedInputs,a.enableShapeUniforms)).join("\n"),l=t.texShape,p=ve(),d=`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${p.texture2D}(textureSampler, uv).r;
    }
  `,u=`${p.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${p.varyingFs} vec2 resultUV;
    ${p.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${p.defineSpecialNaN}
    ${p.defineSpecialInf}
    ${p.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${vo}
    ${vl}
    ${vp}
  `;return t.isPacked?(r=function(e,t,a){switch(e.length){case 0:return vu();case 1:return function(e,t,a){let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===r[0]?a?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:1===r[1]?a?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:a?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}(0,t,a);case 2:return function(e,t,a){let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(A(e,t))return a?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;let n=Math.ceil(e[1]/2);return a?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${n});
      int c = imod(index, ${n}) * 2;

      return ivec2(r, c);
    }
  `}(e,t,a);case 3:return function(e,t,a){if(a)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],n=Math.ceil(e[2]/2),i=n*Math.ceil(e[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${n});
      int c = imod(index, ${n}) * 2;

      return ivec3(b, r, c);
    }
  `}(e,t,a);default:return function(e,t,a){if(a)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;let r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],n=Math.ceil(e[e.length-1]/2),i=n*Math.ceil(e[e.length-2]/2),s=i,o="",l="b, r, c";for(let t=2;t<e.length-1;t++)s*=e[e.length-t-1],o=`
      int b${t} = index / ${s};
      index -= b${t} * ${s};
    `+o,l=`b${t}, `+l;return`
    ivec${e.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${o}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${n});
      int c = imod(index, ${n}) * 2;

      return ivec${e.length}(${l});
    }
  `}(e,t,a)}}(t.logicalShape,l,a.enableShapeUniforms),n=`
    void setOutput(vec4 val) {
      ${p.output} = val;
    }
  `):(r=function(e,t,a){switch(e.length){case 0:return vu();case 1:return 1===t[0]?a?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${t[1]}.0);
      }
    `:1===t[1]?a?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${t[0]}.0);
      }
    `:a?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      return resTexRC.x * ${t[1]} + resTexRC.y;
    }
  `;case 2:return A(e,t)?a?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));
      }
    `:1===e[1]?a?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:1===e[0]?a?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:a?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      int r = index / ${e[1]};
      int c = index - r * ${e[1]};
      return ivec2(r, c);
    }
  `;case 3:return function(e,t,a){if(a){let t=va(["r","c","d"],e);return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${t}
    return ivec3(r, c, d);
  }
`}let r=vt(["r","c","d"],e);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}(e,t,a);case 4:return function(e,t,a){if(a){let t=va(["r","c","d","d2"],e);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${t}
      return ivec4(r, c, d, d2);
    }
  `}let r=vt(["r","c","d","d2"],e);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}(e,t,a);case 5:return function(e,t){let a=vt(["r","c","d","d2","d3"],e);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},
                             ${t[1]}));

      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${a}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}(e,t);case 6:return function(e,t){let a=vt(["r","c","d","d2","d3","d4"],e);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${a}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}(e,t);default:throw Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,l,a.enableShapeUniforms),n=`
    void setOutput(float val) {
      ${p.output} = vec4(val, 0, 0, 0);
    }
  `),a.packedInputs&&(u+=vd),[u,d,n,s,r,o,a.userCode].join("\n")}(n,s,t),l=function(e,t){let a=g1(e,()=>e.createShader(e.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(gq(e,()=>e.shaderSource(a,t)),gq(e,()=>e.compileShader(a)),et.get("ENGINE_COMPILE_ONLY"))return a;if(!1===e.getShaderParameter(a,e.COMPILE_STATUS))throw gK(t,e.getShaderInfoLog(a)),Error("Failed to compile fragment shader.");return a}(e.gl,o),p=e.createProgram(l);return et.get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:o,webGLProgram:p,inShapeInfos:i,outShapeInfo:s,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(p),Object.assign({program:t,fragmentShader:l,source:o,webGLProgram:p,inShapeInfos:i,outShapeInfo:s},vb(e,t,p)))})(this.gpgpu,e,d,u)),m=null!=this.activeTimers;m&&(s=this.startTimer()),et.get("ENGINE_COMPILE_ONLY")||function(e,t,a,r,n){t.program.enableShapeUniforms||(vy(t.inShapeInfos,a),vy([t.outShapeInfo],[r]));let i=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,s[0],s[1]):e.setOutputMatrixTexture(i.texture,s[0],s[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===et.getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let r=0;r<a.length;++r){let n=a[r],{uniform:i,offset:s,shape:o,texShape:l}=t.variablesLocations[r];if(o){let{uniformShape:a}=vf(t.program.packedInputs,n.shape,n.texData.texShape);switch(a.length){case 1:e.gl.uniform1iv(o,new Int32Array(a));break;case 2:e.gl.uniform2iv(o,new Int32Array(a));break;case 3:e.gl.uniform3iv(o,new Int32Array(a));break;case 4:e.gl.uniform4iv(o,new Int32Array(a))}}if(l&&e.gl.uniform2i(l,n.texData.texShape[0],n.texData.texShape[1]),null!=i){if(n.isUniform){if(2>T(n.shape))e.gl.uniform1f(i,n.uniformValues[0]);else{let t=n.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(i,t)}continue}null!=n.texData.slice&&null!=s&&e.gl.uniform1i(s,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,i,r)}}let o=t.outShapeLocation;if(o)switch(r.shape.length){case 1:e.gl.uniform1iv(o,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(o,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(o,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(o,new Int32Array(r.shape))}if(t.outShapeStridesLocation){let a=j(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(a));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(a));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(a))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&n)for(let a=0;a<t.program.customUniforms.length;++a){let r=t.program.customUniforms[a],i=t.customUniformLocations[a],s=n[a];if("float"===r.type)e.gl.uniform1fv(i,s);else if("vec2"===r.type)e.gl.uniform2fv(i,s);else if("vec3"===r.type)e.gl.uniform3fv(i,s);else if("vec4"===r.type)e.gl.uniform4fv(i,s);else if("int"===r.type)e.gl.uniform1iv(i,s);else if("ivec2"===r.type)e.gl.uniform2iv(i,s);else if("ivec3"===r.type)e.gl.uniform3iv(i,s);else if("ivec4"===r.type)e.gl.uniform4iv(i,s);else throw Error(`uniform type ${r.type} is not supported yet.`)}e.executeProgram()}(this.gpgpu,c,d,u,r),p.forEach(e=>this.disposeIntermediateTensorInfo(e)),m&&(s=this.endTimer(s),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(s)}));let f=et.getNumber("WEBGL_FLUSH_THRESHOLD");if(f>0){let e=aX();e-this.lastGlFlushTime>f&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!et.getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&!1===n){let e=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),e}return o}compileAndRun(e,t,a,r,n=!1){return a=a||t[0].dtype,this.runWebGLProgram(e,t,a,r,n)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(et.getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=rA(()=>{if(!et.get("WEBGL_RENDER_FLOAT32_ENABLED")){let e=et.getBool("DEBUG");et.set("DEBUG",!1);let t=this.abs(no(1e-8)).dataSync()[0];if(et.set("DEBUG",e),t>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){let t;let a=this.texData.get(e),{shape:r,dtype:n,values:i,texture:s,usage:o,isPacked:l}=a;if(null!=s)return;let p=null!=this.activeTimers;p&&(t=aX());let d=a.texShape;if(null==d&&(d=function(e,t=!1){let a=et.getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=et.getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&et.getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=a/2),t&&(a*=2,r*=2,1===(e=e.map((t,a)=>a>=e.length-2?N(e[a]):e[a])).length&&(e=[2,e[0]])),2!==e.length&&(e=D(e).newShape);let n=T(e),i=null;e.length<=1&&n<=a?i=[1,n]:2===e.length&&e[0]<=a&&e[1]<=a?i=e:3===e.length&&e[0]*e[1]<=a&&e[2]<=a?i=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=a&&e[1]*e[2]<=a?i=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=a&&e[3]<=a?i=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=a&&e[1]*e[2]*e[3]<=a&&(i=[e[0],e[1]*e[2]*e[3]]);let s=null!=i&&Math.max(...i)>r&&Math.min(...i)<=(t?2:1)&&Math.min(...i)>0;if(null==i||s){if(t){let t=g2(e),a=2,r=2;e.length&&([a,r]=g0(e)),i=_(n=a/2*t*(r/2)).map(e=>2*e)}else i=_(n)}return i}(r,l),a.texShape=d),null!=i){let e;let s=g5(r),o=d[1],u=d[0],h=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(l||!h)&&([o,u]=gj(d[0],d[1])),e=l?new vT(s,h):new vC(s,h);let c=h?[u,o]:d,m=this.makeTensorInfo(c,n),f=this.texData.get(m.dataId);h?f.usage=N8.PIXELS:f.usage=N8.UPLOAD,f.texShape=c,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(m.dataId),o,u,i);let g=[[u,o]],v=this.runWebGLProgram(e,[m],n,g,!0),b=this.texData.get(v.dataId);a.texShape=b.texShape,a.isPacked=b.isPacked,a.usage=b.usage,et.get("ENGINE_COMPILE_ONLY")?this.disposeData(v.dataId):(a.texture=b.texture,a.values=null,this.texData.delete(v.dataId)),this.disposeIntermediateTensorInfo(m),p&&(this.uploadWaitMs+=aX()-t)}else{let e=this.acquireTexture(d,o,n,l);a.texture=e}}convertAndCacheOnCPU(e,t){let a=this.texData.get(e),{dtype:r}=a;return null!=t&&(a.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){let a="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<a.length;++t)a[t]=Math.round(e[t]);return a}throw Error(`Unknown dtype ${t}`)}(t,r)),a.values}acquireTexture(e,t,a,r){if(this.numBytesInGPU+=this.computeBytes(e,a),!this.warnedAboutMemory&&this.numBytesInGPU>1048576*this.numMBBeforeWarning){let e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*P(t)}checkCompileCompletion(){for(let[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){let e=[];if(this.gpgpu.parallelCompilationExtension){for(let[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(let[,t]of Object.entries(this.binaryCache)){let a=new Promise(e=>{try{this.checkCompletion_(t),e(!0)}catch(e){throw e}});e.push(a)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await oI(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw gK(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),Error("Failed to compile fragment shader.");throw Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(let e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);let{variablesLocations:t,customUniformLocations:a,infLoc:r,nanLoc:n,outShapeLocation:i,outShapeStridesLocation:s,outTexShapeLocation:o}=vb(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=a,e.infLoc=r,e.nanLoc=n,e.outShapeLocation=i,e.outShapeStridesLocation=s,e.outTexShapeLocation=o}}createTensorFromGPUData(e,t,a){e.channels=e.channels||"RGBA";let{texture:r,height:n,width:i,channels:s}=e,o=rc.backend;if(!o.gpgpu.gl.isTexture(r))throw Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");let l=o.writeTexture(r,t,a,n,i,s);return rc.makeTensorFromDataId(l,t,a,o)}}bV.nextDataId=0,rg()&&r$("webgl",()=>new bV,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let bU=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class bj{constructor(e,t,a){this.variableNames=["A","B"],this.outputShape=nk(t,a),this.enableShapeUniforms=vw(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let bW=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class bq{constructor(e,t,a,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=nk(t,a);let n=this.outputShape.length;this.enableShapeUniforms=vw(n);let i="";if(r){if(0===n||1===T(this.outputShape))i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else{let e=vm(n);if(i=`
          ${e} coords = getOutputCoords();
        `,1===n)this.enableShapeUniforms?i+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:i+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{let e=bx("coords",n);this.enableShapeUniforms?i+=`
            bool nextRowOutOfBounds =
              (${e[n-2]} + 1) >= outShape[${n} - 2];
            bool nextColOutOfBounds =
              (${e[n-1]} + 1) >= outShape[${n} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:i+=`
            bool nextRowOutOfBounds =
              (${e[n-2]} + 1) >= ${this.outputShape[n-2]};
            bool nextColOutOfBounds =
              (${e[n-1]} + 1) >= ${this.outputShape[n-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}}}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${i}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bG(e){let{inputs:t,backend:a}=e,{x:r}=t;return a.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bH(e){let{inputs:t,backend:a}=e,{real:r,imag:n}=t,i=a.makeTensorInfo(r.shape,"complex64"),s=a.texData.get(i.dataId),o=bG({inputs:{x:r},backend:a}),l=bG({inputs:{x:n},backend:a});return s.complexTensorInfos={real:o,imag:l},i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let bK="return (a < 0.) ? b * a : a;",bX=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,bY="return (a < 0.) ? b * a : a;",bJ=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,bZ="if (isnan(x)) return x;";function bQ({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:a,dtype:r}){return({inputs:n,backend:i})=>{let s;let{x:o}=n,l=r||o.dtype;if(i.shouldExecuteOnCPU([o])&&null!=a){let e=a(i.texData.get(o.dataId).values,l);return i.makeTensorInfo(o.shape,l,e)}return s=et.getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new bP(o.shape,t):new bA(o.shape,e),i.runWebGLProgram(s,[o],l)}}function b1({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:a=!1,supportsComplex:r=!1,cpuKernelImpl:n,dtype:i}){return({inputs:s,backend:o})=>{let l;let{a:p,b:d}=s;if(r&&"complex64"===p.dtype){let t=o.texData.get(p.dataId),a=o.texData.get(d.dataId),[r,n]=[[t.complexTensorInfos.real,a.complexTensorInfos.real],[t.complexTensorInfos.imag,a.complexTensorInfos.imag]].map(t=>{let[a,r]=t,n={dataId:a.dataId,dtype:a.dtype,shape:p.shape},i={dataId:r.dataId,dtype:r.dtype,shape:d.shape},s=new bj(e,p.shape,d.shape);return o.runWebGLProgram(s,[n,i],ra(a.dtype,r.dtype))}),i=bH({inputs:{real:r,imag:n},backend:o});return o.disposeIntermediateTensorInfo(r),o.disposeIntermediateTensorInfo(n),i}let u=i||ra(p.dtype,d.dtype);if(("string"===p.dtype||"string"===d.dtype||o.shouldExecuteOnCPU([p,d]))&&null!=n){let e=o.texData.get(p.dataId).values,t=o.texData.get(d.dataId).values,a="string"===p.dtype?lb(e):e,r="string"===p.dtype?lb(t):t,[i,s]=n(p.shape,d.shape,a,r,u),l=o.makeTensorInfo(s,u);return o.texData.get(l.dataId).values=i,l}return l=et.getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new bq(t,p.shape,d.shape,a):new bj(e,p.shape,d.shape),o.runWebGLProgram(l,[p,d],u)}}function b2(e,t=!1){if("linear"===e)return"return x;";if("relu"===e)return t?bF:b$;if("elu"===e)return t?bD:"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===e)return t?bO:bR;if("prelu"===e)return t?bJ:bY;if("leakyrelu"===e)return t?bX:bK;if("sigmoid"===e)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw Error(`Activation ${e} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b0{constructor(e,t,a,r=!1,n=!1,i=!1,s=null,o=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a,this.enableShapeUniforms=vw(this.outputShape.length);let p=Math.ceil((r?e[1]:e[2])/2),d=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],u=n?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],h="",c="";s&&(h=o?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${s}
        }`:l?`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${s}
        }`:`vec4 activation(vec4 x) {
          ${s}
        }`,c="result = activation(result);"),i&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let m="rc.x",f="rc.x";e[0]<t[0]?m=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(f=`imod(rc.x, ${t[0]})`),this.userCode=`
      ${h}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${p}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${m};
        int batchB = ${f};
        for (int i = 0; i < ${p}; i++) {
          vec4 a = getMatrixA(batchA, ${r?"i * 2, rc.y":"rc.y, i * 2"});
          vec4 b = getMatrixB(batchB, ${n?"rc.z, i * 2":"i * 2, rc.z"});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${d[0]} * ${u[0]});
          result += (${d[1]} * ${u[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${i?"result += getBiasAtOutCoords();":""}

        ${c}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let b5={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class b4{constructor(e,t,a){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=nk(t,a),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let b3="return a * b;";function b6(e){let t;let{inputs:a,backend:r}=e,{a:n,b:i}=a,s=ra(n.dtype,i.dtype);if("complex64"===n.dtype){let e=r.texData.get(n.dataId),t=r.texData.get(i.dataId),a=new b4(b5.REAL,n.shape,i.shape),s=new b4(b5.IMAG,n.shape,i.shape),o=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:n.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:n.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:i.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:i.shape}],l=r.runWebGLProgram(a,o,"float32"),p=r.runWebGLProgram(s,o,"float32"),d=bH({inputs:{real:l,imag:p},backend:r});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(p),d}if(r.shouldExecuteOnCPU([n,i])){let e=r.texData.get(n.dataId),t=r.texData.get(i.dataId),[a,o]=v5(n.shape,i.shape,e.values,t.values,s),l=r.makeTensorInfo(o,s);return r.texData.get(l.dataId).values=a,l}return t=et.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bq(b3,n.shape,i.shape):new bj(b3,n.shape,i.shape),r.runWebGLProgram(t,[n,i],s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b8(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{shape:i}=r,s=T(n.shape),o=R(i,s),l=T(o);S(s===l,()=>`The new shape (${o}) has ${l} elements and the old shape (${n.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`);let p=a.texData.get(n.dataId);return!p.isPacked||g4(n.shape,o)||null!==p.texture&&g4(p.shape,o)?(a.incRef(n.dataId),{dataId:n.dataId,shape:o,dtype:n.dtype}):/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a){let r=[g2(e.shape),...g0(e.shape)],n={dtype:e.dtype,shape:r,dataId:e.dataId},i=new bk([g2(t),...g0(t)],r),s=a.runWebGLProgram(i,[n],e.dtype,[r],!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}(n,o,a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b9{constructor(e,t){this.variableNames=["x"];let{windowSize:a,batchSize:r,inSize:n,outSize:i}=e;this.outputShape=[r,i];let s=4*Math.floor(a/4),o=a%4,l="sumValue += dot(values, ones);";if(null!=t){let e=1/t;l=`sumValue += dot(values * ${e%1==0?e.toPrecision(2):e}, ones);`}let p="";n%a>0&&(p=`
        if (inIdx < 0 || inIdx >= ${n}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${a};

        float sumValue = 0.0;

        for (int i = 0; i < ${s}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${l}
        }

        int inIdx = inOffset + ${s};
        if (${1===o}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${l}
        } else if (${2===o}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${l}
        } else if (${3===o}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${l}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b7{constructor(e,t){this.variableNames=["x"];let{windowSize:a,batchSize:r,inSize:n,outSize:i}=e;this.outputShape=[r,i];let s="0.0",o="";"prod"===t?s="1.0":"min"===t?(s="1.0 / 1e-20",o="min"):"max"===t&&(s="-1.0 / 1e-20",o="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");let p=4*Math.floor(a/4),d=a%4,u=`
      if (${"sum"===t}) {
        sumValue += dot(values, ones);
      } else if (${"prod"===t}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${o}(values, minMaxValue);
        if (${"min"===t} || ${"max"===t}) {
          minMaxValue = ${o}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,h="vec4";"all"===t?(s="1.0",u=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):"any"===t&&(s="0.0",u=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");let c="";n%a>0&&(c=`
        if (inIdx < 0 || inIdx >= ${n}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${s};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${a};

        vec4 minMaxValue = vec4(${s});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${p}; i += 4) {
          int inIdx = inOffset + i;
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${p};
        if (${1===d}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${u}
        } else if (${2===d}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${u}
        } else if (${3===d}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${u}
        }
        setOutput(${l});
      }
    `}}function ye(e,t,a,r){let n=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=[];for(;0===t.length||1!==t[t.length-1].outSize;){let a=t.length?t[t.length-1].outSize:e[1],r=oL(a);t.push({inSize:a,windowSize:r,outSize:Math.ceil(a/r)})}return t}(e.shape),i=e;for(let s=0;s<n.length;s++){let o,l;let{inSize:p,windowSize:d,outSize:u}=n[s];o="mean"===a?0===s?new b9({windowSize:d,inSize:p,batchSize:e.shape[0],outSize:u},p):new b9({windowSize:d,inSize:p,batchSize:e.shape[0],outSize:u}):new b7({windowSize:d,inSize:p,batchSize:e.shape[0],outSize:u},a),l=i,i=r.runWebGLProgram(o,[i],t),l.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(l)}return i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yt{constructor(e,t){this.variableNames=["A"];let a=Array(e.length);for(let r=0;r<a.length;r++)a[r]=e[t[r]];this.outputShape=a,this.rank=a.length;let r=vm(this.rank),n=function(e){let t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);let a=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=Array(t);for(let t=0;t<e.length;t++)r[e[t]]=a[t];return r.join()}(t);this.userCode=`
    void main() {
      ${r} resRC = getOutputCoords();
      setOutput(getA(${n}));
    }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ya{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;let a=Array(e.length);for(let r=0;r<a.length;r++)a[r]=e[t[r]];if(this.outputShape=a,this.rank=a.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);let r=vm(this.rank),n=bw("rc",this.rank),i=Array(this.rank);for(let e=0;e<t.length;e++)i[t[e]]=n[e];let s=`vec2(${i.slice(-2).join()})`,o=`++${n[this.rank-1]} < ${a[this.rank-1]}`,l=`getChannel(getA(${i.join()}), ${s})`;this.userCode=`
    void main() {
      ${r} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${l};
      if(${o}) {
        result[1] = ${l};
      }
      --${n[this.rank-1]};
      if(++${n[this.rank-2]} < ${a[this.rank-2]}) {
        result[2] = ${l};
        if(${o}) {
          result[3] = ${l};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yr(e,t,a){let r=et.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ya(e.shape,t):new yt(e.shape,t);return a.runWebGLProgram(r,[e],e.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yn(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i,keepDims:s}=r;return(/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r){let n=e.shape.length,i=L(t,e.shape),s=i,o=i1(s,n),l=null!=o,p=e;l&&(p=yr(e,o,r),s=i0(s.length,n)),iQ("sum",s,n);let[d,u]=iJ(p.shape,s),h=d;a&&(h=iZ(d,i));let c=T(u),m=b8({inputs:{x:p},attrs:{shape:[T(e.shape)/c,c]},backend:r}),f=ye(m,rr(e.dtype),"sum",r),g=b8({inputs:{x:f},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(f),l&&r.disposeIntermediateTensorInfo(p),g}(n,i,s,a))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yi(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a,{perm:s}=n,o=Array(i.shape.length);for(let e=0;e<o.length;e++)o[e]=i.shape[s[e]];if(r.shouldExecuteOnCPU([i])){let e=bb(r.texData.get(i.dataId).values,i.shape,i.dtype,s,o);t=r.makeTensorInfo(o,i.dtype),r.texData.get(t.dataId).values=e}else t=yr(i,s,r);return t}function ys({a:e,b:t,transposeA:a,transposeB:r,backend:n,bias:i=null,preluActivationWeights:s=null,leakyreluAlpha:o=0,activation:l=null}){let p;let d=e.shape.length,u=t.shape.length,h=a?e.shape[d-2]:e.shape[d-1],c=r?t.shape[u-1]:t.shape[u-2],m=a?e.shape[d-1]:e.shape[d-2],f=r?t.shape[u-2]:t.shape[u-1],g=e.shape.slice(0,-2),v=t.shape.slice(0,-2),b=T(g),y=T(v),w=nk(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([m,f]);S(h===c,()=>`Error in matMul: inner shapes (${h}) and (${c}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${a} and transposeB=${r} must match.`);let x=a?[b,h,m]:[b,m,h],N=r?[y,f,c]:[y,c,f],k=b8({inputs:{x:e},backend:n,attrs:{shape:x}}),I=b8({inputs:{x:t},backend:n,attrs:{shape:N}}),C=[k,I],A=Math.max(b,y),_=a?k.shape[1]:k.shape[2],E=null!=i,$=null!=s,R="leakyrelu"===l,L=null!=l?b2(l,!0):null,D=E||$||R||null!=L;if((1===m||1===f)&&_>1e3&&!1===D){let e=k,t=I;a&&(e=yi({inputs:{x:k},backend:n,attrs:{perm:[0,2,1]}}),C.push(e)),r&&(t=yi({inputs:{x:I},backend:n,attrs:{perm:[0,2,1]}}),C.push(t));let i=1!==f,s=1===f,o=e;i&&(o=b8({inputs:{x:e},backend:n,attrs:{shape:[A,_,1]}}),C.push(o));let l=t;s&&(l=b8({inputs:{x:t},backend:n,attrs:{shape:[A,1,_]}}),C.push(l));let d=b6({inputs:{a:o,b:l},backend:n});p=yn({inputs:{x:d},backend:n,attrs:{axis:1===f?2:1,keepDims:!0}}),C.push(d)}else{let l=ra(e.dtype,t.dtype),d=new b0(x,N,[A,m,f],a,r,E,L,$,R),u=[k,I];if(null!=i&&u.push(i),$&&u.push(s),R){let e=n.makeTensorInfo([],"float32",aH(o,"float32"));u.push(e),C.push(e)}p=n.runWebGLProgram(d,u,l)}let F=b8({inputs:{x:p},backend:n,attrs:{shape:w}});for(let e of(C.push(p),C))n.disposeIntermediateTensorInfo(e);return F}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let yo="return abs(x);",yl=bQ({opSnippet:b_+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`}),yp=bQ({opSnippet:b_+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`}),yd="return a + b;",yu=b1({opSnippet:yd,packedOpSnippet:yd,supportsComplex:!0,cpuKernelImpl:vF});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yh{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((e,t)=>`T${t}`);let a=[];this.variableNames.forEach(e=>{a.push(`float v${e} = get${e}AtOutCoords();`)});let r=this.variableNames.map(e=>`v${e}`).join(" + ");this.userCode=`
      void main() {
        ${a.join("\n        ")}

        float result = ${r};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yc{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((e,t)=>`T${t}`);let a=[];this.variableNames.forEach(e=>{a.push(`vec4 v${e} = get${e}AtOutCoords();`)});let r=this.variableNames.map(e=>`v${e}`).join(" + ");this.userCode=`
      void main() {
        ${a.join("\n        ")}

        vec4 result = ${r};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ym{constructor(e,t,a){this.variableNames=["A"];let{windowSize:r,batchSize:n,outSize:i}=e;a||this.variableNames.push("bestIndicesA"),this.outputShape=[n,i],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${r}; i++) {
          int inIdx = ${a?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));"};
          float candidate = getA(batch, inIdx);
          if (candidate ${"max"===t?">":"<"} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yf{constructor(e,t,a,r){let n,i;this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,S(e.length>2,()=>`Packed arg${a.charAt(0).toUpperCase()+a.slice(1)} supports only inputs with rank above 2.`);let s=Math.ceil(e[e.length-1]/t);this.outputShape=e.slice(0,-1),s>1&&this.outputShape.push(s),r||this.variableNames.push("bestIndicesA");let o=this.outputShape,l=o.length,p=vm(l),d=bx("coords",l);if(1===s){let e=vm(i=l+1);n=`
        ${e} sourceLocR = ${e}(${d.join()}, 0);
        ++${d[l-1]};
        ${e} sourceLocG = ${e}(${d.join()}, 0);
        ++${d[l-2]};
        ${e} sourceLocA = ${e}(${d.join()}, 0);
        --${d[l-1]};
        ${e} sourceLocB = ${e}(${d.join()}, 0);
        --${d[l-2]};`}else i=l,n=`
        ${p} sourceLocR = coords;
        ++${d[l-1]};
        ${p} sourceLocG = coords;
        ++${d[l-2]};
        ${p} sourceLocA = coords;
        --${d[l-1]};
        ${p} sourceLocB = coords;
        --${d[l-2]};`;let u=["x","y","z","w","u","v"].slice(0,i),h="."+u[i-1],c=u.map(e=>"int "+e),m=bx("sourceLocR",i-1).concat("inIdx.r"),f=bx("sourceLocG",i-1).concat("inIdx.g"),g=bx("sourceLocB",i-1).concat("inIdx.b"),v=bx("sourceLocA",i-1).concat("inIdx.a"),b=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),
                             getBestIndicesAChannel(${f.join()}),
                             getBestIndicesAChannel(${g.join()}),
                             getBestIndicesAChannel(${v.join()})));`,y=`vec4(
            getAChannel(${m.join()}),
            hasNextCol ? getAChannel(${f.join()}) : 0.,
            hasNextRow ? getAChannel(${g.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${v.join()}) : 0.)`,w=r?"":`
      float getBestIndicesAChannel(${c.join()}) {
        return getChannel(getBestIndicesA(${u.join()}),
                                          vec2(${u.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${c.join()}) {
        return getChannel(getA(${u.join()}),
                               vec2(${u.slice(-2).join()}));
      }
      ${w}
      void main() {
        ${p} coords = getOutputCoords();
        bool hasNextCol = ${d[l-1]} < ${o[l-1]-1};
        bool hasNextRow = ${d[l-2]} < ${o[l-2]-1};
        ${n}
        ivec4 srcIdx = ivec4(sourceLocR${h}, sourceLocG${h},
          sourceLocB${h}, sourceLocA${h}) * ${t};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${y};

        for (int i = 0; i < ${t}; i++) {
          inIdx = srcIdx;
          ${b}
          vec4 candidate = ${y};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${"max"===a?"greaterThan":"lessThan"}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}function yg(e,t,a,r){let n=[a];if(iQ("arg"+r.charAt(0).toUpperCase()+r.slice(1),n,t.shape.length),!et.getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){let a=[],i=e.texData.get(t.dataId),s=null!==i&&i.isPacked,o=t;s&&a.push(o=e.unpackTensor(t));let[l,p]=iJ(o.shape,n),d=b8({inputs:{x:o},backend:e,attrs:{shape:[-1,T(p)]}});a.push(d);let u=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e(t,a,r,n=null){let i=a.shape[0],s=a.shape[1];null!=n&&(i=n.shape[0],s=n.shape[1]);let o=oL(s),l=new ym({windowSize:o,inSize:s,batchSize:i,outSize:Math.ceil(s/o)},r,null==n),p=[a];null!=n&&p.push(n);let d=t.runWebGLProgram(l,p,"int32");if(1===d.shape[1])return d;let u=e(t,a,r,d);return t.disposeIntermediateTensorInfo(d),u}(e,d,r);a.push(u);let h=b8({inputs:{x:u},backend:e,attrs:{shape:l}});return a.forEach(t=>e.disposeIntermediateTensorInfo(t)),h}return function e(t,a,r,n=null){let i=null!=n?n.shape:a.shape,s=oL(i[i.length-1]),o=new yf(i,s,r,null==n),l=t.runWebGLProgram(o,null==n?[a]:[a,n],"int32");if(l.shape.length===a.shape.length){let n=e(t,a,r,l);return t.disposeIntermediateTensorInfo(l),n}return l}(e,t,r)}let yv=bQ({opSnippet:b_+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`}),yb=bQ({opSnippet:b_+"return log(x + sqrt(x * x + 1.0));"}),yy=bQ({opSnippet:b_+`
  return atan(x);
`}),yw=b1({opSnippet:bU+`
  return atan(a, b);
`,packedOpSnippet:`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+bW+`
  return result;
`}),yx=bQ({opSnippet:b_+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yN{constructor(e,t,a,r=!1,n=!1){if(this.variableNames=["x"],"avg"===t&&a)throw Error("Cannot compute positions for average pool.");let i=e.filterWidth,s=e.strideHeight,o=e.strideWidth,l=e.dilationHeight,p=e.dilationWidth,d=e.effectiveFilterHeight,u=e.effectiveFilterWidth,h=e.padInfo.top,c=e.padInfo.left;this.outputShape=e.outShape;let m="avg"===t,f=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`,v="0.0";if(m||(v="-1.0 / 1e-20"),a){this.userCode=`
        const ivec2 strides = ivec2(${s}, ${o});
        const ivec2 pads = ivec2(${h}, ${c});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${d};
              wR += ${l}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${u};
                wC += ${p}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${r?n?f:g:`wR * ${u} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let b=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(b="avgValue / max(count, 1.0)");let y=4*Math.floor(i/4),w=i%4,x=`
      if (${m}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${s}, ${o});
      const ivec2 pads = ivec2(${h}, ${c});
      const float initializationValue = ${v};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${v});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${d};
            wR += ${l}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${y}; wC += 4) {
            int xC = xCCorner + wC * ${p};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${p}, d),
              getValue(batch, xR, xC + 2 * ${p}, d),
              getValue(batch, xR, xC + 3 * ${p}, d)
            );

            ${x}
          }

          int xC = xCCorner + ${y};
          if (${1===w}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${x}
          } else if (${2===w}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${p}, d),
              initializationValue,
              initializationValue
            );

            ${x}
          } else if (${3===w}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${p}, d),
              getValue(batch, xR, xC + 2 * ${p}, d),
              initializationValue
            );

            ${x}
          }
        }
        setOutput(${b});
      }
    `}}class yk{constructor(e,t,a,r=!1,n=!1){if(this.variableNames=["x"],"avg"===t&&a)throw Error("Cannot compute positions for average pool.");let i=e.filterWidth,s=e.strideDepth,o=e.strideHeight,l=e.strideWidth,p=e.dilationDepth,d=e.dilationHeight,u=e.dilationWidth,h=e.effectiveFilterDepth,c=e.effectiveFilterHeight,m=e.effectiveFilterWidth,f=e.padInfo.front,g=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;let b="avg"===t,y="0.0";if(b||(y="-1.0 / 1e-20"),a){this.userCode=`
        const ivec3 strides =
            ivec3(${s}, ${o}, ${l});
        const ivec3 pads = ivec3(${f}, ${g}, ${v});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${h};
              wD += ${p}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${c};
                wR += ${d}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${m};
                  wC += ${u}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${r?n?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${c} * ${m} +
                      wR * ${m} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let w=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(w="avgValue / max(count, 1.0)");let x=4*Math.floor(i/4),N=i%4,k=`
      if (${b}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${s}, ${o}, ${l});
      const ivec3 pads = ivec3(${f}, ${g}, ${v});
      const float initializationValue = ${y};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${y});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${h};
            wD += ${p}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${c};
            wR += ${d}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${x}; wC += 4) {
              int xC = xCCorner + wC * ${u};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${u}, ch),
                getValue(batch, xD, xR, xC + 2 * ${u}, ch),
                getValue(batch, xD, xR, xC + 3 * ${u}, ch)
              );

              ${k}
            }

            int xC = xCCorner + ${x};
            if (${1===N}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${k}
            } else if (${2===N}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${u}, ch),
                initializationValue,
                initializationValue
              );

              ${k}
            } else if (${3===N}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${u}, ch),
                getValue(batch, xD, xR, xC + 2 * ${u}, ch),
                initializationValue
              );

              ${k}
            }
          }
        }
        setOutput(${w});
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yS{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;let t=e.filterHeight,a=e.filterWidth,r=e.strideHeight,n=e.strideWidth,i=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,p=o-1-e.padInfo.top,d=l-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${p}, ${d});
      const float avgMultiplier = float(${1/(t*a)});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${o};
            wR += ${i}) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${l};
            wC+= ${s}) {
            float dyC = float(dyCCorner + wC) / ${n}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class yI{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;let t=e.filterDepth,a=e.filterHeight,r=e.filterWidth,n=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,p=e.dilationWidth,d=e.effectiveFilterDepth,u=e.effectiveFilterHeight,h=e.effectiveFilterWidth,c=d-1-e.padInfo.front,m=u-1-e.padInfo.top,f=h-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${c}, ${m}, ${f});
      const float avgMultiplier = float(${1/(t*a*r)});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${o}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${l}) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${h};
                wC += ${p}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yC{constructor(e,t,a,r,n,i){this.outputShape=[],this.variableNames=["x","mean","variance"],nk(e,t),nk(e,a);let s="0.0";null!=r&&(nk(e,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let o="1.0";null!=n&&(nk(e,n),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${s};
        float scale = ${o};
        float inv = scale * inversesqrt(variance + float(${i}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yT{constructor(e,t,a,r,n,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],nk(e,t),nk(e,a);let s="vec4(0.0)";null!=r&&(nk(e,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let o="vec4(1.0)";null!=n&&(nk(e,n),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${s};
        vec4 scale = ${o};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${i}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yA{constructor(e){let t;this.variableNames=["source"],this.outputShape=e,this.rank=e.length;let a=vm(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let r=function(e){if(1===e)return"sourceLoc";if(e<=6)return y_.slice(0,e).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank),n=e.map((e,t)=>`sourceLoc.${y_[t]} = start[${t}] + coords.${y_[t]};`);t=`
        ${a} sourceLoc;
        ${a} coords = getOutputCoords();
        ${n.join("\n")}
      `,this.userCode=`
      void main() {
        ${t}
        setOutput(getSource(${r}));
      }
    `}}let y_=["x","y","z","w","u","v"];/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yE{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let t=vm(this.rank),a=bx("coords",this.rank),r=bx("sourceLoc",this.rank),n=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,i=`getChannel(getSource(${r.join()}), ${n})`,s=`
      result.x = ${i};
      if (++${a[this.rank-1]} < ${e[this.rank-1]}) {
        ++${r[this.rank-1]};
        result.y = ${i};
        --${r[this.rank-1]};
      }
    `,o=1===this.rank?"":`
      --${a[this.rank-1]};
      if (++${a[this.rank-2]} < ${e[this.rank-2]}) {
        ++${r[this.rank-2]};
        result.z = ${i};
        if (++${a[this.rank-1]} < ${e[this.rank-1]}) {
          ++${r[this.rank-1]};
          result.w = ${i};
        }
      }
    `,l=this.rank<=4?`sourceLoc = coords +
            ${t}(${e.map((e,t)=>`start[${t}]`).join()});`:e.map((e,t)=>`${r[t]} = ${a[t]} + start[${t}];`).join("\n");this.userCode=`
      void main() {
        ${t} coords = getOutputCoords();
        ${t} sourceLoc;
        ${l}
        vec4 result = vec4(0.);
        ${s}
        ${o}
        setOutput(result);
      }
    `}}function y$(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{begin:i,size:s}=r,[o,l]=nY(n,i,s);if(nP(n,o,l),0===T(l))return a.makeTensorInfo(l,n.dtype,[]);if(a.shouldExecuteOnCPU([n])||"string"===n.dtype){let e=bi(a.texData.get(n.dataId).values,o,l,n.shape,n.dtype);return a.makeTensorInfo(l,n.dtype,e)}let{isPacked:p}=a.texData.get(n.dataId),d=nK(n.shape,o,l);if(p||!d){let e=et.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new yE(l):new yA(l),t=[o];return a.runWebGLProgram(e,[n],n.dtype,t)}return a.uploadToGPU(n.dataId),/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r){let n=r.texData.get(e.dataId),i=r.makeTensorInfo(a,e.dtype),s=r.texData.get(i.dataId);Object.assign(s,n),s.refCount=1,s.shape=a,s.dtype=e.dtype;let o=nX(t,j(e.shape));n.slice&&(o+=n.slice.flatOffset),s.slice={flatOffset:o,origDataId:n.slice&&n.slice.origDataId||e.dataId};let l=r.dataRefCount.get(s.slice.origDataId)||1;return r.dataRefCount.set(s.slice.origDataId,l+1),i}(n,o,l,a)}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let yR=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,yL=`
  return float(int(a.r) & int(b.r));
`,yD=b1({opSnippet:"return float(a != b);",cpuKernelImpl:v3,dtype:"bool"});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yF(e){let{inputs:t,backend:a}=e,{input:r}=t;return bG({inputs:{x:a.texData.get(r.dataId).complexTensorInfos.real},backend:a})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let yO="return ceil(x);",yP=bQ({opSnippet:yO,packedOpSnippet:yO,cpuKernelImpl:vz});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yM{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yB{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yz{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yV(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yU{constructor(e){this.outputShape=[],this.outputShape=oT(e,1),this.variableNames=e.map((e,t)=>`T${t}`);let t=Array(e.length-1);t[0]=e[0][1];for(let a=1;a<t.length;a++)t[a]=t[a-1]+e[a][1];let a=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let e=1;e<t.length;e++){let r=t[e-1];a.push(`else if (yC < ${t[e]}) setOutput(getT${e}(yR, yC-${r}));`)}let r=t.length,n=t[t.length-1];a.push(`else setOutput(getT${r}(yR, yC-${n}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${a.join("\n        ")}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yj{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=oT(e,t);let a=this.outputShape,r=a.length,n=vm(r),i=bx("coords",r),s=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((e,t)=>`T${t}`);let o=Array(e.length-1);o[0]=e[0][t];for(let a=1;a<o.length;a++)o[a]=o[a-1]+e[a][t];let l=s[t],p=s.slice(-2),d=s.join(),u=`if (${l} < ${o[0]}) {
        return getChannel(
            getT0(${d}), vec2(${p.join()}));
        }`;for(let e=1;e<o.length;e++){let t=o[e-1];u+=`
        if (${l} < ${o[e]}  && ${l} >= ${o[e-1]}) {
          return getChannel(
            getT${e}(${yW(s,l,t)}),
            vec2(${yW(p,l,t)}));
        }`}let h=o.length,c=o[o.length-1];u+=`
        return getChannel(
          getT${h}(${yW(s,l,c)}),
          vec2(${yW(p,l,c)}));`,this.userCode=`
      float getValue(${s.map(e=>"int "+e)}) {
        ${u}
      }

      void main() {
        ${n} coords = getOutputCoords();
        vec4 result = vec4(getValue(${i}), 0., 0., 0.);

        ${i[r-1]} = ${i[r-1]} + 1;
        if (${i[r-1]} < ${a[r-1]}) {
          result.g = getValue(${i});
        }

        ${i[r-2]} = ${i[r-2]} + 1;
        if (${i[r-2]} < ${a[r-2]}) {
          result.a = getValue(${i});
        }

        ${i[r-1]} = ${i[r-1]} - 1;
        if (${i[r-2]} < ${a[r-2]} &&
            ${i[r-1]} < ${a[r-1]}) {
          result.b = getValue(${i});
        }
        setOutput(result);
      }
    `}}function yW(e,t,a){let r=e.indexOf(t);return e.map((e,t)=>t===r?`${e} - ${a}`:e).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yq(e){let{inputs:t,backend:a}=e,{input:r}=t;return bG({inputs:{x:a.texData.get(r.dataId).complexTensorInfos.imag},backend:a})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yG(e){let{inputs:t,backend:a,attrs:r}=e,{axis:n}=r,i=L(n,t[0].shape)[0];oC(t.map(e=>e.shape),i);let s=oT(t.map(e=>e.shape),i);if(0===T(s))return a.makeTensorInfo(s,t[0].dtype,[]);let o=t.filter(e=>T(e.shape)>0);return 1===o.length?bG({inputs:{x:o[0]},backend:a}):/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e(t,a,r){let n=t[0].dtype;if("complex64"===n){let n=t.map(e=>yF({inputs:{input:e},backend:r})),i=t.map(e=>yq({inputs:{input:e},backend:r})),s=e(n,a,r),o=e(i,a,r),l=bH({inputs:{real:s,imag:o},backend:r});return n.forEach(e=>r.disposeIntermediateTensorInfo(e)),i.forEach(e=>r.disposeIntermediateTensorInfo(e)),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(o),l}let i=r.shouldExecuteOnCPU(t);if("string"===n&&(i=!0),i){let e=t.map(e=>{let t=T(e.shape.slice(a));return b8({inputs:{x:e},backend:r,attrs:{shape:[-1,t]}})}),i=vV(e.map(e=>({vals:r.readSync(e.dataId),shape:e.shape})),oT(e.map(e=>e.shape),1),n,1===e[0].shape[0]),s=oT(t.map(e=>e.shape),a),o=r.makeTensorInfo(s,n,i);return e.forEach(e=>r.disposeIntermediateTensorInfo(e)),o}let s=t.filter(e=>T(e.shape)>0),o=et.getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&s[0].shape.length>1;if(1===s.length){let e=o?new bA(t[0].shape,bL):new bP(t[0].shape,bL);return r.runWebGLProgram(e,t,n)}let l=et.getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(s.length>l){let t=[];for(let n=0;n<s.length;n+=l){let i=s.slice(n,n+l);t.push(e(i,a,r))}let n=e(t,a,r);for(let e of t)r.disposeIntermediateTensorInfo(e);return n}if(o){let e=new yj(s.map(e=>e.shape),a);return r.runWebGLProgram(e,s,n)}let{tensors2D:p,outShape:d}=function(e,t,a){let r=oT(e.map(e=>e.shape),t);return{tensors2D:e.map(e=>b8({inputs:{x:e},attrs:{shape:[-1,T(e.shape.slice(t))]},backend:a})),outShape:r}}(s,a,r),u=new yU(p.map(e=>e.shape)),h=r.runWebGLProgram(u,p,n);p.forEach(e=>r.disposeIntermediateTensorInfo(e));let c=b8({inputs:{x:h},attrs:{shape:d},backend:r});return r.disposeIntermediateTensorInfo(h),c}(o,i,a)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yH{constructor(e,t=!1,a=null,r=!1,n=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;let i=e.padInfo.top,s=e.padInfo.left,o=e.strideHeight,l=e.strideWidth,p=e.dilationHeight,d=e.dilationWidth,u=e.filterHeight,h=e.filterWidth,c=4*Math.floor(e.inChannels/4),m=e.inChannels%4,f="channelsLast"===e.dataFormat,g="",v="";a&&(g=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:n?`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:`
          float activation(float x) {
            ${a}
          }
        `,v="result = activation(result);"),t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),n&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${g}

      const ivec2 strides = ivec2(${o}, ${l});
      const ivec2 pads = ivec2(${i}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${f?3:1}];

        ivec2 xRCCorner =
            ivec2(coords[${f?1:2}], coords[${f?2:3}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${u}; wR++) {
          int xR = xRCorner + wR * ${p};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${h}; wC++) {
            int xC = xCCorner + wC * ${d};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${c}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${f}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${1===m}) {

              if (${f}) {
                dotProd +=
                    getX(batch, xR, xC, ${c}) *
                    getW(wR, wC, ${c}, d2);
              } else {
                dotProd +=
                    getX(batch, ${c}, xR, xC) *
                    getW(wR, wC, ${c}, d2);
              }

            } else if (${2===m}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${c}, d2),
                getW(wR, wC, ${c} + 1, d2)
              );

              if (${f}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${c}),
                  getX(batch, xR, xC, ${c} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${c}, xR, xC),
                  getX(batch, ${c} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${3===m}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${c}, d2),
                getW(wR, wC, ${c} + 1, d2),
                getW(wR, wC, ${c} + 2, d2)
              );

              if (${f}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${c}),
                  getX(batch, xR, xC, ${c} + 1),
                  getX(batch, xR, xC, ${c} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${c}, xR, xC),
                  getX(batch, ${c} + 1, xR, xC),
                  getX(batch, ${c} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${t?"result += getBiasAtOutCoords();":""}
        ${v}
        setOutput(result);
      }
    `}}class yK{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;let t=e.padInfo.front,a=e.padInfo.top,r=e.padInfo.left,n=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,p=e.dilationWidth,d=e.filterDepth,u=e.filterHeight,h=e.filterWidth,c=4*Math.floor(e.inChannels/4),m=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${n}, ${i}, ${s});
      const ivec3 pads = ivec3(${t}, ${a}, ${r});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${d}; wF++) {
          int xF = xFCorner + wF * ${o};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${u}; wR++) {
            int xR = xRCorner + wR * ${l};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h}; wC++) {
              int xC = xCCorner + wC * ${p};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${c}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${1===m}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${c}) *
                  getW(wF, wR, wC, ${c}, d2);
              } else if (${2===m}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${c}),
                  getX(batch, xF, xR, xC, ${c} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${c}, d2),
                  getW(wF, wR, wC, ${c} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${3===m}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${c}),
                  getX(batch, xF, xR, xC, ${c} + 1),
                  getX(batch, xF, xR, xC, ${c} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${c}, d2),
                  getW(wF, wR, wC, ${c} + 1, d2),
                  getW(wF, wR, wC, ${c} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yX{constructor(e,t=!1,a=null,r=!1,n=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=vw(this.outputShape.length);let i=e.padInfo.left,s=e.strideWidth,o=e.dilationWidth,l=e.filterHeight,p=e.filterWidth,d=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let e=0;e<p;e++)d+=`
           vec4 xTexelC${2*e};
           int xTexelC${2*e}Ready;
           vec4 xTexelC${2*e+1};
           int xTexelC${2*e+1}Ready;
           vec4 xC${e};`;d+=`
     for (int r = 0; r < ${l}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let e=0;e<p;e++)d+=`
           xTexelC${2*e} = vec4(0.0);
           xTexelC${2*e}Ready = 0;
           xTexelC${2*e+1} = vec4(0.0);
           xTexelC${2*e+1}Ready = 0;
           xC${e} = vec4(0.0);`;d+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let t=0;t<(p+1)/2;t++){let a=2*t;if(d+=`
           xC = xCCorner + ${a*o};
           `,1===s){if(a<p&&(i%2==1?(d+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${a}Ready == 0) {
                   xTexelC${a} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${a}.zw = vec2(0.0);
                   }
                   xTexelC${a}Ready = 1;
                 }
               `,1===o&&a>0?d+=`
                 xC${a} = vec4(xTexelC${a-2}.zw, xTexelC${a}.xy);
                 `:d+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${a} = vec4(previous.zw, xTexelC${a}.xy);
                   } else {
                     xC${a} = vec4(0.0, 0.0, xTexelC${a}.xy);
                   }
                   `):d+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${a}Ready == 0) {
                   xTexelC${a} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${a}.zw = vec2(0.0);
                   }
                   xTexelC${a}Ready = 1;
                 }

                 xC${a} = xTexelC${a};
                 `,a+1<p)){let e=i%2==0?N(o):o;o%2==0&&i%2==1||o%2!=0&&i%2!=1?(d+=`
                   xCOffset = xC + imod(pads[1], 2) + ${e};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${a+1}Ready == 0) {
                     xTexelC${a+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${a+1}.zw = vec2(0.0);
                     }
                     xTexelC${a+1}Ready = 1;
                   }
                   `,o>1?d+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${a+1} = vec4(previous.zw, xTexelC${a+1}.xy);
                     } else {
                      xC${a+1} = vec4(0.0, 0.0, xTexelC${a+1}.xy);
                     }
                     `:d+=`
                     xC${a+1} = vec4(xTexelC${a}.zw, xTexelC${a+1}.xy);
                     `):1===e?d+=`
                     xC${a+1} = xTexelC${a};
                     `:d+=`
                     xCOffset = xC + ${e};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${a+1}Ready == 0) {
                       xTexelC${a+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${a+1}.zw = vec2(0.0);
                       }
                       xTexelC${a+1}Ready = 1;
                     }

                     xC${a+1} = xTexelC${a+1};
                     `}}else a<p&&(i%2==1?(d+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${a}Ready == 0) {
                   xTexelC${a} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${a}.zw = vec2(0.0);
                   }
                   xTexelC${a}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${a+1}Ready == 0) {
                   xTexelC${a+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${a+1}.zw = vec2(0.0);
                   }
                   xTexelC${a+1}Ready = 1;
                 }

                 xC${a} = vec4(xTexelC${a}.zw, xTexelC${a+1}.zw);
               `,a+1<p&&(d+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${a+1} = vec4(xTexelC${a+1}.xy, final.xy);
                 `)):(d+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${a}Ready == 0) {
                   xTexelC${a} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${a}.zw = vec2(0.0);
                   }
                   xTexelC${a}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${a+1}Ready == 0) {
                   xTexelC${a+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${a+1}.zw = vec2(0.);
                   }
                   xTexelC${a+1}Ready = 1;
                 }

                 xC${a} = vec4(
                   xTexelC${a}.xy, xTexelC${a+1}.xy);
               `,a+1<p&&(d+=`
                   xC${a+1} = vec4(xTexelC${a}.zw, xTexelC${a+1}.zw);
                 `)));a<p&&(d+=`
             wTexel = getW(r, ${a}, d1, d2);
             dotProd += xC${a}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${a}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,a+1<p&&(d+=`
               wTexel = getW(r, ${a+1}, d1, d2);
               dotProd += xC${a+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${a+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}d+=`
     }
   
     }
   
     }
   `;let u="",h="";a&&(u=r?`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${a}
         }`:n?`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${a}
         }`:`vec4 activation(vec4 x) {
           ${a}
         }`,h="result = activation(result);"),t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),n&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${u}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${d}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${t?"result += getBiasAtOutCoords();":""}
         ${h}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yY{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=vw(this.outputShape.length);let{dataFormat:a}=t,r=ve(),n="channelsLast"===a,i=n?1:2,s=n?2:3,o=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`,l="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)l+=`
          blockIndex = rc.z + ${t};
          pos = rc.y + ${e};

          ${o}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${i}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${s}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${n}) {
                  innerDims = vec2(d1, ch);
                  result[${2*e+t}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${2*e+t}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${l}

        ${r.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yJ(e,t){let a=e.length;return a>=3?t?[...e.slice(0,-3),e[a-3]*e[a-2],e[a-1]]:[...e.slice(0,-3),e[a-3],e[a-2]*e[a-1]]:!t&&1===a&&e[0]>1?[e[0],1]:null}function yZ({x:e,filter:t,convInfo:a,backend:r,bias:n=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:o=null}){let l;let p=e.shape,d=r.texData.get(e.dataId),u=a.inChannels,h=p[0]*p[1]*p[2],c=a.outChannels,m="channelsLast"===a.dataFormat,f=[];if(null!=i){let e=yJ(i.shape,m);null!=e&&(i=b8({inputs:{x:i},backend:r,attrs:{shape:e}}),f.push(i))}if(null!=n){let e=yJ(n.shape,m);null!=e&&(n=b8({inputs:{x:n},backend:r,attrs:{shape:e}}),f.push(n))}if(!((1===h||1===c)&&u>1e3)&&d.isPacked&&m&&null!=d.texture&&p[2]%2!=0&&A(d.shape.slice(-3),p.slice(-3))){let u=p[0]*p[1]*(p[2]+1),h={dataId:e.dataId,shape:[1,u,a.inChannels],dtype:e.dtype},c=d.shape;d.shape=d.shape.slice(),d.shape[d.shape.length-2]++,S(g4(d.shape,h.shape),()=>`packed reshape ${d.shape} to ${h.shape} isn't free`);let m=b8({inputs:{x:t},backend:r,attrs:{shape:[1,a.inChannels,a.outChannels]}});f.push(m);let g=ys({a:h,b:m,backend:r,transposeA:!1,transposeB:!1,bias:n,activation:o,preluActivationWeights:i,leakyreluAlpha:s}),v=r.texData.get(g.dataId);S(v.isPacked,()=>"batchMatMul result is expected to be packed"),d.shape=c,v.shape=a.outShape,(l=bG({inputs:{x:g},backend:r})).shape=a.outShape,f.push(g)}else{let p=a.outHeight*a.outWidth,d=b8({inputs:{x:e},backend:r,attrs:{shape:m?[a.batchSize,p,a.inChannels]:[a.batchSize,a.inChannels,p]}}),u=b8({inputs:{x:t},backend:r,attrs:{shape:[1,a.inChannels,a.outChannels]}}),h=ys({a:m?d:u,b:m?u:d,transposeA:!m,transposeB:!1,backend:r,bias:n,activation:o,preluActivationWeights:i,leakyreluAlpha:s});l=b8({inputs:{x:h},backend:r,attrs:{shape:a.outShape}}),f.push(d),f.push(u),f.push(h)}for(let e of f)r.disposeIntermediateTensorInfo(e);return l}function yQ({x:e,filter:t,convInfo:a,backend:r,bias:n=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:o=null}){let{filterWidth:l,filterHeight:p,inChannels:d,outWidth:u,outHeight:h,dataFormat:c}=a,m="channelsLast"===c,f=l*p*d,g=h*u,v=[a.batchSize,f,g],b=[];if(null!=i){let e=yJ(i.shape,m);null!=e&&(i=b8({inputs:{x:i},backend:r,attrs:{shape:e}}),b.push(i))}if(null!=n){let e=yJ(n.shape,m);null!=e&&(n=b8({inputs:{x:n},backend:r,attrs:{shape:e}}),b.push(n))}let y=b8({inputs:{x:t},backend:r,attrs:{shape:[1,f,T(t.shape)/f]}});b.push(y);let w=new yY(v,a),x=[e.shape,[a.padInfo.top,a.padInfo.left],[a.strideHeight,a.strideWidth],[a.dilationHeight,a.dilationWidth],[a.inChannels],[a.filterWidth*a.inChannels],[a.outWidth]],N=r.runWebGLProgram(w,[e],"float32",x),k=b8({inputs:{x:N},backend:r,attrs:{shape:v}});b.push(N),b.push(k);let S=null!=n,I=null!=i,C="leakyrelu"===o,A=o?b2(o,!0):null,_=new b0(m?k.shape:y.shape,m?y.shape:k.shape,m?[a.batchSize,g,a.outChannels]:[a.batchSize,a.outChannels,g],!0,!1,S,A,I,C),E=m?[k,y]:[y,k];if(n&&E.push(n),I&&E.push(i),C){let e=r.makeTensorInfo([],"float32",aH(s,"float32"));E.push(e),b.push(e)}let $=r.runWebGLProgram(_,E,"float32"),R=b8({inputs:{x:$},backend:r,attrs:{shape:a.outShape}});for(let e of(b.push($),b))r.disposeIntermediateTensorInfo(e);return R}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class y1{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideHeight,a=e.strideWidth,r=e.padInfo.top,n=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${t} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${a} - ${n};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${i?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class y2{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterHeight,a=e.filterWidth,r=e.strideHeight,n=e.strideWidth,i="channelsLast"===e.dataFormat,s=t-1-e.padInfo.top,o=a-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${i?3:1}];

        ivec2 dyCorner = ivec2(coords[${i?1:2}], coords[${i?2:3}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${a}; wC++) {
            float dyC = float(dyCCorner + wC) / ${n}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${a} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${i}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class y0{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideDepth,a=e.strideHeight,r=e.strideWidth,n=e.padInfo.front,i=e.padInfo.top,s=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${t} - ${n};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${a} - ${i};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${r} - ${s};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class y5{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterDepth,a=e.filterHeight,r=e.filterWidth,n=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=t-1-e.padInfo.front,l=a-1-e.padInfo.top,p=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${o}, ${l}, ${p});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${t}; wF++) {
          float dyF = float(dyFCorner + wF) / ${n}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${t} - 1 - wF;

          for (int wR = 0; wR < ${a}; wR++) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${a} - 1 - wR;

            for (int wC = 0; wC < ${r}; wC++) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${r} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class y4{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=vw(this.outputShape.length);let t=e.filterHeight,a=e.filterWidth,r=t-1-e.padInfo.top,n=a-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${r}, ${n});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${a}; wC++) {
            int wCPerm = ${a} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}let y3=bQ({opSnippet:bZ+`
  return cos(x);
`,packedOpSnippet:`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${bW}
  return result;
`}),y6=bQ({opSnippet:`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class y8{constructor(e,t,a,r,n){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];let[i,s,o,l]=e,[p]=t,[d,u]=a;this.outputShape=[p,d,u,l];let[h,c]=[`${s-1}.0`,`${o-1}.0`],[m,f,g]=d>1?[`${(s-1)/(d-1)}`,"(y2-y1) * height_ratio",`y1*${h} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${h}`],[v,b,y]=u>1?[`${(o-1)/(u-1)}`,"(x2-x1) * width_ratio",`x1*${c} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${c}`];this.userCode=`
      const float height_ratio = float(${m});
      const float width_ratio = float(${v});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${i}) {
          return;
        }

        float height_scale = ${f};
        float width_scale = ${b};

        float in_y = ${g};
        if( in_y < 0.0 || in_y > ${h} ) {
          setOutput(float(${n}));
          return;
        }
        float in_x = ${y};
        if( in_x < 0.0 || in_x > ${c} ) {
          setOutput(float(${n}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${"bilinear"===r?1:0} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}!function(e){e.Prod="*",e.Sum="+"}(N7||(N7={}));class y9{constructor(e,t,a,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];let n=this.outputShape.length,i=this.op===N7.Prod?"1.0":"0.0",s=a?i:`getX(${y7(n,"coords",this.op)})`,o=this.outputShape[this.outputShape.length-1],l="",p="";a?(l=r?`end != ${o-1}`:"end != 0",p=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${o}`:"end >= pow2",p=r?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${vm(n)} coords = getOutputCoords();
        int end = ${we(n,"coords",this.op)};
        float val = ${s};
        int pow2 = int(pow(2.0, index));
        if (${l}) {
          int idx = ${p};
          ${we(n,"coords",this.op)} = idx;
          val ${this.op}= getX(${y7(n,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function y7(e,t,a){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative ${a} for rank ${e} is not yet supported`)}function we(e,t,a){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw Error(`Cumulative ${a} for rank ${e} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wt(e,t,a,r,n,i){let s=t.shape.length,o=i1([r],s),l=t;null!=o&&(l=yi({inputs:{x:t},backend:a,attrs:{perm:o}}));let p=i0(1,s)[0];if(p!==s-1)throw Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);let d=l.shape[p],u=bG({inputs:{x:l},backend:a});for(let t=0;t<=Math.ceil(Math.log2(d))-1;t++){let r=new y9(e,l.shape,!1,i),n=[[t]],s=u;u=a.runWebGLProgram(r,[u],u.dtype,n),a.disposeIntermediateTensorInfo(s)}if(n){let t=new y9(e,l.shape,n,i),r=u;u=a.runWebGLProgram(t,[u],u.dtype),a.disposeIntermediateTensorInfo(r)}if(null!=o){let e=yi({inputs:{x:u},backend:a,attrs:{perm:i2(o)}});return a.disposeIntermediateTensorInfo(u),a.disposeIntermediateTensorInfo(l),e}return u}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wa{constructor(e,t,a){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=a,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${t};
      int offset_h = imod(h, ${t});
      int in_w = w / ${t};
      int offset_w = imod(w, ${t});
      int offset_d = (offset_h * ${t} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wr{constructor(e,t=!1,a=null,r=!1,n=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=vw(this.outputShape.length);let i=e.filterHeight,s=e.filterWidth,o=e.outChannels/e.inChannels,l="",p="";a&&(l=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:n?`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:`
          float activation(float x) {
            ${a}
          }
        `,p="result = activation(result);"),t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),n&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${l}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${o};
        int q = d2 - d1 * ${o};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${i}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${s}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${t?"result += getBiasAtOutCoords();":""}
        ${p}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wn{constructor(e,t=!1,a=null,r=!1,n=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=vw(this.outputShape.length);let i=e.outChannels/e.inChannels,s=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,p=e.filterHeight,d=e.filterWidth,u=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let e=0;e<d;e++)u+=`
          vec4 xTexelC${2*e};
          int xTexelC${2*e}Ready;
          vec4 xTexelC${2*e+1};
          int xTexelC${2*e+1}Ready;
          vec4 xC${e};`;u+=`
    for (int r = 0; r < ${p}; r++) {
      `;for(let e=0;e<d;e++)u+=`
          xTexelC${2*e} = vec4(0.0);
          xTexelC${2*e}Ready = 0;
          xTexelC${2*e+1} = vec4(0.0);
          xTexelC${2*e+1}Ready = 0;
          xC${e} = vec4(0.0);`;u+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let e=0;e<(d+1)/2;e++){let t=2*e;if(u+=`
          xC = xCCorner + ${t*l};
          `,1===o){if(t<d&&(s%2==1?(u+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {
                  xTexelC${t} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${t}.zw = vec2(0.0);
                  }
                  xTexelC${t}Ready = 1;
                }
              `,1===l&&t>0?u+=`
                xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);
                `:u+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${t} = vec4(previous.zw, xTexelC${t}.xy);
                  } else {
                    xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);
                  }
                  `):u+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {
                  xTexelC${t} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${t}.zw = vec2(0.0);
                  }
                  xTexelC${t}Ready = 1;
                }

                xC${t} = xTexelC${t};
                `,t+1<d)){let e=s%2==0?N(l):l;l%2==0&&s%2==1||l%2!=0&&s%2!=1?(u+=`
                  xCOffset = xC + imod(pads[1], 2) + ${e};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {
                    xTexelC${t+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${t+1}.zw = vec2(0.0);
                    }
                    xTexelC${t+1}Ready = 1;
                  }
                  `,l>1?u+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${t+1} = vec4(previous.zw, xTexelC${t+1}.xy);
                    } else {
                     xC${t+1} = vec4(0.0, 0.0, xTexelC${t+1}.xy);
                    }
                    `:u+=`
                    xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);
                    `):1===e?u+=`
                    xC${t+1} = xTexelC${t};
                    `:u+=`
                    xCOffset = xC + ${e};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {
                      xTexelC${t+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${t+1}.zw = vec2(0.0);
                      }
                      xTexelC${t+1}Ready = 1;
                    }

                    xC${t+1} = xTexelC${t+1};
                    `}}else t<d&&(s%2==1?(u+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {
                  xTexelC${t} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${t}.zw = vec2(0.0);
                  }
                  xTexelC${t}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {
                  xTexelC${t+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${t+1}.zw = vec2(0.0);
                  }
                  xTexelC${t+1}Ready = 1;
                }

                xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);
              `,t+1<d&&(u+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);
                `)):(u+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {
                  xTexelC${t} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${t}.zw = vec2(0.0);
                  }
                  xTexelC${t}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {
                  xTexelC${t+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${t+1}.zw = vec2(0.);
                  }
                  xTexelC${t+1}Ready = 1;
                }

                xC${t} = vec4(
                  xTexelC${t}.xy, xTexelC${t+1}.xy);
              `,t+1<d&&(u+=`
                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);
                `)));t<d&&(u+=`
            wTexel = getW(r, ${t}, d1, q);
            dotProd += xC${t} * vec4(wTexel.xz, wTexel.xz);
          `,t+1<d&&(u+=`
              wTexel = getW(r, ${t+1}, d1, q);
              dotProd += xC${t+1} * vec4(wTexel.xz, wTexel.xz);
            `))}u+=`
    }
  
      }
    `;let h="",c="";a&&(h=r?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:n?`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:`vec4 activation(vec4 x) {
          ${a}
        }`,c="result = activation(result);"),t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),n&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${h}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${i};
        int q = d2 - d1 * ${i};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${u}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${t?"result += getBiasAtOutCoords();":""}
        ${c}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wi{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideHeight,a=e.strideWidth,r=e.padInfo.top,n=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${i} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${t} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${a} - ${n};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class ws{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterHeight,a=e.filterWidth,r=e.strideHeight,n=e.strideWidth,i=t-1-e.padInfo.top,s=a-1-e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${a}; wC++) {
            float dyC = float(dyCCorner + wC) / ${n}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${a} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${o}; dm++) {
              int d2 = d1 * ${o} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wo{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wl{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;let{inHeight:t,inWidth:a,padInfo:r,strideHeight:n,strideWidth:i,filterHeight:s,filterWidth:o,dilationHeight:l,dilationWidth:p}=e,{top:d,left:u}=r;this.userCode=`
      const ivec2 strides = ivec2(${n}, ${i});
      const ivec2 pads = ivec2(${d}, ${u});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${s}; h++) {
          int hIn = hBeg + h * ${l};

          if (hIn >= 0 && hIn < ${t}) {
            for (int w = 0; w < ${o}; w++) {
              int wIn = wBeg + w * ${p};

              if (wIn >= 0 && wIn < ${a}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}let wp=bQ({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`}),wd=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,wu=b1({opSnippet:"return float(a == b);",packedOpSnippet:`
  return vec4(equal(a, b));
`,dtype:"bool",cpuKernelImpl:vU}),wh=bQ({opSnippet:`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${oG};
  float a1 = ${oH};
  float a2 = ${oK};
  float a3 = ${oX};
  float a4 = ${oY};
  float a5 = ${oJ};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`}),wc=bQ({opSnippet:bZ+`
  return exp(x);
`,packedOpSnippet:`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,cpuKernelImpl:vj,dtype:"float32"});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wm(e){let{inputs:t,attrs:a,backend:r}=e,{dim:n}=a,{input:i}=t,s=i.shape.length,o=i.shape.slice(),l=n;return n<0&&(S(-(s+1)<=n,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),l=s+n+1),o.splice(l,0,1),b8({inputs:{x:i},backend:r,attrs:{shape:o}})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let wf="return exp(x) - 1.0;",wg=bQ({opSnippet:wf,packedOpSnippet:wf,cpuKernelImpl:vW});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wv{constructor(e,t,a){let r;this.variableNames=["real","imag"];let n=t[1];this.outputShape=t;let i=a?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,s=a?`${n}.0`:"1.0";if("real"===e)r="return real * expR - imag * expI;";else if("imag"===e)r="return real * expI + imag * expR;";else throw Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${r}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${n});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${n}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${s};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wb(e,t,a){let r=a.texData.get(e.dataId),n=T(e.shape),i=e.shape[e.shape.length-1],s=b8({inputs:{x:e},backend:a,attrs:{shape:[n/i,i]}}),o=s.shape,l=new wv("real",o,t),p=new wv("imag",o,t),d=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:o},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:o}],u=a.runWebGLProgram(l,d,"float32"),h=a.runWebGLProgram(p,d,"float32"),c=bH({inputs:{real:u,imag:h},backend:a});a.disposeIntermediateTensorInfo(u),a.disposeIntermediateTensorInfo(h);let m=b8({inputs:{x:c},backend:a,attrs:{shape:e.shape}});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(c),m}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wy{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ww(e){let{backend:t,attrs:a}=e,{shape:r,value:n}=a,{dtype:i}=a;if("string"===(i=i||z(n))){let e=F(i,T(r));return e.fill(n),t.makeTensorInfo(r,i,e)}{let e=new wy(r,n),a=[[n]];return t.runWebGLProgram(e,[],i,a)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wx{constructor(e){this.variableNames=["Image"],this.outputShape=[];let t=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${t} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${t}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let wN="return floor(x);",wk=bQ({opSnippet:wN,packedOpSnippet:wN,cpuKernelImpl:vq}),wS=b1({opSnippet:`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,packedOpSnippet:`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,dtype:"int32"});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wI{constructor(e){this.variableNames=["A"];let t=ve(),[a,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${a}.0);

        vec4 values = ${t.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wC{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;let t=ve(),[a,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${r}.0, ${a}.0);
            vec4 values = ${t.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${t.output} = result;
      }
    `}}let wT=et.getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");class wA{constructor(e,t,a,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=a;let n=vm(a.length),i=`
    int index;`;for(let e=0;e<this.sliceDim;e++)i+=`
          index = round(getIndices(coords[0], ${e}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[e]};
          flattenIndex += index * ${this.strides[e]};`;this.userCode=`
         void main() {
          ${n} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${i}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class w_{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;let a=vm(this.rank),r=function(e,t){let a=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let t=0;t<e.length;t++)2===t?r.push("index"):r.push(`${a[t]}`);return r.join()}(e,0);this.userCode=`
      void main() {
        ${a} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${r}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wE(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,indices:i}=t,{axis:s,batchDims:o}=r,l=L(s,n.shape)[0];if(et.get("DEBUG")){let e=a.readSync(i.dataId),t=n.shape[l];for(let a=0;a<e.length;++a){let r=e[a];S(r<=t-1&&r>=0,()=>`GatherV2: the index value ${r} is not in [0, ${t-1}]`)}}let p=lv(n,i,l,o),d=T(i.shape),u=[],h=b8({inputs:{x:n},backend:a,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),c=b8({inputs:{x:i},backend:a,attrs:{shape:[p.batchSize,d/p.batchSize]}});u.push(h),u.push(c);let m=[p.batchSize,p.outerSize,d/p.batchSize,p.sliceSize];if(a.shouldExecuteOnCPU([n,i])||"string"===n.dtype){let e=a.bufferSync(c),t=vH(a.bufferSync(h),e,m);return u.forEach(e=>a.disposeIntermediateTensorInfo(e)),a.makeTensorInfo(p.outputShape,t.dtype,t.values)}let f=new w_(h.shape,m),g=a.runWebGLProgram(f,[h,c],h.dtype);u.push(g);let v=b8({inputs:{x:g},backend:a,attrs:{shape:p.outputShape}});return u.forEach(e=>a.disposeIntermediateTensorInfo(e)),v}let w$=b1({opSnippet:"return float(a > b);",packedOpSnippet:`
  return vec4(greaterThan(a, b));
`,cpuKernelImpl:vK,dtype:"bool"}),wR=b1({opSnippet:"return float(a >= b);",packedOpSnippet:`
  return vec4(greaterThanEqual(a, b));
`,dtype:"bool",cpuKernelImpl:vX}),wL=bQ({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),wD=bQ({opSnippet:"return float(isinf(x));",dtype:"bool"}),wF=bQ({opSnippet:"return float(isnan(x));",dtype:"bool"}),wO=b1({opSnippet:"return float(a < b);",packedOpSnippet:`
  return vec4(lessThan(a, b));
`,cpuKernelImpl:vY,dtype:"bool"}),wP=b1({opSnippet:"return float(a <= b);",packedOpSnippet:`
  return vec4(lessThanEqual(a, b));
`,cpuKernelImpl:vJ,dtype:"bool"}),wM=bQ({opSnippet:bZ+`
  return x < 0.0 ? 0./0. : log(x);
`,packedOpSnippet:`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,cpuKernelImpl:vQ}),wB=bQ({opSnippet:bZ+`
  return log(1.0 + x);
`}),wz=b1({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,dtype:"bool"}),wV=bQ({opSnippet:"return float(!(x >= 1.0));"}),wU=b1({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,dtype:"bool"});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wj{constructor(e,t,a,r,n){let i;this.variableNames=["x"],this.outputShape=[];let s=e[3]-1;this.outputShape=e;let o=`float(${a}) + float(${r}) * sum`;i=.5===n?`inversesqrt(${o})`:1===n?`1.0/(${o})`:`exp(log(${o}) * float(-${n}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${t}; j <= ${t}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${s}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${i};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wW{constructor(e,t,a,r,n){let i;this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;let s=e[3]-1;this.outputShape=e;let o=`float(${a}) + float(${r}) * sum`;i=.5===n?`inversesqrt(${o})`:1===n?`1.0/(${o})`:`exp(log(${o}) * float(-${n}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${t};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${t}; j <= ${t}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${s}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${i};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wq{constructor(e,t,a,r,n){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=a,this.alpha=r,this.beta=n,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${t})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${t} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${r}) * norm + float(${a});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${r})
                * float(${n})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${n});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wG(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a,{reductionIndices:s,keepDims:o}=n,l=i.shape.length,p=L(s,i.shape),d=p,u=i1(d,l),h=null!=u,c=r.shouldExecuteOnCPU([i]),m=i;if(h){if(c){let e=r.texData.get(m.dataId).values,t=Array(l);for(let e=0;e<t.length;e++)t[e]=i.shape[u[e]];let a=bb(e,i.shape,i.dtype,u,t);m=r.makeTensorInfo(t,i.dtype),r.texData.get(m.dataId).values=a}else m=yr(i,u,r);d=i0(d.length,l)}iQ("max",d,l);let[f,g]=iJ(m.shape,d),v=f;if(o&&(v=iZ(f,p)),c){let e=v1(r.texData.get(m.dataId).values,T(g),v,i.dtype);t=r.makeTensorInfo(v,i.dtype),r.texData.get(t.dataId).values=e}else t=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r){let n=T(t),i=T(e.shape),s=b8({inputs:{x:e},attrs:{shape:[i/n,n]},backend:r}),o=ye(s,e.dtype,"max",r),l=b8({inputs:{x:o},attrs:{shape:a},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(o),l}(m,g,v,r);return h&&r.disposeIntermediateTensorInfo(m),t}let wH=b1({opSnippet:bU+`
  return max(a, b);
`,packedOpSnippet:`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+bW+`
  return result;
`,cpuKernelImpl:v2});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wK{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;let t=e.strideHeight,a=e.strideWidth,r=e.dilationHeight,n=e.effectiveFilterHeight,i=e.effectiveFilterWidth,s=n-1-e.padInfo.top,o=i-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n};
          wR += ${r}) {
          float dyR = float(dyRCorner + wR) / ${t}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${i}; wC++) {
            float dyC = float(dyCCorner + wC) / ${a}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${n*i-1} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${i} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class wX{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;let t=e.strideDepth,a=e.strideHeight,r=e.strideWidth,n=e.dilationDepth,i=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterDepth,l=e.effectiveFilterHeight,p=e.effectiveFilterWidth,d=o-1-e.padInfo.front,u=l-1-e.padInfo.top,h=p-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${d}, ${u}, ${h});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${o};
           wD += ${n}) {
          float dyD = float(dyDCorner + wD) / ${t}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${l};
              wR += ${i}) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${p};
                wC += ${s}) {
              float dyC = float(dyCCorner + wC) / ${r}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${o*l*p-1} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${l} * ${p} +
                  wR * ${p} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}let wY=b1({opSnippet:bU+`
  return min(a, b);
`,packedOpSnippet:`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+bW+`
  return result;
`,cpuKernelImpl:v0});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wJ{constructor(e,t,a){this.variableNames=["x"],this.outputShape=t.map((t,a)=>t[0]+e[a]+t[1]);let r=e.length,n=vm(r),i=t.map(e=>e[0]).join(","),s=t.map((t,a)=>t[0]+e[a]).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l="reflect"===a?0:1;if(1===r){this.userCode=`
        int start = ${i};
        int end = ${s};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${l};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${l};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${n} start = ${n}(${i});
      ${n} end = ${n}(${s});

      void main() {
        ${n} outC = getOutputCoords();
        for (int i = 0; i < ${r}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${l};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};
          }
        }
        ${n} coords = outC - start;
        setOutput(getX(${o}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wZ{constructor(e,t,a){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((t,a)=>t[0]+e[a]+t[1]);let r=e.length,n=vm(r),i=t.map(e=>e[0]).join(","),s=t.map((t,a)=>t[0]+e[a]).join(","),o=bx("rc",r),l=bx("source",r),p=`${o[r-1]} < ${this.outputShape[r-1]}`,d=1===r?"source":`vec2(${l.slice(-2).join()})`,u="reflect"===a?0:1,h="";if(1===r){let e=`
        ${n} source = rc;
        if (source < start) {
          source = start * 2 - source - ${u};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${u};
        }
        source -= start;
      `;h=`
        ${n} rc = outputLoc;
        ${e}
        result[0] = getChannel(getX(${l.join()}), ${d});
        ${o[r-1]} += 1;
        if(${p}) {
          ${e}
          result[1] = getChannel(getX(${l.join()}), ${d});
        }
      `}else{let e=`
        ${n} source = rc;
        ${n} lt = ${n}(lessThan(source, start));
        ${n} gte = ${n}(greaterThanEqual(source, end));
        ${n} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${u}) +
                gte * ((end - 1) * 2 - source + ${u});
        source -= start;
      `;h=`
        ${n} rc = outputLoc;
        ${e}
        result[0] = getChannel(getX(${l.join()}), ${d});
        ${o[r-1]} += 1;
        if(${p}) {
          ${e}
          result[1] = getChannel(getX(${l.join()}), ${d});
        }
        rc = outputLoc;
        ${o[r-2]} += 1;
        if(${o[r-2]} < ${this.outputShape[r-2]}) {
          ${e}
          result[2] = getChannel(getX(${l.join()}), ${d});
          ${o[r-1]} += 1;
          if(${p}) {
            ${e}
            result[3] = getChannel(getX(${l.join()}), ${d});
          }
        }
      `}this.userCode=`
      const ${n} start = ${n}(${i});
      const ${n} end = ${n}(${s});

      void main() {
        ${n} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}}let wQ=b1({opSnippet:`if (b == 0.0) return NAN;
  return mod(a, b);`,packedOpSnippet:`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+bW+`
  return result;
`});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class w1{constructor(e,t,a){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,a],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${t-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${t-1}));
      }
    `}}let w2=b1({opSnippet:`
if (a == b) {
  return 1.0;
};
return a / b;`,packedOpSnippet:`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,checkOutOfBounds:!0}),w0="return a - b;",w5=b1({opSnippet:w0,packedOpSnippet:w0,supportsComplex:!0,cpuKernelImpl:bf});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w4(e){let{inputs:t,backend:a,attrs:r}=e,{logits:n}=t,{dim:i}=r,s=L([i],n.shape),o=wG({inputs:{x:n},backend:a,attrs:{reductionIndices:s,keepDims:!1}}),l=iZ(o.shape,s),p=b8({inputs:{x:o},backend:a,attrs:{shape:l}}),d=w5({inputs:{a:n,b:p},backend:a}),u=wc({inputs:{x:d},backend:a}),h=yn({inputs:{x:u},backend:a,attrs:{axis:s,keepDims:!1}}),c=b8({inputs:{x:h},backend:a,attrs:{shape:l}}),m=w2({inputs:{a:u,b:c},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(u),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(c),m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let w3=b_+`
  return -x;
`,w6=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class w8{constructor(e,t,a,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${r}), float(${a}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w9(e){let{inputs:t,backend:a}=e,{x:r}=t;if("complex64"!==r.dtype)return ww({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:a});{let e=yF({inputs:{input:r},backend:a}),t=w9({inputs:{x:e},backend:a}),n=yq({inputs:{input:r},backend:a}),i=w9({inputs:{x:n},backend:a}),s=bH({inputs:{real:t,imag:i},backend:a});return a.disposeIntermediateTensorInfo(e),a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(i),s}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class w7{constructor(e,t,a){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((t,a)=>t[0]+e[a]+t[1]);let r=e.length,n=vm(r),i=t.map(e=>e[0]).join(","),s=t.map((t,a)=>t[0]+e[a]).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);if(1===r){this.userCode=`
        int start = ${i};
        int end = ${s};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${n} start = ${n}(${i});
      ${n} end = ${n}(${s});

      void main() {
        ${n} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${n} coords = outC - start;
          setOutput(getX(${o}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xe{constructor(e,t,a){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((t,a)=>t[0]+e[a]+t[1]);let r=e.length,n=vm(r),i=t.map(e=>e[0]).join(","),s=t.map((t,a)=>t[0]+e[a]).join(","),o=bx("rc",r),l=bx("source",r),p=`${o[r-1]} < ${this.outputShape[r-1]}`,d=1===r?"source":`vec2(${l.slice(-2).join()})`,u=[`${n} rc = outputLoc;`,`${o[r-1]} += 1;
       if(${p}) {
      `,1===r?"":`}
       rc = outputLoc;
       ${o[r-2]} += 1;
       if(${o[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${o[r-1]} += 1;
         if(${p}) {`],h=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",c="";for(let e=0,t=1===r?2:4;e<t;e++)c+=`
        ${u[e]}
        if (${h}) {
          result[${e}] = float(value);
        } else {
          ${n} source = rc - start;
          result[${e}] = getChannel(getX(${l.join()}), ${d});
        }
      `;c+=1===r?"} ":"}}",this.userCode=`
      const ${n} start = ${n}(${i});
      const ${n} end = ${n}(${s});

      void main() {
        ${n} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${c}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let xt=e=>{let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{paddings:i,constantValue:s}=r;if(0===T(n.shape))return ww({backend:a,attrs:{shape:i.map((e,t)=>e[0]+n.shape[t]+e[1]),value:s,dtype:n.dtype}});let o=et.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xe(n.shape,i,s):new w7(n.shape,i,s),l=[[s]];return a.runWebGLProgram(o,[n],n.dtype,l)},xa=b1({opSnippet:`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,packedOpSnippet:`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+bW+`
  return result;
`}),xr=e=>{let{backend:t,attrs:a}=e,{start:r,stop:n,step:i,dtype:s}=a,o=be(r,n,i,s);return t.makeTensorInfo([o.length],s,o)},xn=bQ({opSnippet:"return 1.0 / x;"}),xi=bQ({opSnippet:b_+`
  return (x < 0.0) ? 0.0 : x;
`,packedOpSnippet:`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`}),xs=bQ({opSnippet:b_+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,packedOpSnippet:`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xo{constructor(e,t,a,r,n){let i;this.variableNames=["A"],this.outputShape=[];let[s,o,l,p]=e;this.outputShape=[s,t,a,p];let d=[r&&t>1?o-1:o,r&&a>1?l-1:l],u=[r&&t>1?t-1:t,r&&a>1?a-1:a];i=n?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${d[0]/u[0]},
          ${d[1]/u[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${i};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xl{constructor(e,t,a,r,n){let i;this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[s,o,l,p]=e;this.outputShape=[s,t,a,p];let d=[r&&t>1?o-1:o,r&&a>1?l-1:l],u=[r&&t>1?t-1:t,r&&a>1?a-1:a];i=n?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${d[0]/u[0]},
          ${d[1]/u[1]},
          ${d[1]/u[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${i};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${p-1};
        bool hasNextRow = coords.z < ${a-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xp{constructor(e,t,a){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;let[,r,n]=t,[,i,s]=e,o=[a&&i>1?r-1:r,a&&s>1?n-1:n],l=[a&&i>1?i-1:i,a&&s>1?s-1:s],p=o[0]/l[0],d=o[1]/l[1],u=1/p,h=1/d,c=2*Math.ceil(u)+2,m=2*Math.ceil(h)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${p});
        const float widthScale = float(${d});

        const float invHeightScale = float(${u});
        const float invWidthScale = float(${h});

        const int winHeight = int(${c});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${s}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${n-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xd{constructor(e,t,a,r,n){let i;this.variableNames=["A"],this.outputShape=[];let[s,o,l,p]=e;this.outputShape=[s,t,a,p];let d=[r&&t>1?o-1:o,r&&a>1?l-1:l],u=[r&&t>1?t-1:t,r&&a>1?a-1:a];i=n?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${d[0]/u[0]},
          ${d[1]/u[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${i};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${r?"0.5":"0.0"})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xu{constructor(e,t,a,r,n){let i;this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[s,o,l,p]=e;this.outputShape=[s,t,a,p];let d=[r&&t>1?o-1:o,r&&a>1?l-1:l],u=[r&&t>1?t-1:t,r&&a>1?a-1:a];i=n?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${d[0]/u[0]},
          ${d[1]/u[1]},
          ${d[1]/u[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${i};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${r?"0.5":"0.0"})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${p-1};
        bool hasNextRow = coords.z < ${a-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xh{constructor(e,t,a){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;let[,r,n]=t,[,i,s]=e,o=[a&&i>1?r-1:r,a&&s>1?n-1:n],l=[a&&i>1?i-1:i,a&&s>1?s-1:s],p=o[0]/l[0],d=o[1]/l[1],u=1/p,h=1/d,c=2*Math.ceil(u)+2,m=2*Math.ceil(h)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${p});
        const float widthScale = float(${d});

        const float invHeightScale = float(${u});
        const float invWidthScale = float(${h});

        const int winHeight = int(${c});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${s}) {
              continue;
            }

            float sourceFracRow =
              float(${o[0]}) *
                (float(dyR) / float(${l[0]}));

            float sourceFracCol =
                float(${o[1]}) *
                  (float(dyC) / float(${l[1]}));

            int sourceNearestRow = int(min(
                float(int(${r}) - 1),
                ${a} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${n}) - 1),
                ${a} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xc{constructor(e,t){this.variableNames=["x"];let a=e.length;if(a>4)throw Error(`WebGL backend: Reverse of rank-${a} tensor is not yet supported`);if(this.outputShape=e,1===a){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}let r=a=>-1!==t.indexOf(a)&&1!==e[a]?`${e[a]} - coords[${a}] - 1`:`coords[${a}]`,n=e.map((e,t)=>r(t)).join(","),i=vm(a);this.userCode=`
      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${n}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xm{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;let a=e.length;if(a>4)throw Error(`WebGL backend: Reverse of rank-${a} tensor is not yet supported`);this.outputShape=e;let r=bx("rc",a),n=`${r[a-1]} + 1 < ${this.outputShape[a-1]}`,i=`${r[a-2]} + 1 < ${this.outputShape[a-2]}`,s=vm(a);function o(a){let r=e.map((r,n)=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${a[n]} - 1`:`${a[n]}`),n=r.join(","),i=r.slice(-2).join(",");return`getChannel(getX(${n}), vec2(${i}))`}1===a?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${n}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${s} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${o(r.slice())};
          if(${n}){
            result.g = ${function(e){return e[a-1]="("+e[a-1]+" + 1)",o(e)}(r.slice())};
          }
          if(${i}) {
            result.b = ${function(e){return e[a-2]="("+e[a-2]+" + 1)",o(e)}(r.slice())};
            if(${n}) {
              result.a = ${function(e){return e[a-1]="("+e[a-1]+" + 1)",e[a-2]="("+e[a-2]+" + 1)",o(e)}(r.slice())};
            }
          }
          setOutput(result);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xf{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];let a=e[1],r=e[2];this.outputShape=e;let n="";n="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`
        vec3 fill = vec3(${t.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${n}
          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${a}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}let xg=bQ({opSnippet:`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`}),xv=bQ({opSnippet:"return inversesqrt(x);",cpuKernelImpl:bt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xb{constructor(e,t,a,r,n,i,s=!0,o=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;let l=vm(n.length),p=vm(i.length),d="";1===a?d="i":2===a&&(d="i, j");let u=`getIndices(${d})`,h="";1===r?h="i":2===r&&(h="i, coords[1]");let c=`getUpdates(${h})`,m="";o&&(m="coords[0], coords[1]");let f=`getDefaultValue(${m})`;this.userCode=`
        ${l} strides = ${l}(${n});

        void main() {
          ${p} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${t}; j++) {
              int index = round(${u});
              flattenedIndex += index * ${t>1?"strides[j]":"strides"};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${c};
              found = true;
            }
          }
          setOutput(mix(${f}, sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xy{constructor(e,t,a,r,n,i,s=!0,o=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;let l=vm(n.length),p=vm(i.length),d="";1===a?d="i":2===a&&(d="i, j");let u=`getIndices(${d})`,h="";1===r?h="i":2===r&&(h="i, coords[1]");let c=`getUpdates(${h})`,m="";o&&(m="coords[0], coords[1]");let f=`getDefaultValue(${m})`;this.userCode=`
        ${l} strides = ${l}(${n});

        void main() {
          ${p} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${t}; j+=2) {
              ivec4 index = round(${u});
              flattenedIndex += index.xz * ${t>1?"strides[j]":"strides"};
              if (j + 1 < ${t}) {
                flattenedIndex += index.yw * ${t>1?"strides[j + 1]":"strides"};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${c};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${f}, sum, found));
        }
      `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xw{constructor(e,t,a,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,a];let n=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,i=2===et.getNumber("WEBGL_VERSION")?"while (left < right) {":n;this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${i}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${"left"===r?"<":"<="} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xx{constructor(e,t,a){let r,n;if(this.variableNames=["c","a","b"],this.outputShape=t,a>4)throw Error(`Where for rank ${a} is not yet supported`);if(1===a)n="resRC",r="resRC";else{let a=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[];for(let r=0;r<t.length;r++)s.push(`${a[r]}`),r<e&&i.push(`${a[r]}`);r=i.join(),n=s.join()}let i=vm(a);this.userCode=`
      void main() {
        ${i} resRC = getOutputCoords();
        float cVal = getC(${r});
        if (cVal >= 1.0) {
          setOutput(getA(${n}));
        } else {
          setOutput(getB(${n}));
        }
      }
    `}}let xN=bQ({opSnippet:`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${oW};
  float scale = ${oq};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`}),xk=bQ({opSnippet:bZ+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,packedOpSnippet:`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,cpuKernelImpl:br}),xS=bQ({opSnippet:`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`}),xI=bQ({opSnippet:bZ+`
  return sin(x);
`,packedOpSnippet:`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${bW}
  return result;
`}),xC=bQ({opSnippet:`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`}),xT=bQ({opSnippet:`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`}),xA="return sqrt(x);",x_=bQ({opSnippet:xA,packedOpSnippet:xA,cpuKernelImpl:bp}),xE=bQ({opSnippet:"return x * x;"}),x$="return (a - b) * (a - b);",xR=b1({opSnippet:x$,packedOpSnippet:x$});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xL{constructor(e,t,a){this.variableNames=["x"],this.outputShape=a;let r=a.length,n=vm(a.length),i=vm(a.length),s="";if(1===r)s="coords * strides + begin";else{let e=0;s=a.map((t,r)=>(e++,1===a.length?`coords * strides[${r}] + begin[${r}]`:`coords[${e-1}] * strides[${r}] + begin[${r}]`)).join(",")}this.userCode=`
      ${n} begin = ${n}(${e});
      ${n} strides = ${n}(${t});

      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${s}));
      }
    `}}let xD=bQ({opSnippet:"return tan(x);"}),xF=bQ({opSnippet:`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xO{constructor(e,t){this.variableNames=["A"];let a=Array(e.length);for(let r=0;r<a.length;r++)a[r]=e[r]*t[r];this.outputShape=a,this.rank=a.length;let r=vm(this.rank),n=function(e){let t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;let a=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let t=0;t<e.length;t++)r.push(`imod(${a[t]}, ${e[t]})`);return r.join()}(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        setOutput(getA(${n}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xP(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{reps:i}=r;if("string"===n.dtype||n.shape.length>5){let e=a.readSync(n.dataId),t="string"===n.dtype?e.map(e=>aJ(e)):e,r=bg(r6(n.shape,n.dtype,t),i);return a.makeTensorInfo(r.shape,r.dtype,r.values)}let s=new xO(n.shape,i);return a.runWebGLProgram(s,[n],n.dtype)}class xM{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class xB{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xz(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function xV(e){let t=1;for(;t<e;)t*=2;return t}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xU{constructor(e,t,a,r,n,i){let s;switch(this.variableNames=["Image","Transforms"],this.outputShape=i,r){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${s} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${s} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${s} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${n});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${n});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${t}));
                float mapY = mapCoord(inY, float(${e}));

                if (${"nearest"===a?1:2} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xj{constructor(e,t){this.variableNames=["x","segmentIds"];let a=e.windowSize,r=e.batchSize,n=e.inSize,i=e.numSegments,s=i*Math.ceil(n/a);this.outputShape=[r,s];let o=4*Math.floor(a/4),l=a%4,p=`
        sumValue += dot(values, segFilter);
    `,d="";n%a>0&&(d=`
        if (inIdx < 0 || inIdx >= ${n}) {
          return initializationValue;
        }
      `);let u="";n%a>0&&(u=`
        if (inIdx < 0 || inIdx >= ${n}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        ${d}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${u}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${i})) * float(${a}));
        int currentSeg = int(mod(float(outIdx), float(${i})));

        float sumValue = 0.0;

        for (int i = 0; i < ${o}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${p}
        }

        int inIdx = inOffset + ${o};
        if (${1===l}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${p}
        } else if (${2===l}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${p}
        } else if (${3===l}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${p}
        }
        setOutput(sumValue);
      }
    `}}for(let e of[{kernelName:aS,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{a:n,b:i,bias:s,preluActivationWeights:o}=t,{transposeA:l,transposeB:p,activation:d,leakyreluAlpha:u}=r;return ys({a:n,b:i,transposeA:l,transposeB:p,backend:a,bias:s,preluActivationWeights:o,leakyreluAlpha:u,activation:d})}},{kernelName:"Abs",backendName:"webgl",kernelFunc:function(e){let t;let{inputs:a,backend:r}=e,{x:n}=a;if(r.shouldExecuteOnCPU([n])&&"complex64"!==n.dtype){let e=bn(r.texData.get(n.dataId).values);return r.makeTensorInfo(n.shape,n.dtype,e)}return t=et.getBool("WEBGL_PACK_UNARY_OPERATIONS")?new bP(n.shape,yo):new bA(n.shape,yo),r.runWebGLProgram(t,[n],n.dtype)}},{kernelName:en,backendName:"webgl",kernelFunc:yl},{kernelName:ei,backendName:"webgl",kernelFunc:yp},{kernelName:"Add",backendName:"webgl",kernelFunc:yu},{kernelName:es,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e(t){let{inputs:a,backend:r}=t;if(1===a.length)return bG({inputs:{x:a[0]},backend:r});if(a.length>et.getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){let t=Math.floor(a.length/2),n=e({inputs:a.slice(0,t),backend:r}),i=e({inputs:a.slice(t),backend:r});return e({inputs:[n,i],backend:r})}let n=a.map(e=>e.dtype).reduce((e,t)=>ra(e,t)),i=a.map(e=>e.shape),s=et.getBool("WEBGL_PACK")?new yc(a[0].shape,i):new yh(a[0].shape,i);return r.runWebGLProgram(s,a,n)}},{kernelName:"All",backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a,{axis:s,keepDims:o}=n,l=i.shape.length,p=L(s,i.shape),d=p,u=i1(d,l),h=i;null!=u&&(h=yi({inputs:{x:i},backend:r,attrs:{perm:u}}),d=i0(d.length,l)),iQ("all",d,l);let[c,m]=iJ(h.shape,d),f=b8({inputs:{x:h},backend:r,attrs:{shape:[-1,T(m)]}}),g=ye(f,f.dtype,"all",r);return t=o?b8({inputs:{x:g},backend:r,attrs:{shape:iZ(c,p)}}):b8({inputs:{x:g},backend:r,attrs:{shape:c}}),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(g),null!=u&&r.disposeIntermediateTensorInfo(h),t}},{kernelName:"Any",backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a,{axis:s,keepDims:o}=n,l=i.shape.length,p=L(s,i.shape),d=p,u=i1(d,l),h=i;null!=u&&(h=yi({inputs:{x:i},backend:r,attrs:{perm:u}}),d=i0(d.length,l)),iQ("any",d,l);let[c,m]=iJ(h.shape,d),f=b8({inputs:{x:h},backend:r,attrs:{shape:[-1,T(m)]}}),g=ye(f,f.dtype,"any",r);return t=o?b8({inputs:{x:g},backend:r,attrs:{shape:iZ(c,p)}}):b8({inputs:{x:g},backend:r,attrs:{shape:c}}),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(g),null!=u&&r.disposeIntermediateTensorInfo(h),t}},{kernelName:eo,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i}=r,s=L(i,n.shape),o=i1(s,n.shape.length),l=n,p=[];null!=o&&(p.push(l=yi({inputs:{x:n},backend:a,attrs:{perm:o}})),s=i0(s.length,l.shape.length)),iQ("argMax",[s[0]],l.shape.length);let d=yg(a,l,s[0],"max");return p.forEach(e=>a.disposeIntermediateTensorInfo(e)),d}},{kernelName:el,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i}=r,s=L(i,n.shape),o=i1(s,n.shape.length),l=n,p=[];null!=o&&(p.push(l=yi({inputs:{x:n},backend:a,attrs:{perm:o}})),s=i0(s.length,l.shape.length)),iQ("argMin",[s[0]],l.shape.length);let d=yg(a,l,s[0],"min");return p.forEach(e=>a.disposeIntermediateTensorInfo(e)),d}},{kernelName:ep,backendName:"webgl",kernelFunc:yv},{kernelName:ed,backendName:"webgl",kernelFunc:yb},{kernelName:eu,backendName:"webgl",kernelFunc:yy},{kernelName:ec,backendName:"webgl",kernelFunc:yw},{kernelName:eh,backendName:"webgl",kernelFunc:yx},{kernelName:em,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t;g9(n,"avgPool");let{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r;S(ir(s,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`);let p=n5(n.shape,i,s,1,o,l);if(1===p.filterWidth&&1===p.filterHeight&&A(p.inShape,p.outShape))return bG({inputs:{x:n},backend:a});let d=new yN(p,"avg",!1);return a.runWebGLProgram(d,[n],"float32")}},{kernelName:eg,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:p}=r,d=new yk(n4(n.shape,i,s,[1,1,1],o,l,p),"avg",!1);return a.runWebGLProgram(d,[n],"float32")}},{kernelName:ev,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:p}=r,d=new yI(n4(i.shape,s,o,[1,1,1],l,p));return a.runWebGLProgram(d,[n],i.dtype)}},{kernelName:ef,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,input:i}=t;g9([n,i],"avgPoolGrad");let{filterSize:s,strides:o,pad:l}=r,p=new yS(n5(i.shape,s,o,1,l));return a.runWebGLProgram(p,[n],i.dtype)}},{kernelName:eb,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{a:n,b:i}=t,{transposeA:s,transposeB:o}=r;return ys({a:n,b:i,transposeA:s,transposeB:o,backend:a})}},{kernelName:e4,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:a})=>{let{x:r,mean:n,variance:i,offset:s,scale:o}=e;S(n.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),S(null==s||n.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),S(null==o||n.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=a;null==l&&(l=.001);let p=[r,n,i],d=null;null!=s&&(d=s.shape,p.push(s));let u=null;null!=o&&(u=o.shape,p.push(o));let h=et.getBool("WEBGL_PACK_NORMALIZATION")?new yT(r.shape,n.shape,i.shape,d,u,l):new yC(r.shape,n.shape,i.shape,d,u,l);return t.runWebGLProgram(h,p,p[0].dtype)}},{kernelName:ey,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{blockShape:i,crops:s}=r;S(n.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");let o=i.reduce((e,t)=>e*t),l=oF(n.shape,i,o),p=oO(l.length,i.length),d=oP(n.shape,i,o),u=oM(s,i.length),h=oB(d,s,i.length),c=[],m=b8({inputs:{x:n},backend:a,attrs:{shape:l}}),f=yi({inputs:{x:m},backend:a,attrs:{perm:p}}),g=b8({inputs:{x:f},backend:a,attrs:{shape:d}}),v=y$({inputs:{x:g},backend:a,attrs:{begin:u,size:h}});return c.push(m),c.push(f),c.push(g),c.forEach(e=>a.disposeIntermediateTensorInfo(e)),v}},{kernelName:ew,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,weights:i}=t,{size:s}=r,o=vO(a.readSync(n.dataId),a.readSync(i.dataId),i.dtype,i.shape,s);return a.makeTensorInfo([s],i.dtype,o)}},{kernelName:ex,backendName:"webgl",kernelFunc:function(e){let t;let{inputs:a,backend:r}=e,{a:n,b:i}=a,s=et.getBool("WEBGL_PACK_BINARY_OPERATIONS"),o=et.getNumber("WEBGL_VERSION");if(r.shouldExecuteOnCPU([n,i])||1===o){let e=r.texData.get(n.dataId).values,t=r.texData.get(i.dataId).values,[a,s]=vM(n.shape,i.shape,e,t,n.dtype),o=r.makeTensorInfo(s,n.dtype);return r.texData.get(o.dataId).values=a,o}return t=s?new bq(yR,n.shape,i.shape,!1):new bj(yL,n.shape,i.shape),r.runWebGLProgram(t,[n,i],n.dtype)}},{kernelName:eN,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{s0:r,s1:n}=t,i=a.readSync(r.dataId),s=a.readSync(n.dataId),o=nk(Array.from(i),Array.from(s));return a.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},{kernelName:ek,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e(t){let{inputs:a,backend:r,attrs:n}=t,{x:i}=a,{dtype:s}=n;if("complex64"===s){if("complex64"===i.dtype)return bG({inputs:{x:i},backend:r});let t=si(i.shape),a=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),n=bH({inputs:{real:a,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(a),n}if("complex64"===i.dtype){let t=yF({inputs:{input:i},backend:r}),a=e({inputs:{x:t},backend:r,attrs:{dtype:s}});return r.disposeIntermediateTensorInfo(t),a}if(!O(i.dtype,s)){let e=bG({inputs:{x:i},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:s}}if(r.shouldExecuteOnCPU([i])){let[e,t,a]=vB(r.texData.get(i.dataId).values,i.shape,i.dtype,s);return r.makeTensorInfo(e,t,a)}if("int32"===s)return function(e,t){let a=new bA(e.shape,"return float(int(x));"),r=t.runWebGLProgram(a,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===s){let e=r.makeTensorInfo([],"bool",F("bool",1)),t=yD({inputs:{a:i,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw Error(`Error in Cast: failed to cast ${i.dtype} to ${s}`)}},{kernelName:eS,backendName:"webgl",kernelFunc:yP},{kernelName:eI,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a,{clipValueMin:s,clipValueMax:o}=n;return t=et.getBool("WEBGL_PACK_CLIP")?new yB(i.shape):new yM(i.shape),r.runWebGLProgram(t,[i],i.dtype,[[s],[o]])}},{kernelName:eC,backendName:"webgl",kernelFunc:bH},{kernelName:eT,backendName:"webgl",kernelFunc:function(e){let{inputs:t,backend:a}=e,{x:r}=t,n=a.texData.get(r.dataId),i=new yz(r.shape),s=[yV(r,n.complexTensorInfos.real),yV(r,n.complexTensorInfos.imag)];return a.runWebGLProgram(i,s,s[0].dtype)}},{kernelName:eA,backendName:"webgl",kernelFunc:yG},{kernelName:e_,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i,filter:s}=a,{strides:o,pad:l,dataFormat:p,dilations:d,dimRoundingMode:u}=n,h=is(p),c=n3(i.shape,s.shape,o,d,l,u,!1,h);if(1===c.filterHeight&&1===c.filterWidth&&1===c.dilationHeight&&1===c.dilationWidth&&1===c.strideHeight&&1===c.strideWidth&&("SAME"===c.padInfo.type||"VALID"===c.padInfo.type))t=yZ({x:i,filter:s,convInfo:c,backend:r});else if(c.strideWidth<=2&&"channelsLast"===h&&et.getBool("WEBGL_EXP_CONV")){let e=new yX(c),a=[[c.padInfo.top,c.padInfo.left],[c.strideHeight,c.strideWidth],[c.dilationHeight,c.dilationWidth],[c.inHeight,c.inWidth]];t=r.runWebGLProgram(e,[i,s],"float32",a)}else if(et.getBool("WEBGL_CONV_IM2COL"))t=yQ({x:i,filter:s,convInfo:c,backend:r});else{let e=new yH(c);t=r.runWebGLProgram(e,[i,s],"float32")}let m=b8({inputs:{x:t},backend:r,attrs:{shape:c.outShape}});return r.disposeIntermediateTensorInfo(t),m}},{kernelName:eE,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,dy:i}=t,{strides:s,pad:o,dataFormat:l,dimRoundingMode:p,filterShape:d}=r,u=is(l),h=new y1(n3(n.shape,d,s,1,o,p,!1,u));return a.runWebGLProgram(h,[n,i],"float32")}},{kernelName:e$,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,filter:i}=t,{inputShape:s,strides:o,pad:l,dataFormat:p,dimRoundingMode:d}=r,u=is(p),h=n3(s,i.shape,o,1,l,d,!1,u);if(et.getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===u){let e=[[h.strideHeight,h.strideWidth]],t=new y4(h);return a.runWebGLProgram(t,[n,i],"float32",e)}{let e=new y2(h);return a.runWebGLProgram(e,[n,i],"float32")}}},{kernelName:eR,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,filter:i}=t,{strides:s,pad:o,dilations:l}=r,p=new yK(n6(n.shape,i.shape,s,l,o));return a.runWebGLProgram(p,[n,i],"float32")}},{kernelName:eL,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,dy:i}=t,{strides:s,pad:o,filterShape:l}=r,p=new y0(n6(n.shape,l,s,1,o));return a.runWebGLProgram(p,[n,i],"float32")}},{kernelName:eD,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,filter:i}=t,{pad:s,strides:o,inputShape:l}=r,p=new y5(n6(l,i.shape,o,1,s));return a.runWebGLProgram(p,[n,i],"float32")}},{kernelName:"Cos",backendName:"webgl",kernelFunc:y3},{kernelName:eF,backendName:"webgl",kernelFunc:y6},{kernelName:eM,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:a,attrs:r}=e,{image:n,boxes:i,boxInd:s}=t,{cropSize:o,method:l,extrapolationValue:p}=r,d=new y8(n.shape,i.shape,o,l,p);return a.runWebGLProgram(d,[n,i,s],"float32")}},{kernelName:eO,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i,exclusive:s,reverse:o}=r;return wt(N7.Prod,n,a,i,s,o)}},{kernelName:eP,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{axis:i,exclusive:s,reverse:o}=r;return wt(N7.Sum,n,a,i,s,o)}},{kernelName:eB,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,weights:i}=t,{size:s,binaryOutput:o}=r;if(1===n.shape.length){let e=vO(a.readSync(n.dataId),a.readSync(i.dataId),i.dtype,i.shape,s);return a.makeTensorInfo([s],i.dtype,e)}if(2===n.shape.length){let e=vP(a.bufferSync(n),a.bufferSync(i),s,o);return a.makeTensorInfo(e.shape,i.dtype,e.values)}throw Error(`Error in denseBincount: input must be at most rank 2, but got rank${n.shape.length}.`)}},{kernelName:ez,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{blockSize:i,dataFormat:s}=r,o=n.shape[0],l="NHWC"===s?n.shape[1]:n.shape[2],p="NHWC"===s?n.shape[2]:n.shape[3],d="NHWC"===s?n.shape[3]:n.shape[1],u=l*i,h=p*i,c=d/(i*i),m=new wa("NHWC"===s?[o,u,h,c]:[o,c,u,h],i,s);return a.runWebGLProgram(m,[n],n.dtype)}},{kernelName:eV,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i,filter:s}=a,{strides:o,pad:l,dilations:p,dimRoundingMode:d}=n,u=p;null==u&&(u=[1,1]),S(ir(o,u),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);let h=n3(i.shape,s.shape,o,u,l,d,!0);t=et.getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels==1?new wn(h):new wr(h);let c=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return r.runWebGLProgram(t,[i,s],"float32",c)}},{kernelName:eU,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,dy:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:p,filterShape:d}=r,u=new wi(n3(n.shape,d,s,o,l,p,!0));return a.runWebGLProgram(u,[n,i],"float32")}},{kernelName:ej,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,filter:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:p,inputShape:d}=r,u=new ws(n3(d,i.shape,s,o,l,p,!0));return a.runWebGLProgram(u,[n,i],"float32")}},{kernelName:eW,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{x:r}=t,n=[...r.shape,...r.shape],i=T(r.shape),s=b8({inputs:{x:r},backend:a,attrs:{shape:[i]}}),o=new wo(i),l=a.runWebGLProgram(o,[s],s.dtype),p=b8({inputs:{x:l},backend:a,attrs:{shape:n}});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(l),p}},{kernelName:eq,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i,filter:s}=a,{strides:o,pad:l,dilations:p}=n,d=n0(i.shape,s.shape,o,l,"NHWC",p),u=new wl(d),h=b8({inputs:{x:t=r.runWebGLProgram(u,[i,s],"float32")},backend:r,attrs:{shape:d.outShape}});return r.disposeIntermediateTensorInfo(t),h}},{kernelName:eX,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{equation:n}=r,{allDims:i,summedDims:s,idDims:o}=o8(n,t.length);o7(i.length,o,t);let{path:l,steps:p}=le(s,o),d=p.length,u=null,h=i.length,c=[];for(let e=0;e<d;++e){for(let r of p[e]){let e;let{permutationIndices:n,expandDims:i}=o9(h,o[r]);lt(n)?e=t[r]:(e=yi({inputs:{x:t[r]},backend:a,attrs:{perm:n}}),c.push(e));let s=e.shape.slice();for(let e=0;e<i.length;++e)s.splice(i[e],0,1);A(e.shape,s)||(e=b8({inputs:{x:e},backend:a,attrs:{shape:s}}),c.push(e)),null===u?u=e:(u=b6({inputs:{a:e,b:u},backend:a}),c.push(u))}e<d-1&&(l[e]>=0&&(u=yn({inputs:{x:u},backend:a,attrs:{axis:l[e]-(i.length-h),keepDims:!1}}),c.push(u)),h--)}for(let e of c)e!==u&&a.disposeIntermediateTensorInfo(e);return u}},{kernelName:"Elu",backendName:"webgl",kernelFunc:wp},{kernelName:eY,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:a}=e,{dy:r,y:n}=t,i=et.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bq(wd,r.shape,n.shape):new bj("return (b >= 0.0) ? a : a * (b + 1.0);",r.shape,n.shape);return a.runWebGLProgram(i,[r,n],r.dtype)}},{kernelName:eJ,backendName:"webgl",kernelFunc:wu},{kernelName:"Erf",backendName:"webgl",kernelFunc:wh},{kernelName:"Exp",backendName:"webgl",kernelFunc:wc},{kernelName:eZ,backendName:"webgl",kernelFunc:wm},{kernelName:eQ,backendName:"webgl",kernelFunc:wg},{kernelName:"FFT",backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{input:r}=t;return wb(r,!1,a)}},{kernelName:e1,backendName:"webgl",kernelFunc:ww},{kernelName:e2,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{let{image:a}=e,r=new wx(a.shape);return t.runWebGLProgram(r,[a],a.dtype)}},{kernelName:e0,backendName:"webgl",kernelFunc:wk},{kernelName:e5,backendName:"webgl",kernelFunc:wS},{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){let{inputs:t,backend:a,attrs:r}=e,{pixels:n}=t,{numChannels:i}=r,s="undefined"!=typeof HTMLVideoElement&&n instanceof HTMLVideoElement,o="undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement,[l,d]=s?[n.videoWidth,n.videoHeight]:[n.width,n.height],u=[d,l],h=[d,l,i];if(o||s){let e=et.getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(null==p||e!==wT)&&(wT=e,p=document.createElement("canvas").getContext("2d",{willReadFrequently:wT})),p.canvas.width=l,p.canvas.height=d,p.drawImage(n,0,0,l,d),n=p.canvas}let c=a.makeTensorInfo(u,"int32");a.texData.get(c.dataId).usage=N8.PIXELS,a.gpgpu.uploadPixelDataToTexture(a.getTexture(c.dataId),n);let m=et.getBool("WEBGL_PACK")?new wC(h):new wI(h),f=a.runWebGLProgram(m,[c],"int32");return a.disposeData(c.dataId),f}},{kernelName:aI,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i,filter:s,bias:o,preluActivationWeights:l}=a,{strides:p,pad:d,dataFormat:u,dilations:h,dimRoundingMode:c,activation:m,leakyreluAlpha:f}=n,g=is(u),v=n3(i.shape,s.shape,p,h,d,c,!1,g),b=[],y=null!=o,w=null!=l,x="leakyrelu"===m,N=()=>{let e=[i,s],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){let t=b8({inputs:{x:e},backend:r,attrs:{shape:[e.shape[0],1,1]}});return b.push(t),t}return e};if(y&&e.push(t(o,u)),w&&e.push(t(l,u)),x){let t=r.makeTensorInfo([],"float32",aH(f,"float32"));e.push(t),b.push(t)}return e};if(1===v.filterHeight&&1===v.filterWidth&&1===v.dilationHeight&&1===v.dilationWidth&&1===v.strideHeight&&1===v.strideWidth&&("SAME"===v.padInfo.type||"VALID"===v.padInfo.type))t=yZ({x:i,filter:s,convInfo:v,backend:r,bias:o,activation:m,preluActivationWeights:l,leakyreluAlpha:f});else if(v.strideWidth<=2&&"channelsLast"===g&&et.getBool("WEBGL_EXP_CONV")){let e=new yX(v,y,m?b2(m,!0):null,w,x),a=[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]],n=N();t=r.runWebGLProgram(e,n,"float32",a)}else if(et.getBool("WEBGL_CONV_IM2COL"))t=yQ({x:i,filter:s,convInfo:v,backend:r,bias:o,activation:m,preluActivationWeights:l,leakyreluAlpha:f});else{let e=new yH(v,y,m?b2(m,!1):null,w,x),a=N();t=r.runWebGLProgram(e,a,"float32")}let k=b8({inputs:{x:t},backend:r,attrs:{shape:v.outShape}});return b.push(t),b.forEach(e=>r.disposeIntermediateTensorInfo(e)),k}},{kernelName:aC,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i,filter:s,bias:o,preluActivationWeights:l}=a,{strides:p,pad:d,dilations:u,dimRoundingMode:h,activation:c,leakyreluAlpha:m}=n,f=[],g=u;null==g&&(g=[1,1]),S(ir(p,g),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${p} and dilations '${g}'`);let v=n3(i.shape,s.shape,p,g,d,h,!0),b=et.getBool("WEBGL_PACK_DEPTHWISECONV")&&v.strideWidth<=2&&v.outChannels/v.inChannels==1,y=c?b2(c,b):null,w=[i,s],x=null!=o,N=null!=l,k="leakyrelu"===c;if(x&&w.push(o),N&&w.push(l),k){let e=r.makeTensorInfo([],"float32",aH(m,"float32"));w.push(e),f.push(e)}t=b?new wn(v,x,y,N,k):new wr(v,x,y,N,k);let I=[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]],C=r.runWebGLProgram(t,w,"float32",I);return f.forEach(e=>r.disposeIntermediateTensorInfo(e)),C}},{kernelName:e6,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{params:r,indices:n}=t,i=n.shape,s=i[i.length-1],o=T(r.shape),[l,p,d,u]=oz(r,n),h=b8({inputs:{x:n},backend:a,attrs:{shape:[p,s]}}),c=b8({inputs:{x:r},backend:a,attrs:{shape:[T(r.shape)/d,d]}});if(a.shouldExecuteOnCPU([r,n])||"string"===r.dtype){let e=vG(a.readSync(n.dataId),a.bufferSync(r),r.dtype,p,s,d,u,r.shape,o);return a.makeTensorInfo(l,r.dtype,e.values)}let m=new wA(s,u,[p,d],r.shape),f=a.runWebGLProgram(m,[c,h],c.dtype),g=b8({inputs:{x:f},backend:a,attrs:{shape:l}});return a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(c),a.disposeIntermediateTensorInfo(f),g}},{kernelName:e3,backendName:"webgl",kernelFunc:wE},{kernelName:e8,backendName:"webgl",kernelFunc:w$},{kernelName:e9,backendName:"webgl",kernelFunc:wR},{kernelName:e7,backendName:"webgl",kernelFunc:bG},{kernelName:te,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{input:r}=t;return wb(r,!0,a)}},{kernelName:tt,backendName:"webgl",kernelFunc:yq},{kernelName:ta,backendName:"webgl",kernelFunc:wL},{kernelName:tr,backendName:"webgl",kernelFunc:wD},{kernelName:tn,backendName:"webgl",kernelFunc:wF},{kernelName:ti,backendName:"webgl",kernelFunc:function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{alpha:i}=r,s=a.makeTensorInfo([],"float32",aH(i,"float32")),o=et.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bq(bX,n.shape,s.shape):new bj(bK,n.shape,s.shape),l=a.runWebGLProgram(o,[n,s],"float32");return a.disposeIntermediateTensorInfo(s),l}},{kernelName:ts,backendName:"webgl",kernelFunc:wO},{kernelName:to,backendName:"webgl",kernelFunc:wP},{kernelName:tl,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{backend:t,attrs:a}=e,{start:r,stop:n,num:i}=a,s=vZ(r,n,i);return t.makeTensorInfo([s.length],"float32",s)}},{kernelName:"Log",backendName:"webgl",kernelFunc:wM},{kernelName:tp,backendName:"webgl",kernelFunc:wB},{kernelName:td,backendName:"webgl",kernelFunc:wz},{kernelName:tu,backendName:"webgl",kernelFunc:wV},{kernelName:th,backendName:"webgl",kernelFunc:wU},{kernelName:"LRN",backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{depthRadius:i,bias:s,alpha:o,beta:l}=r,p=et.getBool("WEBGL_PACK_NORMALIZATION")?new wW(n.shape,i,s,o,l):new wj(n.shape,i,s,o,l);return a.runWebGLProgram(p,[n],n.dtype)}},{kernelName:tc,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:a,attrs:r}=e,{x:n,y:i,dy:s}=t,{depthRadius:o,bias:l,alpha:p,beta:d}=r,u=new wq(n.shape,o,l,p,d);return a.runWebGLProgram(u,[n,i,s],n.dtype)}},{kernelName:"Max",backendName:"webgl",kernelFunc:wG},{kernelName:tm,backendName:"webgl",kernelFunc:wH},{kernelName:tf,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t;g9(n,"maxPool");let{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r;S(ir(s,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`);let p=n5(n.shape,i,s,1,o,l);if(1===p.filterWidth&&1===p.filterHeight&&A(p.inShape,p.outShape))return bG({inputs:{x:n},backend:a});let d=new yN(p,"max",!1);return a.runWebGLProgram(d,[n],n.dtype)}},{kernelName:tv,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{filterSize:i,strides:s,pad:o,dataFormat:l,dimRoundingMode:p}=r,d=new yk(n4(n.shape,i,s,[1,1,1],o,p,l),"max",!1);return a.runWebGLProgram(d,[n],n.dtype)}},{kernelName:tb,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:p}=r,d=n4(i.shape,s,o,[1,1,1],l,p),u=new yk(d,"max",!0),h=a.runWebGLProgram(u,[i],i.dtype),c=new wX(d),m=a.runWebGLProgram(c,[n,h],i.dtype);return a.disposeIntermediateTensorInfo(h),m}},{kernelName:tg,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{dy:n,input:i,output:s}=t;g9([i,s],"maxPoolGrad");let{filterSize:o,strides:l,pad:p,dimRoundingMode:d}=r,u=n5(i.shape,o,l,1,p,d),h=new yN(u,"max",!0),c=a.runWebGLProgram(h,[i],i.dtype),m=new wK(u),f=a.runWebGLProgram(m,[n,c],i.dtype);return a.disposeIntermediateTensorInfo(c),f}},{kernelName:ty,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:a})=>{let{x:r}=e,{filterSize:n,strides:i,pad:s,includeBatchInIndex:o}=t;S(4===r.shape.length,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);let l=[1,1];S(ir(i,l),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${l}'`);let p=n5(r.shape,n,i,l,s),[d,u]=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r){let n=new yN(a,"max",!1),i=r.runWebGLProgram(n,[e],"float32");return n=new yN(a,"max",!0,!0,t),[i,r.runWebGLProgram(n,[e],"float32")]}(r,o,p,a);return[d,u]}},{kernelName:tw,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:a})=>{let{x:r}=e,{keepDims:n,axis:i}=t,s=r.shape.length,o=L(i,r.shape),l=o,p=i1(l,s),d=null!=p,u=a.shouldExecuteOnCPU([r]),h=[],c=r;if(d){if(u){let e=a.texData.get(c.dataId).values,t=Array(s);for(let e=0;e<t.length;e++)t[e]=r.shape[p[e]];let n=bb(e,r.shape,r.dtype,p,t);c=a.makeTensorInfo(t,r.dtype),a.texData.get(c.dataId).values=n}else c=yr(r,p,a);h.push(c),l=i0(l.length,s)}iQ("sum",l,s);let[m,f]=iJ(c.shape,l),g=m;n&&(g=iZ(m,o));let v=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,a,r){let n=T(t),i=T(e.shape),s=b8({inputs:{x:e},attrs:{shape:[i/n,n]},backend:r}),o=ye(s,"float32","mean",r),l=b8({inputs:{x:o},attrs:{shape:a},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(o),l}(c,f,g,a);for(let e of h)a.disposeIntermediateTensorInfo(e);return v}},{kernelName:"Min",backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a,{axis:s,keepDims:o}=n,l=i.shape.length,p=L(s,i.shape),d=p,u=i1(d,l),h=i;null!=u&&(h=yi({inputs:{x:i},backend:r,attrs:{perm:u}}),d=i0(d.length,i.shape.length)),iQ("min",d,l);let[c,m]=iJ(h.shape,d),f=b8({inputs:{x:h},backend:r,attrs:{shape:[-1,T(m)]}}),g=ye(f,f.dtype,"min",r);return t=o?b8({inputs:{x:g},backend:r,attrs:{shape:iZ(c,p)}}):b8({inputs:{x:g},backend:r,attrs:{shape:c}}),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(g),null!=u&&r.disposeIntermediateTensorInfo(h),t}},{kernelName:tx,backendName:"webgl",kernelFunc:wY},{kernelName:tN,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:a})=>{let{x:r}=e,{paddings:n,mode:i}=a,s=et.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wZ(r.shape,n,i):new wJ(r.shape,n,i);return t.runWebGLProgram(s,[r],r.dtype)}},{kernelName:"Mod",backendName:"webgl",kernelFunc:wQ},{kernelName:tk,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{logits:n}=t,{numSamples:i,seed:s,normalized:o}=r,l=o?n:w4({inputs:{logits:n},backend:a,attrs:{dim:n.shape.length-1}}),p=new w1(l.shape[0],l.shape[1],i),d=a.runWebGLProgram(p,[l],"int32",[[s]]);return o||a.disposeIntermediateTensorInfo(l),d}},{kernelName:tS,backendName:"webgl",kernelFunc:b6},{kernelName:"Neg",backendName:"webgl",kernelFunc:function(e){let t;let{inputs:a,backend:r}=e,{x:n}=a;if(r.shouldExecuteOnCPU([n])){let[e,t]=v4(r.texData.get(n.dataId).values,n.shape,n.dtype);return r.makeTensorInfo(t,n.dtype,e)}return t=et.getBool("WEBGL_PACK_UNARY_OPERATIONS")?new bP(n.shape,w6):new bA(n.shape,w3),r.runWebGLProgram(t,[n],n.dtype)}},{kernelName:tC,backendName:"webgl",kernelFunc:function(e){var t;aT("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:a,backend:r,attrs:n}=e,{boxes:i,scores:s}=a,{maxOutputSize:o,iouThreshold:l,scoreThreshold:p}=n,{selectedIndices:d}=(t=r.readSync(i.dataId),oa(t,r.readSync(s.dataId),o,l,p,0));return r.makeTensorInfo([d.length],"int32",new Int32Array(d))}},{kernelName:tT,backendName:"webgl",kernelFunc:function(e){aT("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:t,backend:a,attrs:r}=e,{boxes:n,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:p}=r,{selectedIndices:d,validOutputs:u}=ot(a.readSync(n.dataId),a.readSync(i.dataId),s,o,l,p);return[a.makeTensorInfo([d.length],"int32",new Int32Array(d)),a.makeTensorInfo([],"int32",new Int32Array([u]))]}},{kernelName:tA,backendName:"webgl",kernelFunc:function(e){aT("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:t,backend:a,attrs:r}=e,{boxes:n,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,softNmsSigma:p}=r,{selectedIndices:d,selectedScores:u}=oa(a.readSync(n.dataId),a.readSync(i.dataId),s,o,l,p,!0);return[a.makeTensorInfo([d.length],"int32",new Int32Array(d)),a.makeTensorInfo([u.length],"float32",new Float32Array(u))]}},{kernelName:tI,backendName:"webgl",kernelFunc:yD},{kernelName:tE,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:a,attrs:r}=e,{indices:n}=t,{dtype:i,depth:s,onValue:o,offValue:l}=r,p=T(n.shape),d=new w8(p,s,o,l),u=b8({inputs:{x:n},backend:a,attrs:{shape:[p]}}),h=a.runWebGLProgram(d,[u],i);a.disposeIntermediateTensorInfo(u);let c=b8({inputs:{x:h},backend:a,attrs:{shape:[...n.shape,s]}});return a.disposeIntermediateTensorInfo(h),c}},{kernelName:t_,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e(t){let{inputs:a,backend:r}=t,{x:n}=a;if("string"===n.dtype)throw Error("onesLike is not supported under string dtype");if("complex64"!==n.dtype)return ww({attrs:{shape:n.shape,dtype:n.dtype,value:1},backend:r});{let t=yF({inputs:{input:n},backend:r}),a=e({inputs:{x:t},backend:r}),i=yq({inputs:{input:n},backend:r}),s=w9({inputs:{x:i},backend:r}),o=bH({inputs:{real:a,imag:s},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),o}}},{kernelName:t$,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{axis:n}=r;if(1===t.length)return wm({inputs:{input:t[0]},backend:a,attrs:{dim:n}});let i=t[0].shape,s=t[0].dtype;t.forEach(e=>{I(i,e.shape,"All tensors passed to stack must have matching shapes"),S(s===e.dtype,()=>"All tensors passed to stack must have matching dtypes")});let o=[],l=yG({inputs:t.map(e=>{let t=wm({inputs:{input:e},backend:a,attrs:{dim:n}});return o.push(t),t}),backend:a,attrs:{axis:n}});return o.forEach(e=>a.disposeIntermediateTensorInfo(e)),l}},{kernelName:tR,backendName:"webgl",kernelFunc:xt},{kernelName:"Pow",backendName:"webgl",kernelFunc:xa},{kernelName:tL,backendName:"webgl",kernelFunc:function(e){let{inputs:t,backend:a}=e,{x:r,alpha:n}=t,i=et.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bq(bJ,r.shape,n.shape):new bj(bY,r.shape,n.shape);return a.runWebGLProgram(i,[r,n],"float32")}},{kernelName:tD,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a,{axis:s,keepDims:o}=n,l=i.shape.length,p=[],d=L(s,i.shape),u=d,h=i1(u,l),c=i;if(null!=h&&(c=yi({inputs:{x:i},backend:r,attrs:{perm:h}}),u=i0(u.length,l),p.push(c)),iQ("prod",u,l),r.shouldExecuteOnCPU([c])){let e=r.texData.get(c.dataId).values,{outVals:a,outShape:n,outDtype:i}=v6(c.shape,c.dtype,e,u);t=r.makeTensorInfo(n,i,a)}else{let[e,a]=iJ(c.shape,u),n=b8({inputs:{x:c},backend:r,attrs:{shape:[-1,T(a)]}}),s=ye(n,rr(i.dtype),"prod",r);t=b8({inputs:{x:s},backend:r,attrs:{shape:e}}),p.push(n),p.push(s)}if(o){p.push(t);let e=iZ(t.shape,d);t=b8({inputs:{x:t},backend:r,attrs:{shape:e}})}return p.forEach(e=>r.disposeIntermediateTensorInfo(e)),t}},{kernelName:tF,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{paramsNestedSplits:n,paramsDenseValues:i,indices:s}=t,{outputRaggedRank:o}=r,l=n.map(e=>a.readSync(e.dataId)),p=n.map(e=>e.shape),d=a.readSync(i.dataId),u=a.readSync(s.dataId),[h,c,m]=v8(l,p,d,i.shape,i.dtype,u,s.shape,o),f=h.map(e=>a.makeTensorInfo([e.length],"int32",e)),g=a.makeTensorInfo(m,i.dtype,c);return f.concat([g])}},{kernelName:tO,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{starts:r,limits:n,deltas:i}=t,s=a.readSync(r.dataId),o=a.readSync(n.dataId),l=a.readSync(i.dataId),[p,d]=v9(s,r.shape,r.dtype,o,n.shape,l,i.shape);return[a.makeTensorInfo([p.length],"int32",p),a.makeTensorInfo([d.length],r.dtype,d)]}},{kernelName:tP,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{shape:n,values:i,defaultValue:s,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=r,p=a.readSync(n.dataId),d=a.readSync(i.dataId),u=a.readSync(s.dataId),h=o.map(e=>a.readSync(e.dataId)),c=o.map(e=>e.shape),[m,f]=v7(p,n.shape,d,i.shape,i.dtype,u,s.shape,h,c,l);return a.makeTensorInfo(m,i.dtype,f)}},{kernelName:tM,backendName:"webgl",kernelFunc:xr},{kernelName:tB,backendName:"webgl",kernelFunc:yF},{kernelName:eK,backendName:"webgl",kernelFunc:w2},{kernelName:tz,backendName:"webgl",kernelFunc:xn},{kernelName:tV,backendName:"webgl",kernelFunc:xi},{kernelName:tH,backendName:"webgl",kernelFunc:xs},{kernelName:tU,backendName:"webgl",kernelFunc:b8},{kernelName:tq,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{images:n}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,p]=o,d=et.getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new xl(n.shape,l,p,i,s):new xo(n.shape,l,p,i,s);return a.runWebGLProgram(d,[n],"float32")}},{kernelName:tG,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{images:n,dy:i}=t,{alignCorners:s}=r,o=new xp(i.shape,n.shape,s);return a.runWebGLProgram(o,[i],i.dtype)}},{kernelName:tj,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{images:n}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,p]=o,d=et.getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new xu(n.shape,l,p,i,s):new xd(n.shape,l,p,i,s);return a.runWebGLProgram(d,[n],n.dtype)}},{kernelName:tW,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{images:n,dy:i}=t,{alignCorners:s}=r,o=new xh(i.shape,n.shape,s);return a.runWebGLProgram(o,[i],i.dtype)}},{kernelName:tK,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{dims:i}=r,s=n.shape.length,o=L(i,n.shape);if(0===s)return bG({inputs:{x:n},backend:a});let l=et.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xm(n.shape,o):new xc(n.shape,o);return a.runWebGLProgram(l,[n],n.dtype)}},{kernelName:ak,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:a})=>{let{image:r}=e,{radians:n,fillValue:i,center:s}=t,o=new xf(r.shape,i),[l,p]=oD(s,r.shape[1],r.shape[2]);return a.runWebGLProgram(o,[r],r.dtype,[[l,p,Math.sin(n),Math.cos(n)]])}},{kernelName:tX,backendName:"webgl",kernelFunc:xg},{kernelName:tY,backendName:"webgl",kernelFunc:xv},{kernelName:tJ,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{indices:i,updates:s}=a,{shape:o}=n,{sliceRank:l,numUpdates:p,sliceSize:d,strides:u,outputSize:h}=oj(s,i,o),c=[h/d,d];if(0===h)return r.makeTensorInfo(o,i.dtype);let m=b8({inputs:{x:i},backend:r,attrs:{shape:[p,l]}}),f=b8({inputs:{x:s},backend:r,attrs:{shape:[p,d]}}),g=r.makeTensorInfo([],"float32",new Float32Array([0]));t=et.getBool("WEBGL_PACK")?new xy(p,l,m.shape.length,f.shape.length,u,c):new xb(p,l,m.shape.length,f.shape.length,u,c);let v=r.runWebGLProgram(t,[f,m,g],f.dtype),b=b8({inputs:{x:v},backend:r,attrs:{shape:o}});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(g),b}},{kernelName:tQ,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{sortedSequence:n,values:i}=t,{side:s}=r,o=new xw(n.shape[0],n.shape[1],i.shape[1],s),l=[[n.shape[1]]];return a.runWebGLProgram(o,[n,i],"int32",l)}},{kernelName:t1,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{condition:r,t:n,e:i}=t,s=new xx(r.shape.length,n.shape,n.shape.length);return a.runWebGLProgram(s,[r,n,i],ra(n.dtype,i.dtype))}},{kernelName:t2,backendName:"webgl",kernelFunc:xN},{kernelName:t3,backendName:"webgl",kernelFunc:xk},{kernelName:t4,backendName:"webgl",kernelFunc:xS},{kernelName:"Sin",backendName:"webgl",kernelFunc:xI},{kernelName:t5,backendName:"webgl",kernelFunc:xC},{kernelName:t0,backendName:"webgl",kernelFunc:y$},{kernelName:ae,backendName:"webgl",kernelFunc:w4},{kernelName:t6,backendName:"webgl",kernelFunc:xT},{kernelName:t9,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{blockShape:i,paddings:s}=r;S(n.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");let o=i.reduce((e,t)=>e*t),l=[[0,0]];l.push(...s);for(let e=1+i.length;e<n.shape.length;++e)l.push([0,0]);let p=[],d=xt({inputs:{x:n},backend:a,attrs:{paddings:l,constantValue:0}}),u=oF(d.shape,i,o,!1),h=oO(u.length,i.length,!1),c=oP(d.shape,i,o,!1),m=b8({inputs:{x:d},backend:a,attrs:{shape:u}}),f=yi({inputs:{x:m},backend:a,attrs:{perm:h}}),g=b8({inputs:{x:f},backend:a,attrs:{shape:c}});return p.push(d),p.push(m),p.push(f),p.forEach(e=>a.disposeIntermediateTensorInfo(e)),g}},{kernelName:at,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{indices:r,values:n,denseShape:i,defaultValue:s}=t;if(1!==i.shape.length)throw Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(2!==r.shape.length)throw Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(1!==n.shape.length)throw Error(`Values must be a vector, saw:
         ${n.shape}`);if(0!==s.shape.length)throw Error(`Default value must be a scalar, saw:
        ${s.shape}`);let o=a.readSync(r.dataId),l=a.readSync(n.dataId),p=a.readSync(i.dataId),d=a.readSync(s.dataId)[0],[u,h,c,m,f]=bs(o,r.shape,r.dtype,l,n.dtype,p,d);return[a.makeTensorInfo(h,r.dtype,u),a.makeTensorInfo([h[0]],n.dtype,c),a.makeTensorInfo([m.length],"bool",new Uint8Array(m.map(e=>Number(e)))),a.makeTensorInfo([f.length],r.dtype,new Int32Array(f))]}},{kernelName:aa,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{inputIndices:r,inputShape:n,newShape:i}=t;if(2!==r.shape.length)throw Error(`Input indices should be a matrix but received shape ${r.shape}`);if(1!==n.shape.length)throw Error(`Input shape should be a vector but received shape ${n.shape}`);if(1!==i.shape.length)throw Error(`Target shape should be a vector but received shape ${i.shape}`);let s=Array.from(a.readSync(n.dataId)),o=a.readSync(r.dataId),l=Array.from(a.readSync(i.dataId)),[p,d,u]=bo(o,r.shape,r.dtype,s,l);return[a.makeTensorInfo(d,r.dtype,p),a.makeTensorInfo([u.length],i.dtype,new Int32Array(u))]}},{kernelName:ar,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{data:r,indices:n,segmentIds:i}=t;if(r.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==n.shape.length)throw Error(`Indices should be a vector but received shape
              ${n.shape}`);if(1!==i.shape.length)throw Error(`Segment ids should be a vector but received shape
              ${i.shape}`);let s=a.readSync(r.dataId),o=a.readSync(n.dataId),l=a.readSync(i.dataId),[p,d]=bl(s,r.shape,r.dtype,o,l,!0);return a.makeTensorInfo(d,r.dtype,p)}},{kernelName:an,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a}=e,{data:r,indices:n,segmentIds:i}=t;if(r.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==n.shape.length)throw Error(`Indices should be a vector but received shape
             ${n.shape}`);if(1!==i.shape.length)throw Error(`Segment ids should be a vector but received shape
             ${i.shape}`);let s=a.readSync(r.dataId),o=a.readSync(n.dataId),l=a.readSync(i.dataId),[p,d]=bl(s,r.shape,r.dtype,o,l);return a.makeTensorInfo(d,r.dtype,p)}},{kernelName:ai,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{sparseIndices:n,sparseValues:i,defaultValue:s}=t,{outputShape:o}=r,{sliceRank:l,numUpdates:p,sliceSize:d,strides:u,outputSize:h}=oj(i,n,o);if("string"===i.dtype){let e=ba(a.bufferSync(n),a.bufferSync(i),o,h,d,p,l,u,aJ(a.readSync(s.dataId)[0]),!1);return a.makeTensorInfo(o,e.dtype,e.values)}let c=new xb(p,l,n.shape.length,i.shape.length,u,[h,1],!1),m=a.runWebGLProgram(c,[i,n,s],i.dtype),f=b8({inputs:{x:m},backend:a,attrs:{shape:o}});return a.disposeIntermediateTensorInfo(m),f}},{kernelName:t7,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{numOrSizeSplits:i,axis:s}=r,o=L(s,n.shape)[0],l=la(n,i,o),p=Array(n.shape.length).fill(0),d=n.shape.slice();return l.map(e=>{let t=[...d];t[o]=e;let r=y$({inputs:{x:n},backend:a,attrs:{begin:p,size:t}});return p[o]+=e,r})}},{kernelName:t8,backendName:"webgl",kernelFunc:x_},{kernelName:ao,backendName:"webgl",kernelFunc:xE},{kernelName:as,backendName:"webgl",kernelFunc:xR},{kernelName:al,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t;if("string"!==n.dtype)throw Error("Input must be of datatype string");let i=bd(lb(a.readSync(n.dataId)),"string",r);return a.makeTensorInfo(n.shape,"string",i)}},{kernelName:aN,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function({inputs:e,attrs:t,backend:a}){let{x:r}=e,n=b_+`
    return x > 0.0 ? 1.0 : float(${t.alpha});
  `,i=new bA(r.shape,n);return a.runWebGLProgram(i,[r],r.dtype)}},{kernelName:ap,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:a,backend:r,attrs:n}=e,{x:i}=a,{begin:s,end:o,strides:l,beginMask:p,endMask:d,ellipsisMask:u,newAxisMask:h,shrinkAxisMask:c}=n,{finalShapeSparse:m,finalShape:f,isIdentity:g,sliceDim0:v,isSimpleSlice:b,begin:y,end:w,strides:x}=nJ(i.shape,s,o,l,p,d,u,h,c);if(g)t=b8({inputs:{x:i},backend:r,attrs:{shape:f}});else if(v||b){S(i.shape.length>=1,()=>`Input must have rank at least 1, got: ${i.shape.length}`);let e=nB(y,w,x),a=y$({inputs:{x:i},backend:r,attrs:{begin:y,size:e}});t=b8({inputs:{x:a},backend:r,attrs:{shape:f}}),r.disposeIntermediateTensorInfo(a)}else if(r.shouldExecuteOnCPU([i])){let e=r.readSync(i.dataId),a=bu(m,r6(i.shape,i.dtype,e),x,y);t=r.makeTensorInfo(f,i.dtype,a.values)}else{let e=new xL(y,x,m);t=r.runWebGLProgram(e,[i],i.dtype)}let N=b8({inputs:{x:t},backend:r,attrs:{shape:f}});return r.disposeIntermediateTensorInfo(t),N}},{kernelName:ad,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{separator:n,nGramWidths:i,leftPad:s,rightPad:o,padWidth:l,preserveShortSequences:p}=r,{data:d,dataSplits:u}=t,[h,c]=bh(a.readSync(d.dataId),a.readSync(u.dataId),n,i,s,o,l,p);return[a.makeTensorInfo([h.length],"string",h),a.makeTensorInfo(u.shape,"int32",c)]}},{kernelName:au,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{skipEmpty:n}=r,{input:i,delimiter:s}=t;if("string"!==i.dtype)throw Error("Input must be of datatype string");if(1!==i.shape.length)throw Error(`Input must be a vector, got shape: ${i.shape}`);if(0!==s.shape.length)throw Error(`Delimiter must be a scalar, got shape: ${s.shape}`);let[o,l,p]=bc(a.readSync(i.dataId),a.readSync(s.dataId)[0],n),d=l.length;return[a.makeTensorInfo([d,2],"int32",o),a.makeTensorInfo([d],"string",l),a.makeTensorInfo([2],"int32",new Int32Array(p))]}},{kernelName:ah,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{numBuckets:n}=r,{input:i}=t;if("string"!==i.dtype)throw Error("Input must be of datatype string");if(n<=0)throw Error("Number of buckets must be at least 1");let s=bm(a.readSync(i.dataId),n);return a.makeTensorInfo(i.shape,"int32",s)}},{kernelName:"Sub",backendName:"webgl",kernelFunc:w5},{kernelName:"Sum",backendName:"webgl",kernelFunc:yn},{kernelName:"Tan",backendName:"webgl",kernelFunc:xD},{kernelName:ac,backendName:"webgl",kernelFunc:xF},{kernelName:tZ,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{tensor:n,indices:i,updates:s}=t,{}=r,{sliceRank:o,numUpdates:l,sliceSize:p,strides:d,outputSize:u}=oj(s,i,n.shape),h=[u/p,p];if(0===u)return a.makeTensorInfo(n.shape,i.dtype);let c=b8({inputs:{x:i},backend:a,attrs:{shape:[l,o]}}),m=b8({inputs:{x:s},backend:a,attrs:{shape:[l,p]}}),f=b8({inputs:{x:n},backend:a,attrs:{shape:h}}),g=new xb(l,o,c.shape.length,m.shape.length,d,h,!1,!0),v=a.runWebGLProgram(g,[m,c,f],f.dtype),b=b8({inputs:{x:v},backend:a,attrs:{shape:n.shape}});return a.disposeIntermediateTensorInfo(c),a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(f),a.disposeIntermediateTensorInfo(v),b}},{kernelName:am,backendName:"webgl",kernelFunc:xP},{kernelName:af,backendName:"webgl",kernelFunc:function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n}=t,{k:i,sorted:s}=r,o=et.getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=et.getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),p=n.shape,d=p[p.length-1];if(a.shouldExecuteOnCPU([n])||d<o||i>l){let[e,t]=bv(a.readSync(n.dataId),p,n.dtype,i,s);return[a.makeTensorInfo(e.shape,e.dtype,e.values),a.makeTensorInfo(t.shape,t.dtype,t.values)]}if(0===i)return p[p.length-1]=0,[a.makeTensorInfo(p,n.dtype,[]),a.makeTensorInfo(p,"int32",[])];if(1===d)return[n,ww({attrs:{shape:p,dtype:"int32",value:0},backend:a})];let u=a.texData.get(n.dataId),h=null!==u&&u.isPacked,c=h?a.unpackTensor(n):n,m=T(p)/d,f=b8({inputs:{x:c},attrs:{shape:[m,d]},backend:a});h&&xz(a,c);let g=xV(i),v=xV(d),b=null,y=()=>null===b?[f,f]:[f,b],w=(e,t,r)=>{let n=y(),i=new xM(r),s=[[d],[null===b?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],o=b;b=a.runWebGLProgram(i,n,"int32",s),xz(a,o)};for(let e=1;e<g;e*=2){let t=2*e;for(let a=e;a>=1;a/=2)w(t,a,[m,v])}for(let e=v;e>g;e/=2){let t=y(),r=new xB([m,e/2]),n=[[d],[null===b?1:0],[g]],i=b;b=a.runWebGLProgram(r,t,"int32",n),xz(a,i);let s=g/2,o=2*s;for(let e=s;e>=1;e/=2)w(o,e,b.shape)}let x=b;b=y$({inputs:{x:b},backend:a,attrs:{begin:0,size:[m,i]}}),xz(a,x);let N=wE({inputs:{x:f,indices:b},backend:a,attrs:{axis:1,batchDims:1}});xz(a,f);let k=p.slice(0,-1);k.push(i),x=b,b=b8({inputs:{x:b},attrs:{shape:k},backend:a}),xz(a,x);let S=N;return N=b8({inputs:{x:N},attrs:{shape:k},backend:a}),xz(a,S),[N,b]}},{kernelName:ag,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{image:n,transforms:i}=t,{interpolation:s,fillMode:o,fillValue:l,outputShape:p}=r,[d,u,h,c]=n.shape,[m,f]=null!=p?p:[u,h],g=new xU(u,h,s,o,l,[d,m,f,c]);return a.runWebGLProgram(g,[n,i],"float32")}},{kernelName:av,backendName:"webgl",kernelFunc:yi},{kernelName:ab,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,attrs:a,backend:r}=e,{axis:n}=a,{x:i}=t;g9(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");let{outputValues:s,outputShape:o,indices:l}=by(r.readSync(i.dataId),n,i.shape,i.dtype);return[r.makeTensorInfo(o,i.dtype,s),r.makeTensorInfo([l.length],"int32",l)]}},{kernelName:ay,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{value:n}=t,{axis:i}=r;i<0&&(i+=n.shape.length);let s=n.shape.length,o=n.shape[i],l=Array(s-1),p=0;for(let e=0;e<s;e++)e!==i&&(l[p++]=n.shape[e]);let d=[],u=Array(s).fill(0),h=n.shape.slice();h[i]=1;let c=Array(o);for(let e=0;e<c.length;e++){u[i]=e;let t=y$({inputs:{x:n},backend:a,attrs:{begin:u,size:h}}),r=b8({inputs:{x:t},backend:a,attrs:{shape:l}});c[e]=r,d.push(t)}return d.forEach(e=>a.disposeIntermediateTensorInfo(e)),c}},{kernelName:aw,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:a,attrs:r}=e,{x:n,segmentIds:i}=t,{numSegments:s}=r,o=n.shape.length,l=[],p=0,d=i1([0],o),u=n;null!=d&&(u=yi({inputs:{x:n},backend:a,attrs:{perm:d}}),l.push(u),p=i0(1,o)[0]);let h=lg(u.shape,p,s),c=T([u.shape[p]]),m=b8({inputs:{x:u},backend:a,attrs:{shape:[-1,c]}});l.push(m);let f=rr(n.dtype),g=(e,t,r,n,i)=>{let s=e.shape[0],o=e.shape[1],p=lf(o,i),d=new xj({windowSize:p,inSize:o,batchSize:s,numSegments:i},t),u=a.compileAndRun(d,[e,r],n);if(l.push(u),u.shape[1]===i)return u;let h=xr({backend:a,attrs:{start:0,stop:i,step:1,dtype:"float32"}}),c=xP({inputs:{x:h},backend:a,attrs:{reps:[o/p]}});return l.push(h),l.push(c),g(u,t,c,n,i)},v=b8({inputs:{x:g(m,"unsortedSegmentSum",i,f,s)},backend:a,attrs:{shape:h}}),b=v;return null!=d&&(l.push(v),b=yi({inputs:{x:b},backend:a,attrs:{perm:i2(d)}})),l.forEach(e=>a.disposeIntermediateTensorInfo(e)),b}},{kernelName:ax,backendName:"webgl",kernelFunc:w9}])aL(e);var xW=a(4703),xq=a(2410),xG=a(2054),xH=a.n(xG),xK=(0,require("module").createRequire)("/");try{xK("worker_threads").Worker}catch(e){}var xX=Uint8Array,xY=Uint16Array,xJ=Int32Array,xZ=new xX([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xQ=new xX([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x1=new xX([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x2=function(e,t){for(var a=new xY(31),r=0;r<31;++r)a[r]=t+=1<<e[r-1];for(var n=new xJ(a[30]),r=1;r<30;++r)for(var i=a[r];i<a[r+1];++i)n[i]=i-a[r]<<5|r;return{b:a,r:n}},x0=x2(xZ,2),x5=x0.b,x4=x0.r;x5[28]=258,x4[258]=28;for(var x3=x2(xQ,0),x6=x3.b,x8=x3.r,x9=new xY(32768),x7=0;x7<32768;++x7){var Ne=(43690&x7)>>1|(21845&x7)<<1;Ne=(61680&(Ne=(52428&Ne)>>2|(13107&Ne)<<2))>>4|(3855&Ne)<<4,x9[x7]=((65280&Ne)>>8|(255&Ne)<<8)>>1}for(var Nt=function(e,t,a){for(var r,n=e.length,i=0,s=new xY(t);i<n;++i)e[i]&&++s[e[i]-1];var o=new xY(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;if(a){r=new xY(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var p=i<<4|e[i],d=t-e[i],u=o[e[i]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)r[x9[u]>>l]=p}else for(i=0,r=new xY(n);i<n;++i)e[i]&&(r[i]=x9[o[e[i]-1]++]>>15-e[i]);return r},Na=new xX(288),x7=0;x7<144;++x7)Na[x7]=8;for(var x7=144;x7<256;++x7)Na[x7]=9;for(var x7=256;x7<280;++x7)Na[x7]=7;for(var x7=280;x7<288;++x7)Na[x7]=8;for(var Nr=new xX(32),x7=0;x7<32;++x7)Nr[x7]=5;var Nn=Nt(Na,9,0),Ni=Nt(Na,9,1),Ns=Nt(Nr,5,0),No=Nt(Nr,5,1),Nl=function(e){for(var t=e[0],a=1;a<e.length;++a)e[a]>t&&(t=e[a]);return t},Np=function(e,t,a){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&a},Nd=function(e,t){var a=t/8|0;return(e[a]|e[a+1]<<8|e[a+2]<<16)>>(7&t)},Nu=function(e){return(e+7)/8|0},Nh=function(e,t,a){return(null==t||t<0)&&(t=0),(null==a||a>e.length)&&(a=e.length),new xX(e.subarray(t,a))},Nc=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Nm=function(e,t,a){var r=Error(t||Nc[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Nm),!a)throw r;return r},Nf=function(e,t,a,r){var n=e.length,i=r?r.length:0;if(!n||t.f&&!t.l)return a||new xX(0);var s=!a,o=s||2!=t.i,l=t.i;s&&(a=new xX(3*n));var p=function(e){var t=a.length;if(e>t){var r=new xX(Math.max(2*t,e));r.set(a),a=r}},d=t.f||0,u=t.p||0,h=t.b||0,c=t.l,m=t.d,f=t.m,g=t.n,v=8*n;do{if(!c){d=Np(e,u,1);var b=Np(e,u+1,3);if(u+=3,b){if(1==b)c=Ni,m=No,f=9,g=5;else if(2==b){var y=Np(e,u,31)+257,w=Np(e,u+10,15)+4,x=y+Np(e,u+5,31)+1;u+=14;for(var N=new xX(x),k=new xX(19),S=0;S<w;++S)k[x1[S]]=Np(e,u+3*S,7);u+=3*w;for(var I=Nl(k),C=(1<<I)-1,T=Nt(k,I,1),S=0;S<x;){var A=T[Np(e,u,C)];u+=15&A;var _=A>>4;if(_<16)N[S++]=_;else{var E=0,$=0;for(16==_?($=3+Np(e,u,3),u+=2,E=N[S-1]):17==_?($=3+Np(e,u,7),u+=3):18==_&&($=11+Np(e,u,127),u+=7);$--;)N[S++]=E}}var R=N.subarray(0,y),L=N.subarray(y);f=Nl(R),g=Nl(L),c=Nt(R,f,1),m=Nt(L,g,1)}else Nm(1)}else{var _=Nu(u)+4,D=e[_-4]|e[_-3]<<8,F=_+D;if(F>n){l&&Nm(0);break}o&&p(h+D),a.set(e.subarray(_,F),h),t.b=h+=D,t.p=u=8*F,t.f=d;continue}if(u>v){l&&Nm(0);break}}o&&p(h+131072);for(var O=(1<<f)-1,P=(1<<g)-1,M=u;;M=u){var E=c[Nd(e,u)&O],B=E>>4;if((u+=15&E)>v){l&&Nm(0);break}if(E||Nm(2),B<256)a[h++]=B;else if(256==B){M=u,c=null;break}else{var z=B-254;if(B>264){var S=B-257,V=xZ[S];z=Np(e,u,(1<<V)-1)+x5[S],u+=V}var U=m[Nd(e,u)&P],j=U>>4;U||Nm(3),u+=15&U;var L=x6[j];if(j>3){var V=xQ[j];L+=Nd(e,u)&(1<<V)-1,u+=V}if(u>v){l&&Nm(0);break}o&&p(h+131072);var W=h+z;if(h<L){var q=i-L,G=Math.min(L,W);for(q+h<0&&Nm(3);h<G;++h)a[h]=r[q+h]}for(;h<W;++h)a[h]=a[h-L]}}t.l=c,t.p=M,t.b=h,t.f=d,c&&(d=1,t.m=f,t.d=m,t.n=g)}while(!d);return h!=a.length&&s?Nh(a,0,h):a.subarray(0,h)},Ng=function(e,t,a){a<<=7&t;var r=t/8|0;e[r]|=a,e[r+1]|=a>>8},Nv=function(e,t,a){a<<=7&t;var r=t/8|0;e[r]|=a,e[r+1]|=a>>8,e[r+2]|=a>>16},Nb=function(e,t){for(var a=[],r=0;r<e.length;++r)e[r]&&a.push({s:r,f:e[r]});var n=a.length,i=a.slice();if(!n)return{t:NI,l:0};if(1==n){var s=new xX(a[0].s+1);return s[a[0].s]=1,{t:s,l:1}}a.sort(function(e,t){return e.f-t.f}),a.push({s:-1,f:25001});var o=a[0],l=a[1],p=0,d=1,u=2;for(a[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=n-1;)o=a[a[p].f<a[u].f?p++:u++],l=a[p!=d&&a[p].f<a[u].f?p++:u++],a[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,r=1;r<n;++r)i[r].s>h&&(h=i[r].s);var c=new xY(h+1),m=Ny(a[d-1],c,0);if(m>t){var r=0,f=0,g=m-t,v=1<<g;for(i.sort(function(e,t){return c[t.s]-c[e.s]||e.f-t.f});r<n;++r){var b=i[r].s;if(c[b]>t)f+=v-(1<<m-c[b]),c[b]=t;else break}for(f>>=g;f>0;){var y=i[r].s;c[y]<t?f-=1<<t-c[y]++-1:++r}for(;r>=0&&f;--r){var w=i[r].s;c[w]==t&&(--c[w],++f)}m=t}return{t:new xX(c),l:m}},Ny=function(e,t,a){return -1==e.s?Math.max(Ny(e.l,t,a+1),Ny(e.r,t,a+1)):t[e.s]=a},Nw=function(e){for(var t=e.length;t&&!e[--t];);for(var a=new xY(++t),r=0,n=e[0],i=1,s=function(e){a[r++]=e},o=1;o<=t;++o)if(e[o]==n&&o!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(n),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(n);i=1,n=e[o]}return{c:a.subarray(0,r),n:t}},Nx=function(e,t){for(var a=0,r=0;r<t.length;++r)a+=e[r]*t[r];return a},NN=function(e,t,a){var r=a.length,n=Nu(t+2);e[n]=255&r,e[n+1]=r>>8,e[n+2]=255^e[n],e[n+3]=255^e[n+1];for(var i=0;i<r;++i)e[n+i+4]=a[i];return(n+4+r)*8},Nk=function(e,t,a,r,n,i,s,o,l,p,d){Ng(t,d++,a),++n[256];for(var u,h,c,m,f=Nb(n,15),g=f.t,v=f.l,b=Nb(i,15),y=b.t,w=b.l,x=Nw(g),N=x.c,k=x.n,S=Nw(y),I=S.c,C=S.n,T=new xY(19),A=0;A<N.length;++A)++T[31&N[A]];for(var A=0;A<I.length;++A)++T[31&I[A]];for(var _=Nb(T,7),E=_.t,$=_.l,R=19;R>4&&!E[x1[R-1]];--R);var L=p+5<<3,D=Nx(n,Na)+Nx(i,Nr)+s,F=Nx(n,g)+Nx(i,y)+s+14+3*R+Nx(T,E)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&L<=D&&L<=F)return NN(t,d,e.subarray(l,l+p));if(Ng(t,d,1+(F<D)),d+=2,F<D){u=Nt(g,v,0),h=g,c=Nt(y,w,0),m=y;var O=Nt(E,$,0);Ng(t,d,k-257),Ng(t,d+5,C-1),Ng(t,d+10,R-4),d+=14;for(var A=0;A<R;++A)Ng(t,d+3*A,E[x1[A]]);d+=3*R;for(var P=[N,I],M=0;M<2;++M)for(var B=P[M],A=0;A<B.length;++A){var z=31&B[A];Ng(t,d,O[z]),d+=E[z],z>15&&(Ng(t,d,B[A]>>5&127),d+=B[A]>>12)}}else u=Nn,h=Na,c=Ns,m=Nr;for(var A=0;A<o;++A){var V=r[A];if(V>255){var z=V>>18&31;Nv(t,d,u[z+257]),d+=h[z+257],z>7&&(Ng(t,d,V>>23&31),d+=xZ[z]);var U=31&V;Nv(t,d,c[U]),d+=m[U],U>3&&(Nv(t,d,V>>5&8191),d+=xQ[U])}else Nv(t,d,u[V]),d+=h[V]}return Nv(t,d,u[256]),d+h[256]},NS=new xJ([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),NI=new xX(0),NC=function(e,t,a,r,n,i){var s=i.z||e.length,o=new xX(r+s+5*(1+Math.ceil(s/7e3))+n),l=o.subarray(r,o.length-n),p=i.l,d=7&(i.r||0);if(t){d&&(l[0]=i.r>>3);for(var u=NS[t-1],h=u>>13,c=8191&u,m=(1<<a)-1,f=i.p||new xY(32768),g=i.h||new xY(m+1),v=Math.ceil(a/3),b=2*v,y=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<b)&m},w=new xJ(25e3),x=new xY(288),N=new xY(32),k=0,S=0,I=i.i||0,C=0,T=i.w||0,A=0;I+2<s;++I){var _=y(I),E=32767&I,$=g[_];if(f[E]=$,g[_]=E,T<=I){var R=s-I;if((k>7e3||C>24576)&&(R>423||!p)){d=Nk(e,l,0,w,x,N,S,C,A,I-A,d),C=k=S=0,A=I;for(var L=0;L<286;++L)x[L]=0;for(var L=0;L<30;++L)N[L]=0}var D=2,F=0,O=c,P=E-$&32767;if(R>2&&_==y(I-P))for(var M=Math.min(h,R)-1,B=Math.min(32767,I),z=Math.min(258,R);P<=B&&--O&&E!=$;){if(e[I+D]==e[I+D-P]){for(var V=0;V<z&&e[I+V]==e[I+V-P];++V);if(V>D){if(D=V,F=P,V>M)break;for(var U=Math.min(P,V-2),j=0,L=0;L<U;++L){var W=I-P+L&32767,q=f[W],G=W-q&32767;G>j&&(j=G,$=W)}}}$=f[E=$],P+=E-$&32767}if(F){w[C++]=268435456|x4[D]<<18|x8[F];var H=31&x4[D],K=31&x8[F];S+=xZ[H]+xQ[K],++x[257+H],++N[K],T=I+D,++k}else w[C++]=e[I],++x[e[I]]}}for(I=Math.max(I,T);I<s;++I)w[C++]=e[I],++x[e[I]];d=Nk(e,l,p,w,x,N,S,C,A,I-A,d),p||(i.r=7&d|l[d/8|0]<<3,d-=7,i.h=g,i.p=f,i.i=I,i.w=T)}else{for(var I=i.w||0;I<s+p;I+=65535){var X=I+65535;X>=s&&(l[d/8|0]=p,X=s),d=NN(l,d+1,e.subarray(I,X))}i.i=s}return Nh(o,0,r+Nu(d)+n)},NT=function(){var e=1,t=0;return{p:function(a){for(var r=e,n=t,i=0|a.length,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)n+=r+=a[s];r=(65535&r)+15*(r>>16),n=(65535&n)+15*(n>>16)}e=r,t=n},d:function(){return e%=65521,t%=65521,(255&e)<<24|(65280&e)<<8|(255&t)<<8|t>>8}}},NA=function(e,t,a,r,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new xX(i.length+e.length);s.set(i),s.set(e,i.length),e=s,n.w=i.length}return NC(e,null==t.level?6:t.level,null==t.mem?n.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,a,r,n)},N_=function(e,t){var a={};for(var r in e)a[r]=e[r];for(var r in t)a[r]=t[r];return a},NE=function(e,t,a){for(var r=e(),n=e.toString(),i=n.slice(n.indexOf("[")+1,n.lastIndexOf("]")).replace(/\s+/g,"").split(","),s=0;s<r.length;++s){var o=r[s],l=i[s];if("function"==typeof o){t+=";"+l+"=";var p=o.toString();if(o.prototype){if(-1!=p.indexOf("[native code]")){var d=p.indexOf(" ",8)+1;t+=p.slice(d,p.indexOf("(",d))}else for(var u in t+=p,o.prototype)t+=";"+l+".prototype."+u+"="+o.prototype[u].toString()}else t+=p}else a[l]=o}return t},N$=function(e){var t=[];for(var a in e)e[a].buffer&&t.push((e[a]=new e[a].constructor(e[a])).buffer);return t},NR=function(e,t,a,r){if(!null[a]){for(var n="",i={},s=e.length-1,o=0;o<s;++o)n=NE(e[o],n,i);null[a]={c:NE(e[s],n,i),e:i}}var l=N_({},null[a].e);return(null)(null[a].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",a,l,N$(l),r)},NL=function(e){return postMessage(e,[e.buffer])},ND=function(e){return e&&{out:e.size&&new xX(e.size),dictionary:e.dictionary}},NF=function(e,t){return e[t]|e[t+1]<<8},NO=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},NP=function(e,t){return NO(e,t)+4294967296*NO(e,t+4)},NM=function(e,t,a){for(;a;++t)e[t]=a,a>>>=8},NB=function(e,t){var a=t.level;if(e[0]=120,e[1]=(0==a?0:a<6?1:9==a?3:2)<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=NT();r.p(t.dictionary),NM(e,2,r.d())}};function Nz(e,t){return Nf(e,{i:2},t&&t.out,t&&t.dictionary)}function NV(e,t){t||(t={});var a=NT();a.p(e);var r=NA(e,t,t.dictionary?6:2,4);return NB(r,t),NM(r,r.length-4,a.d()),r}var NU="undefined"!=typeof TextDecoder&&new TextDecoder;try{NU.decode(NI,{stream:!0})}catch(e){}var Nj=("function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout,function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}());function NW(){Nj.console&&"function"==typeof Nj.console.log&&Nj.console.log.apply(Nj.console,arguments)}var Nq={log:NW,warn:function(e){Nj.console&&("function"==typeof Nj.console.warn?Nj.console.warn.apply(Nj.console,arguments):NW.call(null,arguments))},error:function(e){Nj.console&&("function"==typeof Nj.console.error?Nj.console.error.apply(Nj.console,arguments):NW(e))}};function NG(e,t,a){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){ka(r.response,t,a)},r.onerror=function(){Nq.error("could not download file")},r.send()}function NH(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function NK(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var NX,NY,NJ,NZ,NQ,N1,N2,N0,N5,N4,N3,N6,N8,N9,N7,ke,kt,ka=Nj.saveAs||("object"!==("undefined"==typeof window?"undefined":xH()(window))||window!==Nj?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,a){var r=Nj.URL||Nj.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener","string"==typeof e?(n.href=e,n.origin!==location.origin?NH(n.href)?NG(e,t,a):NK(n,n.target="_blank"):NK(n)):(n.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(n.href)},4e4),setTimeout(function(){NK(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download","string"==typeof e){if(NH(e))NG(e,t,a);else{var r,n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){NK(n)})}}else navigator.msSaveOrOpenBlob((void 0===(r=a)?r={autoBom:!1}:"object"!==xH()(r)&&(Nq.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e),t)}:function(e,t,a,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return NG(e,t,a);var n="application/octet-stream"===e.type,i=/constructor/i.test(Nj.HTMLElement)||Nj.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&i)&&"object"===("undefined"==typeof FileReader?"undefined":xH()(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},o.readAsDataURL(e)}else{var l=Nj.URL||Nj.webkitURL,p=l.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout(function(){l.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function kr(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=({aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"})[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<a.length;r++){var n=a[r].re,i=a[r].process,s=n.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),a=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==a.length&&(a="0"+a),"#"+e+t+a}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kn(e,t){var a=e[0],r=e[1],n=e[2],i=e[3];a=ks(a,r,n,i,t[0],7,-680876936),i=ks(i,a,r,n,t[1],12,-389564586),n=ks(n,i,a,r,t[2],17,606105819),r=ks(r,n,i,a,t[3],22,-1044525330),a=ks(a,r,n,i,t[4],7,-176418897),i=ks(i,a,r,n,t[5],12,1200080426),n=ks(n,i,a,r,t[6],17,-1473231341),r=ks(r,n,i,a,t[7],22,-45705983),a=ks(a,r,n,i,t[8],7,1770035416),i=ks(i,a,r,n,t[9],12,-1958414417),n=ks(n,i,a,r,t[10],17,-42063),r=ks(r,n,i,a,t[11],22,-1990404162),a=ks(a,r,n,i,t[12],7,1804603682),i=ks(i,a,r,n,t[13],12,-40341101),n=ks(n,i,a,r,t[14],17,-1502002290),a=ko(a,r=ks(r,n,i,a,t[15],22,1236535329),n,i,t[1],5,-165796510),i=ko(i,a,r,n,t[6],9,-1069501632),n=ko(n,i,a,r,t[11],14,643717713),r=ko(r,n,i,a,t[0],20,-373897302),a=ko(a,r,n,i,t[5],5,-701558691),i=ko(i,a,r,n,t[10],9,38016083),n=ko(n,i,a,r,t[15],14,-660478335),r=ko(r,n,i,a,t[4],20,-405537848),a=ko(a,r,n,i,t[9],5,568446438),i=ko(i,a,r,n,t[14],9,-1019803690),n=ko(n,i,a,r,t[3],14,-187363961),r=ko(r,n,i,a,t[8],20,1163531501),a=ko(a,r,n,i,t[13],5,-1444681467),i=ko(i,a,r,n,t[2],9,-51403784),n=ko(n,i,a,r,t[7],14,1735328473),a=kl(a,r=ko(r,n,i,a,t[12],20,-1926607734),n,i,t[5],4,-378558),i=kl(i,a,r,n,t[8],11,-2022574463),n=kl(n,i,a,r,t[11],16,1839030562),r=kl(r,n,i,a,t[14],23,-35309556),a=kl(a,r,n,i,t[1],4,-1530992060),i=kl(i,a,r,n,t[4],11,1272893353),n=kl(n,i,a,r,t[7],16,-155497632),r=kl(r,n,i,a,t[10],23,-1094730640),a=kl(a,r,n,i,t[13],4,681279174),i=kl(i,a,r,n,t[0],11,-358537222),n=kl(n,i,a,r,t[3],16,-722521979),r=kl(r,n,i,a,t[6],23,76029189),a=kl(a,r,n,i,t[9],4,-640364487),i=kl(i,a,r,n,t[12],11,-421815835),n=kl(n,i,a,r,t[15],16,530742520),a=kp(a,r=kl(r,n,i,a,t[2],23,-995338651),n,i,t[0],6,-198630844),i=kp(i,a,r,n,t[7],10,1126891415),n=kp(n,i,a,r,t[14],15,-1416354905),r=kp(r,n,i,a,t[5],21,-57434055),a=kp(a,r,n,i,t[12],6,1700485571),i=kp(i,a,r,n,t[3],10,-1894986606),n=kp(n,i,a,r,t[10],15,-1051523),r=kp(r,n,i,a,t[1],21,-2054922799),a=kp(a,r,n,i,t[8],6,1873313359),i=kp(i,a,r,n,t[15],10,-30611744),n=kp(n,i,a,r,t[6],15,-1560198380),r=kp(r,n,i,a,t[13],21,1309151649),a=kp(a,r,n,i,t[4],6,-145523070),i=kp(i,a,r,n,t[11],10,-1120210379),n=kp(n,i,a,r,t[2],15,718787259),r=kp(r,n,i,a,t[9],21,-343485551),e[0]=kf(a,e[0]),e[1]=kf(r,e[1]),e[2]=kf(n,e[2]),e[3]=kf(i,e[3])}function ki(e,t,a,r,n,i){return t=kf(kf(t,e),kf(r,i)),kf(t<<n|t>>>32-n,a)}function ks(e,t,a,r,n,i,s){return ki(t&a|~t&r,e,t,n,i,s)}function ko(e,t,a,r,n,i,s){return ki(t&r|a&~r,e,t,n,i,s)}function kl(e,t,a,r,n,i,s){return ki(t^a^r,e,t,n,i,s)}function kp(e,t,a,r,n,i,s){return ki(a^(t|~r),e,t,n,i,s)}function kd(e){var t,a=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)kn(r,function(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(kn(r,n),t=0;t<16;t++)n[t]=0;return n[14]=8*a,kn(r,n),r}ke=Nj.atob.bind(Nj),kt=Nj.btoa.bind(Nj);var ku="0123456789abcdef".split("");function kh(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function kc(e){return kd(e).map(kh).join("")}var km="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=function(e){for(var t="",a=0;a<4;a++)t+=ku[e>>8*a+4&15]+ku[e>>8*a&15];return t}(e[t]);return e.join("")}(kd("hello"));function kf(e,t){if(km){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function kg(e,t){if(e!==a){for(var a,r,n=Array(1+(256/e.length>>0)+1).join(e),i=[],s=0;s<256;s++)i[s]=s;var o=0;for(s=0;s<256;s++){var l=i[s];o=(o+l+n.charCodeAt(s))%256,i[s]=i[o],i[o]=l}a=e,r=i}else i=r;var p=t.length,d=0,u=0,h="";for(s=0;s<p;s++)u=(u+(l=i[d=(d+1)%256]))%256,i[d]=i[u],i[u]=l,n=i[(i[d]+i[u])%256],h+=String.fromCharCode(t.charCodeAt(s)^n);return h}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var kv={print:4,modify:8,copy:16,"annot-forms":32};function kb(e,t,a,r){this.v=1,this.r=2;var n=192;e.forEach(function(e){if(void 0!==kv.perm)throw Error("Invalid permission: "+e);n+=kv[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var i=(t+this.padding).substr(0,32),s=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^n)),this.encryptionKey=kc(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=kg(this.encryptionKey,this.padding)}function ky(e){if(/[^\u0000-\u00ff]/.test(e))throw Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",a=e.length,r=0;r<a;r++){var n=e.charCodeAt(r);n<33||35===n||37===n||40===n||41===n||47===n||60===n||62===n||91===n||93===n||123===n||125===n||n>126?t+="#"+("0"+n.toString(16)).slice(-2):t+=e[r]}return t}function kw(e){if("object"!==xH()(e))throw Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,a,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof a||"boolean"!=typeof r)throw Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var n=Math.random().toString(35);return t[e][n]=[a,!!r],n},this.unsubscribe=function(e){for(var a in t)if(t[a][e])return delete t[a][e],0===Object.keys(t[a]).length&&delete t[a],!0;return!1},this.publish=function(a){if(t.hasOwnProperty(a)){var r=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[a]){var s=t[a][i];try{s[0].apply(e,r)}catch(e){Nj.console&&Nq.error("jsPDF PubSub Error",e.message,e)}s[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function kx(e){if(!(this instanceof kx))return new kx(e);var t="opacity,stroke-opacity".split(",");for(var a in e)e.hasOwnProperty(a)&&t.indexOf(a)>=0&&(this[a]=e[a]);this.id="",this.objectNumber=-1}function kN(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function kk(e,t,a,r,n){if(!(this instanceof kk))return new kk(e,t,a,r,n);this.type="axial"===e?2:3,this.coords=t,this.colors=a,kN.call(this,r,n)}function kS(e,t,a,r,n){if(!(this instanceof kS))return new kS(e,t,a,r,n);this.boundingBox=e,this.xStep=t,this.yStep=a,this.stream="",this.cloneIndex=0,kN.call(this,r,n)}function kI(e){var t,a="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],n=arguments[2],i=arguments[3],s=[],o=1,l=16,p="S",d=null;"object"===xH()(e=e||{})&&(a=e.orientation,r=e.unit||r,n=e.format||n,i=e.compress||e.compressPdf||i,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),p=e.defaultPathOperation||"S"),s=e.filters||(!0===i?["FlateEncode"]:s),r=r||"mm",a=(""+(a||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},c={internal:{},__private__:{}};c.__private__.PubSub=kw;var m="1.3",f=c.__private__.getPdfVersion=function(){return m};c.__private__.setPdfVersion=function(e){m=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};c.__private__.getPageFormats=function(){return g};var v=c.__private__.getPageFormat=function(e){return g[e]};n=n||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},y=b.COMPAT;function w(){this.saveGraphicsState(),J(new e$(eh,0,0,-eh,0,ar()*eh).toString()+" cm"),this.setFontSize(this.getFontSize()/eh),p="n",y=b.ADVANCED}function x(){this.restoreGraphicsState(),p="S",y=b.COMPAT}var N=c.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};c.advancedAPI=function(e){var t=y===b.COMPAT;return t&&w.call(this),"function"!=typeof e||(e(this),t&&x.call(this)),this},c.compatAPI=function(e){var t=y===b.ADVANCED;return t&&x.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},c.isAdvancedAPI=function(){return y===b.ADVANCED};var k,S=function(e){if(y!==b.ADVANCED)throw Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=c.roundToPrecision=c.__private__.roundToPrecision=function(e,a){var r=t||a;if(isNaN(e)||isNaN(r))throw Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};k=c.hpf=c.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.hpf");return I(e,l)}:"smart"===l?function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.hpf");return I(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.hpf");return I(e,16)};var C=c.f2=c.__private__.f2=function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.f2");return I(e,2)},T=c.__private__.f3=function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.f3");return I(e,3)},A=c.scale=c.__private__.scale=function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.scale");return y===b.COMPAT?e*eh:y===b.ADVANCED?e:void 0},_=function(e){return A(y===b.COMPAT?ar()-e:y===b.ADVANCED?e:void 0)};c.__private__.setPrecision=c.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var E,$="00000000000000000000000000000000",R=c.__private__.getFileId=function(){return $},L=c.__private__.setFileId=function(e){return $=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(tx=new kb(d.userPermissions,d.userPassword,d.ownerPassword,$)),$};c.setFileId=function(e){return L(e),this},c.getFileId=function(){return R()};var D=c.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),a=[t<0?"+":"-",B(Math.floor(Math.abs(t/60))),"'",B(Math.abs(t%60)),"'"].join("");return["D:",e.getFullYear(),B(e.getMonth()+1),B(e.getDate()),B(e.getHours()),B(e.getMinutes()),B(e.getSeconds()),a].join("")},F=c.__private__.convertPDFDateToDate=function(e){return new Date(parseInt(e.substr(2,4),10),parseInt(e.substr(6,2),10)-1,parseInt(e.substr(8,2),10),parseInt(e.substr(10,2),10),parseInt(e.substr(12,2),10),parseInt(e.substr(14,2),10),0)},O=c.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=D(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return E=t},P=c.__private__.getCreationDate=function(e){var t=E;return"jsDate"===e&&(t=F(E)),t};c.setCreationDate=function(e){return O(e),this},c.getCreationDate=function(e){return P(e)};var M,B=c.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},z=c.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},V=0,U=[],j=[],W=0,q=[],G=[],H=!1,K=j,X=function(){V=0,W=0,j=[],U=[],q=[],eB=eO(),ez=eO()};c.__private__.setCustomOutputDestination=function(e){H=!0,K=e};var Y=function(e){H||(K=e)};c.__private__.resetCustomOutputDestination=function(){H=!1,K=j};var J=c.__private__.out=function(e){return e=e.toString(),W+=e.length+1,K.push(e),K},Z=c.__private__.write=function(e){return J(1==arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Q=c.__private__.getArrayBuffer=function(e){for(var t=e.length,a=new ArrayBuffer(t),r=new Uint8Array(a);t--;)r[t]=e.charCodeAt(t);return a},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];c.__private__.getStandardFonts=function(){return ee};var et=e.fontSize||16;c.__private__.setFontSize=c.setFontSize=function(e){return et=y===b.ADVANCED?e/eh:e,this};var ea,er=c.__private__.getFontSize=c.getFontSize=function(){return y===b.COMPAT?et:et*eh},en=e.R2L||!1;c.__private__.setR2L=c.setR2L=function(e){return en=e,this},c.__private__.getR2L=c.getR2L=function(){return en};var ei,es=c.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ea=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ea=e}else ea=parseInt(e,10)};c.__private__.getZoomMode=function(){return ea};var eo,el=c.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ei=e};c.__private__.getPageMode=function(){return ei};var ep=c.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');eo=e};c.__private__.getLayoutMode=function(){return eo},c.__private__.setDisplayMode=c.setDisplayMode=function(e,t,a){return es(e),ep(t),el(a),this};var ed={title:"",subject:"",author:"",keywords:"",creator:""};c.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ed).indexOf(e))throw Error("Invalid argument passed to jsPDF.getDocumentProperty");return ed[e]},c.__private__.getDocumentProperties=function(){return ed},c.__private__.setDocumentProperties=c.setProperties=c.setDocumentProperties=function(e){for(var t in ed)ed.hasOwnProperty(t)&&e[t]&&(ed[t]=e[t]);return this},c.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ed).indexOf(e))throw Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ed[e]=t};var eu,eh,ec,em,ef,eg={},ev={},eb=[],ey={},ew={},ex={},eN={},ek=null,eS=0,eI=[],eC=new kw(c),eT=e.hotfixes||[],eA={},e_={},eE=[],e$=function e(t,a,r,n,i,s){if(!(this instanceof e))return new e(t,a,r,n,i,s);isNaN(t)&&(t=1),isNaN(a)&&(a=0),isNaN(r)&&(r=0),isNaN(n)&&(n=1),isNaN(i)&&(i=0),isNaN(s)&&(s=0),this._matrix=[t,a,r,n,i,s]};Object.defineProperty(e$.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(e$.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(e$.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(e$.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(e$.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(e$.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(e$.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(e$.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(e$.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(e$.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(e$.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(e$.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(e$.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(e$.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(e$.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(e$.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),e$.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},e$.prototype.multiply=function(e){return new e$(e.sx*this.sx+e.shy*this.shx,e.sx*this.shy+e.shy*this.sy,e.shx*this.sx+e.sy*this.shx,e.shx*this.shy+e.sy*this.sy,e.tx*this.sx+e.ty*this.shx+this.tx,e.tx*this.shy+e.ty*this.sy+this.ty)},e$.prototype.decompose=function(){var e=this.sx,t=this.shy,a=this.shx,r=this.sy,n=this.tx,i=this.ty,s=Math.sqrt(e*e+t*t),o=(e/=s)*a+(t/=s)*r,l=Math.sqrt((a-=e*o)*a+(r-=t*o)*r);return o/=l,e*(r/=l)<t*(a/=l)&&(e=-e,t=-t,o=-o,s=-s),{scale:new e$(s,0,0,l,0,0),translate:new e$(1,0,0,1,n,i),rotate:new e$(e,t,-t,e,0,0),skew:new e$(1,0,o,1,0,0)}},e$.prototype.toString=function(e){return this.join(" ")},e$.prototype.inversed=function(){var e=this.sx,t=this.shy,a=this.shx,r=this.sy,n=this.tx,i=this.ty,s=1/(e*r-t*a),o=r*s,l=-t*s,p=-a*s,d=e*s;return new e$(o,l,p,d,-o*n-p*i,-l*n-d*i)},e$.prototype.applyToPoint=function(e){return new t3(e.x*this.sx+e.y*this.shx+this.tx,e.x*this.shy+e.y*this.sy+this.ty)},e$.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),a=this.applyToPoint(new t3(e.x+e.w,e.y+e.h));return new t6(t.x,t.y,a.x-t.x,a.y-t.y)},e$.prototype.clone=function(){return new e$(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},c.Matrix=e$;var eR=c.matrixMult=function(e,t){return t.multiply(e)},eL=new e$(1,0,0,1,0,0);c.unitMatrix=c.identityMatrix=eL;var eD=function(e,t){if(!ew[e]){var a=(t instanceof kk?"Sh":"P")+(Object.keys(ey).length+1).toString(10);t.id=a,ew[e]=a,ey[a]=t,eC.publish("addPattern",t)}};c.ShadingPattern=kk,c.TilingPattern=kS,c.addShadingPattern=function(e,t){return S("addShadingPattern()"),eD(e,t),this},c.beginTilingPattern=function(e){S("beginTilingPattern()"),t9(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},c.endTilingPattern=function(e,t){S("endTilingPattern()"),t.stream=G[M].join("\n"),eD(e,t),eC.publish("endTilingPattern",t),eE.pop().restore()};var eF=c.__private__.newObject=function(){var e=eO();return eP(e,!0),e},eO=c.__private__.newObjectDeferred=function(){return U[++V]=function(){return W},V},eP=function(e,t){return t="boolean"==typeof t&&t,U[e]=W,t&&J(e+" 0 obj"),e},eM=c.__private__.newAdditionalObject=function(){var e={objId:eO(),content:""};return q.push(e),e},eB=eO(),ez=eO(),eV=c.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5===t.length&&("k"===t[4]||"K"===t[4])&&(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var a=parseFloat(t[0]);t=[a,a,a,"r"]}for(var r="#",n=0;n<3;n++)r+=("0"+Math.floor(255*parseFloat(t[n])).toString(16)).slice(-2);return r},eU=c.__private__.encodeColorString=function(e){"string"==typeof e&&(e={ch1:e});var t,a=e.ch1,r=e.ch2,n=e.ch3,i=e.ch4,s="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof a&&"#"!==a.charAt(0)){var o=new kr(a);if(o.ok)a=o.toHex();else if(!/^\d*\.?\d*$/.test(a))throw Error('Invalid color "'+a+'" passed to jsPDF.encodeColorString.')}if("string"==typeof a&&/^#[0-9A-Fa-f]{3}$/.test(a)&&(a="#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]),"string"==typeof a&&/^#[0-9A-Fa-f]{6}$/.test(a)){var l=parseInt(a.substr(1),16);a=l>>16&255,r=l>>8&255,n=255&l}if(void 0===r||void 0===i&&a===r&&r===n)t="string"==typeof a?a+" "+s[0]:2===e.precision?C(a/255)+" "+s[0]:T(a/255)+" "+s[0];else if(void 0===i||"object"===xH()(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",s[1]].join(" ");t="string"==typeof a?[a,r,n,s[1]].join(" "):2===e.precision?[C(a/255),C(r/255),C(n/255),s[1]].join(" "):[T(a/255),T(r/255),T(n/255),s[1]].join(" ")}else t="string"==typeof a?[a,r,n,i,s[2]].join(" "):2===e.precision?[C(a),C(r),C(n),C(i),s[2]].join(" "):[T(a),T(r),T(n),T(i),s[2]].join(" ");return t},ej=c.__private__.getFilters=function(){return s},eW=c.__private__.putStream=function(e){var t=(e=e||{}).data||"",a=e.filters||ej(),r=e.alreadyAppliedFilters||[],n=e.addLength1||!1,i=t.length,s=e.objectId,o=function(e){return e};if(null!==d&&void 0===s)throw Error("ObjectId must be passed to putStream for file encryption");null!==d&&(o=tx.encryptor(s,0));var l={};!0===a&&(a=["FlateEncode"]);var p=e.additionalKeyValues||[],u=(l=void 0!==kI.API.processDataByFilters?kI.API.processDataByFilters(t,a):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(p.push({key:"Length",value:l.data.length}),!0===n&&p.push({key:"Length1",value:i})),0!=u.length){if(u.split("/").length-1==1)p.push({key:"Filter",value:u});else{p.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<p.length;h+=1)if("DecodeParms"===p[h].key){for(var c=[],m=0;m<l.reverseChain.split("/").length-1;m+=1)c.push("null");c.push(p[h].value),p[h].value="["+c.join(" ")+"]"}}}J("<<");for(var f=0;f<p.length;f++)J("/"+p[f].key+" "+p[f].value);J(">>"),0!==l.data.length&&(J("stream"),J(o(l.data)),J("endstream"))},eq=c.__private__.putPage=function(e){var t=e.number,a=e.data,r=e.objId,n=e.contentsObjId;eP(r,!0),J("<</Type /Page"),J("/Parent "+e.rootDictionaryObjId+" 0 R"),J("/Resources "+e.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&J("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&J("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&J("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&J("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&J("/UserUnit "+e.userUnit),eC.publish("putPage",{objId:r,pageContext:eI[t],pageNumber:t,page:a}),J("/Contents "+n+" 0 R"),J(">>"),J("endobj");var i=a.join("\n");return y===b.ADVANCED&&(i+="\nQ"),eP(n,!0),eW({data:i,filters:ej(),objectId:n}),J("endobj"),r},eG=c.__private__.putPages=function(){var e,t,a=[];for(e=1;e<=eS;e++)eI[e].objId=eO(),eI[e].contentsObjId=eO();for(e=1;e<=eS;e++)a.push(eq({number:e,data:G[e],objId:eI[e].objId,contentsObjId:eI[e].contentsObjId,mediaBox:eI[e].mediaBox,cropBox:eI[e].cropBox,bleedBox:eI[e].bleedBox,trimBox:eI[e].trimBox,artBox:eI[e].artBox,userUnit:eI[e].userUnit,rootDictionaryObjId:eB,resourceDictionaryObjId:ez}));eP(eB,!0),J("<</Type /Pages");var r="/Kids [";for(t=0;t<eS;t++)r+=a[t]+" 0 R ";J(r+"]"),J("/Count "+eS),J(">>"),J("endobj"),eC.publish("postPutPages")},eH=function(e){eC.publish("putFont",{font:e,out:J,newObject:eF,putStream:eW}),!0!==e.isAlreadyPutted&&(e.objectNumber=eF(),J("<<"),J("/Type /Font"),J("/BaseFont /"+ky(e.postScriptName)),J("/Subtype /Type1"),"string"==typeof e.encoding&&J("/Encoding /"+e.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},eK=function(){for(var e in eg)eg.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&eH(eg[e])},eX=function(e){e.objectNumber=eF();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),eW({data:e.pages[1].join("\n"),additionalKeyValues:t,objectId:e.objectNumber}),J("endobj")},eY=function(){for(var e in eA)eA.hasOwnProperty(e)&&eX(eA[e])},eJ=function(e,t){var a,r=[],n=1/(t-1);for(a=0;a<1;a+=n)r.push(a);if(r.push(1),0!=e[0].offset){var i={offset:0,color:e[0].color};e.unshift(i)}if(1!=e[e.length-1].offset){var s={offset:1,color:e[e.length-1].color};e.push(s)}for(var o="",l=0,p=0;p<r.length;p++){for(a=r[p];a>e[l+1].offset;)l++;var d=e[l].offset,u=(a-d)/(e[l+1].offset-d),h=e[l].color,c=e[l+1].color;o+=z(Math.round((1-u)*h[0]+u*c[0]).toString(16))+z(Math.round((1-u)*h[1]+u*c[1]).toString(16))+z(Math.round((1-u)*h[2]+u*c[2]).toString(16))}return o.trim()},eZ=function(e,t){t||(t=21);var a=eF(),r=eJ(e.colors,t),n=[];n.push({key:"FunctionType",value:"0"}),n.push({key:"Domain",value:"[0.0 1.0]"}),n.push({key:"Size",value:"["+t+"]"}),n.push({key:"BitsPerSample",value:"8"}),n.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),n.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),eW({data:r,additionalKeyValues:n,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:a}),J("endobj"),e.objectNumber=eF(),J("<< /ShadingType "+e.type),J("/ColorSpace /DeviceRGB");var i="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?i+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):i+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),J(i+="]"),e.matrix&&J("/Matrix ["+e.matrix.toString()+"]"),J("/Function "+a+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},eQ=function(e,t){var a=eO(),r=eF();t.push({resourcesOid:a,objectOid:r}),e.objectNumber=r;var n=[];n.push({key:"Type",value:"/Pattern"}),n.push({key:"PatternType",value:"1"}),n.push({key:"PaintType",value:"1"}),n.push({key:"TilingType",value:"1"}),n.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),n.push({key:"XStep",value:k(e.xStep)}),n.push({key:"YStep",value:k(e.yStep)}),n.push({key:"Resources",value:a+" 0 R"}),e.matrix&&n.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),eW({data:e.stream,additionalKeyValues:n,objectId:e.objectNumber}),J("endobj")},e1=function(e){var t;for(t in ey)ey.hasOwnProperty(t)&&(ey[t]instanceof kk?eZ(ey[t]):ey[t]instanceof kS&&eQ(ey[t],e))},e2=function(e){for(var t in e.objectNumber=eF(),J("<<"),e)switch(t){case"opacity":J("/ca "+C(e[t]));break;case"stroke-opacity":J("/CA "+C(e[t]))}J(">>"),J("endobj")},e0=function(){var e;for(e in ex)ex.hasOwnProperty(e)&&e2(ex[e])},e5=function(){for(var e in J("/XObject <<"),eA)eA.hasOwnProperty(e)&&eA[e].objectNumber>=0&&J("/"+e+" "+eA[e].objectNumber+" 0 R");eC.publish("putXobjectDict"),J(">>")},e4=function(){tx.oid=eF(),J("<<"),J("/Filter /Standard"),J("/V "+tx.v),J("/R "+tx.r),J("/U <"+tx.toHexString(tx.U)+">"),J("/O <"+tx.toHexString(tx.O)+">"),J("/P "+tx.P),J(">>"),J("endobj")},e3=function(){for(var e in J("/Font <<"),eg)eg.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&J("/"+e+" "+eg[e].objectNumber+" 0 R");J(">>")},e6=function(){if(Object.keys(ey).length>0){for(var e in J("/Shading <<"),ey)ey.hasOwnProperty(e)&&ey[e]instanceof kk&&ey[e].objectNumber>=0&&J("/"+e+" "+ey[e].objectNumber+" 0 R");eC.publish("putShadingPatternDict"),J(">>")}},e8=function(e){if(Object.keys(ey).length>0){for(var t in J("/Pattern <<"),ey)ey.hasOwnProperty(t)&&ey[t]instanceof c.TilingPattern&&ey[t].objectNumber>=0&&ey[t].objectNumber<e&&J("/"+t+" "+ey[t].objectNumber+" 0 R");eC.publish("putTilingPatternDict"),J(">>")}},e9=function(){if(Object.keys(ex).length>0){var e;for(e in J("/ExtGState <<"),ex)ex.hasOwnProperty(e)&&ex[e].objectNumber>=0&&J("/"+e+" "+ex[e].objectNumber+" 0 R");eC.publish("putGStateDict"),J(">>")}},e7=function(e){eP(e.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),e3(),e6(),e8(e.objectOid),e9(),e5(),J(">>"),J("endobj")},te=function(){var e=[];eK(),e0(),eY(),e1(e),eC.publish("putResources"),e.forEach(e7),e7({resourcesOid:ez,objectOid:Number.MAX_SAFE_INTEGER}),eC.publish("postPutResources")},tt=function(){eC.publish("putAdditionalObjects");for(var e=0;e<q.length;e++){var t=q[e];eP(t.objId,!0),J(t.content),J("endobj")}eC.publish("postPutAdditionalObjects")},ta=function(e){ev[e.fontName]=ev[e.fontName]||{},ev[e.fontName][e.fontStyle]=e.id},tr=function(e,t,a,r,n){var i={id:"F"+(Object.keys(eg).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:a,encoding:r,isStandardFont:n||!1,metadata:{}};return eC.publish("addFont",{font:i,instance:this}),eg[i.id]=i,ta(i),i.id},tn=function(e,t){var a,r,n,i,s,o,l,p,d;if(n=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&eg[eu].metadata&&eg[eu].metadata[n]&&eg[eu].metadata[n].encoding&&(i=eg[eu].metadata[n].encoding,!s&&eg[eu].encoding&&(s=eg[eu].encoding),!s&&i.codePages&&(s=i.codePages[0]),"string"==typeof s&&(s=i[s]),s)){for(l=!1,o=[],a=0,r=e.length;a<r;a++)(p=s[e.charCodeAt(a)])?o.push(String.fromCharCode(p)):o.push(e[a]),o[a].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(a=e.length;void 0===l&&0!==a;)e.charCodeAt(a-1)>>8&&(l=!0),a--;if(!l)return e;for(o=t.noBOM?[]:[254,255],a=0,r=e.length;a<r;a++){if((d=(p=e.charCodeAt(a))>>8)>>8)throw Error("Character at position "+a+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(p-(d<<8))}return String.fromCharCode.apply(void 0,o)},ti=c.__private__.pdfEscape=c.pdfEscape=function(e,t){return tn(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ts=c.__private__.beginPage=function(e){G[++eS]=[],eI[eS]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},tp(eS),Y(G[M])},to=function(e,t){var r,i,s;switch(a=t||a,"string"==typeof e&&Array.isArray(r=v(e.toLowerCase()))&&(i=r[0],s=r[1]),Array.isArray(e)&&(i=e[0]*eh,s=e[1]*eh),isNaN(i)&&(i=n[0],s=n[1]),(i>14400||s>14400)&&(Nq.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),s=Math.min(14400,s)),n=[i,s],a.substr(0,1)){case"l":s>i&&(n=[s,i]);break;case"p":i>s&&(n=[s,i])}ts(n),tU(tz),J(tY),0!==t0&&J(t0+" J"),0!==t5&&J(t5+" j"),eC.publish("addPage",{pageNumber:eS})},tl=function(e){e>0&&e<=eS&&(G.splice(e,1),eI.splice(e,1),eS--,M>eS&&(M=eS),this.setPage(M))},tp=function(e){e>0&&e<=eS&&(M=e)},td=c.__private__.getNumberOfPages=c.getNumberOfPages=function(){return G.length-1},tu=function(e,t,a){var r,n=void 0;return a=a||{},e=void 0!==e?e:eg[eu].fontName,t=void 0!==t?t:eg[eu].fontStyle,void 0!==ev[r=e.toLowerCase()]&&void 0!==ev[r][t]?n=ev[r][t]:void 0!==ev[e]&&void 0!==ev[e][t]?n=ev[e][t]:!1===a.disableWarning&&Nq.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),n||a.noFallback||null==(n=ev.times[t])&&(n=ev.times.normal),n},th=c.__private__.putInfo=function(){var e=eF(),t=function(e){return e};for(var a in null!==d&&(t=tx.encryptor(e,0)),J("<<"),J("/Producer ("+ti(t("jsPDF "+kI.version))+")"),ed)ed.hasOwnProperty(a)&&ed[a]&&J("/"+a.substr(0,1).toUpperCase()+a.substr(1)+" ("+ti(t(ed[a]))+")");J("/CreationDate ("+ti(t(E))+")"),J(">>"),J("endobj")},tc=c.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||eB;switch(eF(),J("<<"),J("/Type /Catalog"),J("/Pages "+t+" 0 R"),ea||(ea="fullwidth"),ea){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var a=""+ea;"%"===a.substr(a.length-1)&&(ea=parseInt(ea)/100),"number"==typeof ea&&J("/OpenAction [3 0 R /XYZ null null "+C(ea)+"]")}switch(eo||(eo="continuous"),eo){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ei&&J("/PageMode /"+ei),eC.publish("putCatalog"),J(">>"),J("endobj")},tm=c.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(V+1)),J("/Root "+V+" 0 R"),J("/Info "+(V-1)+" 0 R"),null!==d&&J("/Encrypt "+tx.oid+" 0 R"),J("/ID [ <"+$+"> <"+$+"> ]"),J(">>")},tf=c.__private__.putHeader=function(){J("%PDF-"+m),J("%\xba\xdf\xac\xe0")},tg=c.__private__.putXRef=function(){var e="0000000000";J("xref"),J("0 "+(V+1)),J("0000000000 65535 f ");for(var t=1;t<=V;t++)"function"==typeof U[t]?J((e+U[t]()).slice(-10)+" 00000 n "):void 0!==U[t]?J((e+U[t]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},tv=c.__private__.buildDocument=function(){X(),Y(j),eC.publish("buildDocument"),tf(),eG(),tt(),te(),null!==d&&e4(),th(),tc();var e=W;return tg(),tm(),J("startxref"),J(""+e),J("%%EOF"),Y(G[M]),j.join("\n")},tb=c.__private__.getBlob=function(e){return new Blob([Q(e)],{type:"application/pdf"})},ty=c.output=c.__private__.output=((tM=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return tv();case"save":c.save(t.filename);break;case"arraybuffer":return Q(tv());case"blob":return tb(tv());case"bloburi":case"bloburl":if(void 0!==Nj.URL&&"function"==typeof Nj.URL.createObjectURL)return Nj.URL&&Nj.URL.createObjectURL(tb(tv()))||void 0;Nq.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var a="",r=tv();try{a=kt(r)}catch(e){a=kt(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+a;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Nj)){var n="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",i=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(n=t.pdfObjectUrl,i="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+n+'"'+i+'></script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");</script></body></html>",o=Nj.open();return null!==o&&o.document.write(s),o}throw Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Nj)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',p=Nj.open();if(null!==p){p.document.write(l);var d=this;p.document.documentElement.querySelector("#pdfViewer").onload=function(){p.document.title=t.filename,p.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return p}throw Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Nj))throw Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=Nj.open();if(null!==h&&(h.document.write(u),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return Nj.document.location.href=this.output("datauristring",t);default:return null}}).foo=function(){try{return tM.apply(this,arguments)}catch(a){var e=a.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+a.message;if(!Nj.console)throw Error(t);Nj.console.error(t,a),Nj.alert&&alert(t)}},tM.foo.bar=tM,tM.foo),tw=function(e){return!0===Array.isArray(eT)&&eT.indexOf(e)>-1};switch(r){case"pt":eh=1;break;case"mm":eh=72/25.4;break;case"cm":eh=72/2.54;break;case"in":eh=72;break;case"px":eh=1==tw("px_scaling")?.75:96/72;break;case"pc":case"em":eh=12;break;case"ex":eh=6;break;default:if("number"!=typeof r)throw Error("Invalid unit: "+r);eh=r}var tx=null;O(),L();var tN=c.__private__.getPageInfo=c.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:eI[e].objId,pageNumber:e,pageContext:eI[e]}},tk=c.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in eI)if(eI[t].objId===e)break;return tN(t)},tS=c.__private__.getCurrentPageInfo=c.getCurrentPageInfo=function(){return{objId:eI[M].objId,pageNumber:M,pageContext:eI[M]}};c.addPage=function(){return to.apply(this,arguments),this},c.setPage=function(){return tp.apply(this,arguments),Y.call(this,G[M]),this},c.insertPage=function(e){return this.addPage(),this.movePage(M,e),this},c.movePage=function(e,t){var a,r;if(e>t){a=G[e],r=eI[e];for(var n=e;n>t;n--)G[n]=G[n-1],eI[n]=eI[n-1];G[t]=a,eI[t]=r,this.setPage(t)}else if(e<t){a=G[e],r=eI[e];for(var i=e;i<t;i++)G[i]=G[i+1],eI[i]=eI[i+1];G[t]=a,eI[t]=r,this.setPage(t)}return this},c.deletePage=function(){return tl.apply(this,arguments),this},c.__private__.text=c.text=function(e,t,a,r,n){var i,s,o,l,p,d,u,c,m,f=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof a||Array.isArray(a))){var g=a;a=t,t=e,e=g}if(arguments[3]instanceof e$==!1?(o=arguments[4],l=arguments[5],"object"===xH()(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),r={flags:u,angle:o,align:l})):(S("The transform parameter of text() with a Matrix value"),m=n),isNaN(t)||isNaN(a)||null==e)throw Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var v="",w=!1,x="number"==typeof r.lineHeightFactor?r.lineHeightFactor:tB,N=f.internal.scaleFactor;function I(e){for(var t,a=e.concat(),r=[],n=a.length;n--;)"string"==typeof(t=a.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function C(e,t){var a;if("string"==typeof e)a=t(e)[0];else if(Array.isArray(e)){for(var r,n,i=e.concat(),s=[],o=i.length;o--;)"string"==typeof(r=i.shift())?s.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&s.push([(n=t(r[0],r[1],r[2]))[0],n[1],n[2]]);a=s}return a}var T=!1,_=!0;if("string"==typeof e)T=!0;else if(Array.isArray(e)){var E=e.concat();s=[];for(var $,R=E.length;R--;)("string"!=typeof($=E.shift())||Array.isArray($)&&"string"!=typeof $[0])&&(_=!1);T=_}if(!1===T)throw Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=et/f.internal.scaleFactor,D=L*(x-1);switch(r.baseline){case"bottom":a-=D;break;case"top":a+=L-D;break;case"hanging":a+=L-2*D;break;case"middle":a+=L/2-D}if((d=r.maxWidth||0)>0&&("string"==typeof e?e=f.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(f.splitTextToSize(t,d))},[]))),i={text:e,x:t,y:a,options:r,mutex:{pdfEscape:ti,activeFontKey:eu,fonts:eg,activeFontSize:et}},eC.publish("preProcessText",i),e=i.text,o=(r=i.options).angle,m instanceof e$==!1&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),y===b.ADVANCED&&(o=-o);var F=Math.cos(o),O=Math.sin(o);m=new e$(F,O,-O,F,0,0)}else o&&o instanceof e$&&(m=o);y!==b.ADVANCED||m||(m=eL),void 0!==(p=r.charSpace||t1)&&(v+=k(A(p))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(c=r.horizontalScale)&&(v+=k(100*c)+" Tz\n"),r.lang;var P=-1,M=void 0!==r.renderingMode?r.renderingMode:r.stroke,B=f.internal.getCurrentPageInfo().pageContext;switch(M){case 0:case!1:case"fill":P=0;break;case 1:case!0:case"stroke":P=1;break;case 2:case"fillThenStroke":P=2;break;case 3:case"invisible":P=3;break;case 4:case"fillAndAddForClipping":P=4;break;case 5:case"strokeAndAddPathForClipping":P=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":P=6;break;case 7:case"addToPathForClipping":P=7}var z=void 0!==B.usedRenderingMode?B.usedRenderingMode:-1;-1!==P?v+=P+" Tr\n":-1!==z&&(v+="0 Tr\n"),-1!==P&&(B.usedRenderingMode=P),l=r.align||"left";var V,U=et*x,j=f.internal.pageSize.getWidth(),W=eg[eu];p=r.charSpace||t1,d=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var q=[],G=function(e){return f.getStringUnitWidth(e,{font:W,charSpace:p,fontSize:et,doKerning:!1})*et/N};if("[object Array]"===Object.prototype.toString.call(e)){s=I(e),"left"!==l&&(V=s.map(G));var H,K,X=0;if("right"===l){t-=V[0],e=[],R=s.length;for(var Y=0;Y<R;Y++)0===Y?(K=tG(t),H=tH(a)):(K=A(X-V[Y]),H=-U),e.push([s[Y],K,H]),X=V[Y]}else if("center"===l){t-=V[0]/2,e=[],R=s.length;for(var Z=0;Z<R;Z++)0===Z?(K=tG(t),H=tH(a)):(K=A((X-V[Z])/2),H=-U),e.push([s[Z],K,H]),X=V[Z]}else if("left"===l){e=[],R=s.length;for(var Q=0;Q<R;Q++)e.push(s[Q])}else if("justify"===l&&"Identity-H"===W.encoding){e=[],R=s.length,d=0!==d?d:j;for(var ee=0,ea=0;ea<R;ea++)if(H=0===ea?tH(a):-U,K=0===ea?tG(t):ee,ea<R-1){var er=A((d-V[ea])/(s[ea].split(" ").length-1)),ei=s[ea].split(" ");e.push([ei[0]+" ",K,H]),ee=0;for(var es=1;es<ei.length;es++){var eo=(G(ei[es-1]+" "+ei[es])-G(ei[es]))*N+er;es==ei.length-1?e.push([ei[es],eo,0]):e.push([ei[es]+" ",eo,0]),ee-=eo}}else e.push([s[ea],K,H]);e.push(["",ee,0])}else{if("justify"!==l)throw Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],R=s.length,d=0!==d?d:j,ea=0;ea<R;ea++)H=0===ea?tH(a):-U,K=0===ea?tG(t):0,ea<R-1?q.push(k(A((d-V[ea])/(s[ea].split(" ").length-1)))):q.push(0),e.push([s[ea],K,H])}}!0===("boolean"==typeof r.R2L?r.R2L:en)&&(e=C(e,function(e,t,a){return[e.split("").reverse().join(""),t,a]})),i={text:e,x:t,y:a,options:r,mutex:{pdfEscape:ti,activeFontKey:eu,fonts:eg,activeFontSize:et}},eC.publish("postProcessText",i),e=i.text,w=i.mutex.isHex||!1;var el=eg[eu].encoding;"WinAnsiEncoding"!==el&&"StandardEncoding"!==el||(e=C(e,function(e,t,a){return[ti(e.split("	").join(Array(r.TabLen||9).join(" ")),u),t,a]})),s=I(e),e=[];for(var ep,ed,eh,ec=Array.isArray(s[0])?1:0,em="",ef=function(e,t,a){var n="";return a instanceof e$?(a="number"==typeof r.angle?eR(a,new e$(1,0,0,1,e,t)):eR(new e$(1,0,0,1,e,t),a),y===b.ADVANCED&&(a=eR(new e$(1,0,0,-1,0,0),a)),n=a.join(" ")+" Tm\n"):n=k(e)+" "+k(t)+" Td\n",n},ev=0;ev<s.length;ev++){switch(em="",ec){case 1:eh=(w?"<":"(")+s[ev][0]+(w?">":")"),ep=parseFloat(s[ev][1]),ed=parseFloat(s[ev][2]);break;case 0:eh=(w?"<":"(")+s[ev]+(w?">":")"),ep=tG(t),ed=tH(a)}void 0!==q&&void 0!==q[ev]&&(em=q[ev]+" Tw\n"),0===ev?e.push(em+ef(ep,ed,m)+eh):0===ec?e.push(em+eh):1===ec&&e.push(em+ef(ep,ed,m)+eh)}e=(0===ec?e.join(" Tj\nT* "):e.join(" Tj\n"))+" Tj\n";var eb="BT\n/";return J(eb+=eu+" "+et+" Tf\n"+k(et*x)+" TL\n"+tZ+"\n"+v+e+"ET"),h[eu]=!0,f};var tI=c.__private__.clip=c.clip=function(e){return J("evenodd"===e?"W*":"W"),this};c.clipEvenOdd=function(){return tI("evenodd")},c.__private__.discardPath=c.discardPath=function(){return J("n"),this};var tC=c.__private__.isValidStyle=function(e){var t=!1;return -1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};c.__private__.setDefaultPathOperation=c.setDefaultPathOperation=function(e){return tC(e)&&(p=e),this};var tT=c.__private__.getStyle=c.getStyle=function(e){var t=p;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},tA=c.close=function(){return J("h"),this};c.stroke=function(){return J("S"),this},c.fill=function(e){return t_("f",e),this},c.fillEvenOdd=function(e){return t_("f*",e),this},c.fillStroke=function(e){return t_("B",e),this},c.fillStrokeEvenOdd=function(e){return t_("B*",e),this};var t_=function(e,t){"object"===xH()(t)?tR(t,e):J(e)},tE=function(e){null===e||y===b.ADVANCED&&void 0===e||J(e=tT(e))};function t$(e,t,a,r,n){var i=new kS(t||this.boundingBox,a||this.xStep,r||this.yStep,this.gState,n||this.matrix);return i.stream=this.stream,eD(e+"$$"+this.cloneIndex+++"$$",i),i}var tR=function(e,t){var a=ew[e.key],r=ey[a];if(r instanceof kk)J("q"),J(tL(t)),r.gState&&c.setGState(r.gState),J(e.matrix.toString()+" cm"),J("/"+a+" sh"),J("Q");else if(r instanceof kS){var n=new e$(1,0,0,-1,0,ar());e.matrix&&(n=n.multiply(e.matrix||eL),a=t$.call(r,e.key,e.boundingBox,e.xStep,e.yStep,n).id),J("q"),J("/Pattern cs"),J("/"+a+" scn"),r.gState&&c.setGState(r.gState),J(t),J("Q")}},tL=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},tD=c.moveTo=function(e,t){return J(k(A(e))+" "+k(_(t))+" m"),this},tF=c.lineTo=function(e,t){return J(k(A(e))+" "+k(_(t))+" l"),this},tO=c.curveTo=function(e,t,a,r,n,i){return J([k(A(e)),k(_(t)),k(A(a)),k(_(r)),k(A(n)),k(_(i)),"c"].join(" ")),this};c.__private__.line=c.line=function(e,t,a,r,n){if(isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r)||!tC(n))throw Error("Invalid arguments passed to jsPDF.line");return y===b.COMPAT?this.lines([[a-e,r-t]],e,t,[1,1],n||"S"):this.lines([[a-e,r-t]],e,t,[1,1]).stroke()},c.__private__.lines=c.lines=function(e,t,a,r,n,i){var s,o,l,p,d,u,h,c,m,f,g;if("number"==typeof e&&(g=a,a=t,t=e,e=g),r=r||[1,1],i=i||!1,isNaN(t)||isNaN(a)||!Array.isArray(e)||!Array.isArray(r)||!tC(n)||"boolean"!=typeof i)throw Error("Invalid arguments passed to jsPDF.lines");for(tD(t,a),s=r[0],o=r[1],p=e.length,m=t,f=a,l=0;l<p;l++)2===(d=e[l]).length?tF(m=d[0]*s+m,f=d[1]*o+f):(u=d[0]*s+m,h=d[1]*o+f,c=d[2]*s+m,tO(u,h,c,d[3]*o+f,m=d[4]*s+m,f=d[5]*o+f));return i&&tA(),tE(n),this},c.path=function(e){for(var t=0;t<e.length;t++){var a=e[t],r=a.c;switch(a.op){case"m":tD(r[0],r[1]);break;case"l":tF(r[0],r[1]);break;case"c":tO.apply(this,r);break;case"h":tA()}}return this},c.__private__.rect=c.rect=function(e,t,a,r,n){if(isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r)||!tC(n))throw Error("Invalid arguments passed to jsPDF.rect");return y===b.COMPAT&&(r=-r),J([k(A(e)),k(_(t)),k(A(a)),k(A(r)),"re"].join(" ")),tE(n),this},c.__private__.triangle=c.triangle=function(e,t,a,r,n,i,s){if(isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r)||isNaN(n)||isNaN(i)||!tC(s))throw Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[a-e,r-t],[n-a,i-r],[e-n,t-i]],e,t,[1,1],s,!0),this},c.__private__.roundedRect=c.roundedRect=function(e,t,a,r,n,i,s){if(isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r)||isNaN(n)||isNaN(i)||!tC(s))throw Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return n=Math.min(n,.5*a),i=Math.min(i,.5*r),this.lines([[a-2*n,0],[n*o,0,n,i-i*o,n,i],[0,r-2*i],[0,i*o,-n*o,i,-n,i],[2*n-a,0],[-n*o,0,-n,-i*o,-n,-i],[0,2*i-r],[0,-i*o,n*o,-i,n,-i]],e+n,t,[1,1],s,!0),this},c.__private__.ellipse=c.ellipse=function(e,t,a,r,n){if(isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r)||!tC(n))throw Error("Invalid arguments passed to jsPDF.ellipse");var i=4/3*(Math.SQRT2-1)*a,s=4/3*(Math.SQRT2-1)*r;return tD(e+a,t),tO(e+a,t-s,e+i,t-r,e,t-r),tO(e-i,t-r,e-a,t-s,e-a,t),tO(e-a,t+s,e-i,t+r,e,t+r),tO(e+i,t+r,e+a,t+s,e+a,t),tE(n),this},c.__private__.circle=c.circle=function(e,t,a,r){if(isNaN(e)||isNaN(t)||isNaN(a)||!tC(r))throw Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,a,a,r)},c.setFont=function(e,t,a){return a&&(t=N(t,a)),eu=tu(e,t,{disableWarning:!1}),this};var tP=c.__private__.getFont=c.getFont=function(){return eg[tu.apply(c,arguments)]};c.__private__.getFontList=c.getFontList=function(){var e,t,a={};for(e in ev)if(ev.hasOwnProperty(e))for(t in a[e]=[],ev[e])ev[e].hasOwnProperty(t)&&a[e].push(t);return a},c.addFont=function(e,t,a,r,n){var i=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==i.indexOf(arguments[3])?n=arguments[3]:arguments[3]&&-1==i.indexOf(arguments[3])&&(a=N(a,r)),n=n||"Identity-H",tr.call(this,e,t,a,n)};var tM,tB,tz=e.lineWidth||.200025,tV=c.__private__.getLineWidth=c.getLineWidth=function(){return tz},tU=c.__private__.setLineWidth=c.setLineWidth=function(e){return tz=e,J(k(A(e))+" w"),this};c.__private__.setLineDash=kI.API.setLineDash=kI.API.setLineDashPattern=function(e,t){if(e=e||[],isNaN(t=t||0)||!Array.isArray(e))throw Error("Invalid arguments passed to jsPDF.setLineDash");return J("["+(e=e.map(function(e){return k(A(e))}).join(" "))+"] "+(t=k(A(t)))+" d"),this};var tj=c.__private__.getLineHeight=c.getLineHeight=function(){return et*tB};c.__private__.getLineHeight=c.getLineHeight=function(){return et*tB};var tW=c.__private__.setLineHeightFactor=c.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(tB=e),this},tq=c.__private__.getLineHeightFactor=c.getLineHeightFactor=function(){return tB};tW(e.lineHeight);var tG=c.__private__.getHorizontalCoordinate=function(e){return A(e)},tH=c.__private__.getVerticalCoordinate=function(e){return y===b.ADVANCED?e:eI[M].mediaBox.topRightY-eI[M].mediaBox.bottomLeftY-A(e)},tK=c.__private__.getHorizontalCoordinateString=c.getHorizontalCoordinateString=function(e){return k(tG(e))},tX=c.__private__.getVerticalCoordinateString=c.getVerticalCoordinateString=function(e){return k(tH(e))},tY=e.strokeColor||"0 G";c.__private__.getStrokeColor=c.getDrawColor=function(){return eV(tY)},c.__private__.setStrokeColor=c.setDrawColor=function(e,t,a,r){return J(tY=eU({ch1:e,ch2:t,ch3:a,ch4:r,pdfColorType:"draw",precision:2})),this};var tJ=e.fillColor||"0 g";c.__private__.getFillColor=c.getFillColor=function(){return eV(tJ)},c.__private__.setFillColor=c.setFillColor=function(e,t,a,r){return J(tJ=eU({ch1:e,ch2:t,ch3:a,ch4:r,pdfColorType:"fill",precision:2})),this};var tZ=e.textColor||"0 g",tQ=c.__private__.getTextColor=c.getTextColor=function(){return eV(tZ)};c.__private__.setTextColor=c.setTextColor=function(e,t,a,r){return tZ=eU({ch1:e,ch2:t,ch3:a,ch4:r,pdfColorType:"text",precision:3}),this};var t1=e.charSpace,t2=c.__private__.getCharSpace=c.getCharSpace=function(){return parseFloat(t1||0)};c.__private__.setCharSpace=c.setCharSpace=function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.setCharSpace");return t1=e,this};var t0=0;c.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},c.__private__.setLineCap=c.setLineCap=function(e){var t=c.CapJoinStyles[e];if(void 0===t)throw Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return t0=t,J(t+" J"),this};var t5=0;c.__private__.setLineJoin=c.setLineJoin=function(e){var t=c.CapJoinStyles[e];if(void 0===t)throw Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return t5=t,J(t+" j"),this},c.__private__.setLineMiterLimit=c.__private__.setMiterLimit=c.setLineMiterLimit=c.setMiterLimit=function(e){if(isNaN(e=e||0))throw Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(k(A(e))+" M"),this},c.GState=kx,c.setGState=function(e){(e="string"==typeof e?ex[eN[e]]:t4(null,e)).equals(ek)||(J("/"+e.id+" gs"),ek=e)};var t4=function(e,t){if(!e||!eN[e]){var a=!1;for(var r in ex)if(ex.hasOwnProperty(r)&&ex[r].equals(t)){a=!0;break}if(a)t=ex[r];else{var n="GS"+(Object.keys(ex).length+1).toString(10);ex[n]=t,t.id=n}return e&&(eN[e]=t.id),eC.publish("addGState",t),t}};c.addGState=function(e,t){return t4(e,t),this},c.saveGraphicsState=function(){return J("q"),eb.push({key:eu,size:et,color:tZ}),this},c.restoreGraphicsState=function(){J("Q");var e=eb.pop();return eu=e.key,et=e.size,tZ=e.color,ek=null,this},c.setCurrentTransformationMatrix=function(e){return J(e.toString()+" cm"),this},c.comment=function(e){return J("#"+e),this};var t3=function(e,t){var a=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var n="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return n},set:function(e){n=e.toString()}}),this},t6=function(e,t,a,r){t3.call(this,e,t),this.type="rect";var n=a||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var i=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}}),this},t8=function(){this.page=eS,this.currentPage=M,this.pages=G.slice(0),this.pagesContext=eI.slice(0),this.x=ec,this.y=em,this.matrix=ef,this.width=at(M),this.height=ar(M),this.outputDestination=K,this.id="",this.objectNumber=-1};t8.prototype.restore=function(){eS=this.page,M=this.currentPage,eI=this.pagesContext,G=this.pages,ec=this.x,em=this.y,ef=this.matrix,aa(M,this.width),an(M,this.height),K=this.outputDestination};var t9=function(e,t,a,r,n){eE.push(new t8),eS=M=0,G=[],ec=e,em=t,ef=n,ts([a,r])},t7=function(e){if(e_[e])eE.pop().restore();else{var t=new t8,a="Xo"+(Object.keys(eA).length+1).toString(10);t.id=a,e_[e]=a,eA[a]=t,eC.publish("addFormObject",t),eE.pop().restore()}};for(var ae in c.beginFormObject=function(e,t,a,r,n){return t9(e,t,a,r,n),this},c.endFormObject=function(e){return t7(e),this},c.doFormObject=function(e,t){var a=eA[e_[e]];return J("q"),J(t.toString()+" cm"),J("/"+a.id+" Do"),J("Q"),this},c.getFormObject=function(e){var t=eA[e_[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},c.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(ka(tb(tv()),e),"function"==typeof ka.unload&&Nj.setTimeout&&setTimeout(ka.unload,911),this):new Promise(function(t,a){try{var r=ka(tb(tv()),e);"function"==typeof ka.unload&&Nj.setTimeout&&setTimeout(ka.unload,911),t(r)}catch(e){a(e.message)}})},kI.API)kI.API.hasOwnProperty(ae)&&("events"===ae&&kI.API.events.length?function(e,t){var a,r,n;for(n=t.length-1;-1!==n;n--)a=t[n][0],r=t[n][1],e.subscribe.apply(e,[a].concat("function"==typeof r?[r]:r))}(eC,kI.API.events):c[ae]=kI.API[ae]);var at=c.getPageWidth=function(e){return(eI[e=e||M].mediaBox.topRightX-eI[e].mediaBox.bottomLeftX)/eh},aa=c.setPageWidth=function(e,t){eI[e].mediaBox.topRightX=t*eh+eI[e].mediaBox.bottomLeftX},ar=c.getPageHeight=function(e){return(eI[e=e||M].mediaBox.topRightY-eI[e].mediaBox.bottomLeftY)/eh},an=c.setPageHeight=function(e,t){eI[e].mediaBox.topRightY=t*eh+eI[e].mediaBox.bottomLeftY};return c.internal={pdfEscape:ti,getStyle:tT,getFont:tP,getFontSize:er,getCharSpace:t2,getTextColor:tQ,getLineHeight:tj,getLineHeightFactor:tq,getLineWidth:tV,write:Z,getHorizontalCoordinate:tG,getVerticalCoordinate:tH,getCoordinateString:tK,getVerticalCoordinateString:tX,collections:{},newObject:eF,newAdditionalObject:eM,newObjectDeferred:eO,newObjectDeferredBegin:eP,getFilters:ej,putStream:eW,events:eC,scaleFactor:eh,pageSize:{getWidth:function(){return at(M)},setWidth:function(e){aa(M,e)},getHeight:function(){return ar(M)},setHeight:function(e){an(M,e)}},encryptionOptions:d,encryption:tx,getEncryptor:function(e){return null!==d?tx.encryptor(e,0):function(e){return e}},output:ty,getNumberOfPages:td,pages:G,out:J,f2:C,f3:T,getPageInfo:tN,getPageInfoByObjId:tk,getCurrentPageInfo:tS,getPDFVersion:f,Point:t3,Rectangle:t6,Matrix:e$,hasHotfix:tw},Object.defineProperty(c.internal.pageSize,"width",{get:function(){return at(M)},set:function(e){aa(M,e)},enumerable:!0,configurable:!0}),Object.defineProperty(c.internal.pageSize,"height",{get:function(){return ar(M)},set:function(e){an(M,e)},enumerable:!0,configurable:!0}),(function(e){for(var t=0,a=ee.length;t<a;t++){var r=tr.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(h[r]=!0);var n=e[t][0].split("-");ta({id:r,fontName:n[0],fontStyle:n[1]||""})}eC.publish("addFonts",{fonts:eg,dictionary:ev})}).call(c,ee),eu="F1",to(n,a),eC.publish("initialized"),c}kb.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},kb.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kb.prototype.hexToBytes=function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(String.fromCharCode(parseInt(e.substr(a,2),16)));return t.join("")},kb.prototype.processOwnerPassword=function(e,t){return kg(kc(t).substr(0,5),e)},kb.prototype.encryptor=function(e,t){var a=kc(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return kg(a,e)}},kx.prototype.equals=function(e){var t,a="id,objectNumber,equals";if(!e||xH()(e)!==xH()(this))return!1;var r=0;for(t in this)if(!(a.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&0>a.indexOf(t)&&r--;return 0===r},kI.API={events:[]},kI.version="2.5.2";var kC=kI.API,kT=1,kA=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},k_=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kE=function(e){return e.toFixed(2)},k$=function(e){return e.toFixed(5)};kC.__acroform__={};var kR=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},kL=function(e){return e*kT},kD=function(e){var t=new kZ,a=Sa.internal.getHeight(e)||0,r=Sa.internal.getWidth(e)||0;return t.BBox=[0,0,Number(kE(r)),Number(kE(a))],t},kF=kC.__acroform__.setBit=function(e,t){if(t=t||0,isNaN(e=e||0)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},kO=kC.__acroform__.clearBit=function(e,t){if(t=t||0,isNaN(e=e||0)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},kP=kC.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},kM=kC.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kP(e,t-1)},kB=kC.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kF(e,t-1)},kz=kC.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kO(e,t-1)},kV=kC.__acroform__.calculateCoordinates=function(e,t){var a=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,n=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=a(n)||0,l.lowerLeft_Y=r(i+o)||0,l.upperRight_X=a(n+s)||0,l.upperRight_Y=r(i)||0,[Number(kE(l.lowerLeft_X)),Number(kE(l.lowerLeft_Y)),Number(kE(l.upperRight_X)),Number(kE(l.upperRight_Y))]},kU=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],a=e._V||e.DV,r=kj(e,a),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+kE(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=kD(e);return i.scope=e.scope,i.stream=t.join("\n"),i}},kj=function(e,t){var a=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},n=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(e){return e.split("\n")}):n.map(function(e){return[e]});var i=a,s=Sa.internal.getHeight(e)||0;s=s<0?-s:s;var o=Sa.internal.getWidth(e)||0;o=o<0?-o:o,i++;e:for(;i>0;){t="";var l,p,d=kW("3",e,--i).height,u=e.multiline?s-i:(s-d)/2,h=u+=2,c=0,m=0,f=0;if(i<=0){t="(...) Tj\n",t+="% Width of Text: "+kW(t,e,i=12).width+", FieldWidth:"+o+"\n";break}for(var g="",v=0,b=0;b<n.length;b++)if(n.hasOwnProperty(b)){var y=!1;if(1!==n[b].length&&f!==n[b].length-1){if((d+2)*(v+2)+2>s)continue e;g+=n[b][f],y=!0,m=b,b--}else{g=" "==(g+=n[b][f]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var w,x,N=parseInt(b),k=(w=g,x=i,N+1<n.length&&kW(w+" "+n[N+1][0],e,x).width<=o-4),S=b>=n.length-1;if(k&&!S){g+=" ",f=0;continue}if(k||S){if(S)m=N;else if(e.multiline&&(d+2)*(v+2)+2>s)continue e}else{if(!e.multiline||(d+2)*(v+2)+2>s)continue e;m=N}}for(var I="",C=c;C<=m;C++){var T=n[C];if(e.multiline){if(C===m){I+=T[f]+" ",f=(f+1)%T.length;continue}if(C===c){I+=T[T.length-1]+" ";continue}}I+=T[0]+" "}switch(p=kW(I=" "==I.substr(I.length-1)?I.substr(0,I.length-1):I,e,i).width,e.textAlign){case"right":l=o-p-2;break;case"center":l=(o-p)/2;break;default:l=2}t+=kE(l)+" "+kE(h)+" Td\n("+kA(I)+") Tj\n"+-kE(l)+" 0 Td\n",h=-(i+2),p=0,c=y?m:m+1,v++,g=""}break}return r.text=t,r.fontSize=i,r},kW=function(e,t,a){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:n}},kq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kG=function(e,t){var a={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===a.type&&e.object===a.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(a)},kH=function(e,t){for(var a in e)if(e.hasOwnProperty(a)){var r=e[a];t.internal.newObjectDeferredBegin(r.objId,!0),"object"===xH()(r)&&"function"==typeof r.putStream&&r.putStream(),delete e[a]}},kK=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(k1.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(kq)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw Error("Exception while creating AcroformDictionary");kT=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new kQ,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];r.objId=void 0,r.hasAnnotation&&kG(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var a=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var n=e[r],i=[],s=n.Rect;if(n.Rect&&(n.Rect=kV(n.Rect,t)),t.internal.newObjectDeferredBegin(n.objId,!0),n.DA=Sa.createDefaultAppearanceStream(n),"object"===xH()(n)&&"function"==typeof n.getKeyValueListForStream&&(i=n.getKeyValueListForStream()),n.Rect=s,n.hasAppearanceStream&&!n.appearanceStreamContent){var o=kU(n);i.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(n.appearanceStreamContent){var l="";for(var p in n.appearanceStreamContent)if(n.appearanceStreamContent.hasOwnProperty(p)){var d=n.appearanceStreamContent[p];if(l+="/"+p+" <<",Object.keys(d).length>=1||Array.isArray(d)){for(var r in d)if(d.hasOwnProperty(r)){var u=d[r];"function"==typeof u&&(u=u.call(t,n)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,n)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}i.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:i,objectId:n.objId}),t.internal.out("endobj")}a&&kH(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},kX=kC.__acroform__.arrayToPdfArray=function(e,t,a){var r=function(e){return e};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(0!==i&&(n+=" "),xH()(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==t&&a&&(r=a.internal.getEncryptor(t)),n+="("+kA(r(e[i].toString()))+")"):n+=e[i].toString()}return n+"]"}throw Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kY=function(e,t,a){var r=function(e){return e};return void 0!==t&&a&&(r=a.internal.getEncryptor(t)),(e=e||"").toString(),e="("+kA(r(e))+")"},kJ=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};kJ.prototype.toString=function(){return this.objId+" 0 R"},kJ.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},kJ.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var a in t)if(!1===Object.getOwnPropertyDescriptor(this,t[a]).configurable){var r=t[a],n=this[r];n&&(Array.isArray(n)?e.push({key:r,value:kX(n,this.objId,this.scope)}):n instanceof kJ?(n.scope=this.scope,e.push({key:r,value:n.objId+" 0 R"})):"function"!=typeof n&&e.push({key:r,value:n}))}return e};var kZ=function(){kJ.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};kR(kZ,kJ);var kQ=function(){kJ.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+kA(t(e))+")"}},set:function(t){e=t}})};kR(kQ,kJ);var k1=function e(){kJ.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!kM(t,3)},set:function(e){!0==!!e?this.F=kB(t,3):this.F=kz(t,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(e){if(isNaN(e))throw Error('Invalid value "'+e+'" for attribute Ff supplied.');a=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=e;break;default:throw Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof k9)return;i="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+kA(t(i))+")"},set:function(e){i=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===p?50/kT:p},set:function(e){p=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof k9||this instanceof Se))return kY(u,this.objId,this.scope)},set:function(e){u=e=e.toString()}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof k3==!1?kY(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof k3==!1?"("===e.substr(0,1)?k_(e.substr(1,e.length-2)):k_(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof k3==!0?k_(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof k3==!0?"/"+e:e}});var c=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(c)return c},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(c)return this instanceof k3==!1?kY(c,this.objId,this.scope):c},set:function(e){e=e.toString(),c=this instanceof k3==!1?"("===e.substr(0,1)?k_(e.substr(1,e.length-2)):k_(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof k3==!0?k_(c.substr(1,c.length-1)):c},set:function(e){e=e.toString(),c=this instanceof k3==!0?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){f=e=!!e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(e){m=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,1)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,1):this.Ff=kz(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,2)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,2):this.Ff=kz(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,3)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,3):this.Ff=kz(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};kR(k1,kJ);var k2=function(){k1.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kX(t,this.objId,this.scope)},set:function(e){var a;a=[],"string"==typeof e&&(a=function(e,t,a){a||(a=1);for(var r,n=[];r=t.exec(e);)n.push(r[a]);return n}(e,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,a){for(a=a||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==a););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,18)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,18):this.Ff=kz(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,19)},set:function(e){!0===this.combo&&(!0==!!e?this.Ff=kB(this.Ff,19):this.Ff=kz(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,20)},set:function(e){!0==!!e?(this.Ff=kB(this.Ff,20),t.sort()):this.Ff=kz(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,22)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,22):this.Ff=kz(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,23)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,23):this.Ff=kz(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,27)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,27):this.Ff=kz(this.Ff,27)}}),this.hasAppearanceStream=!1};kR(k2,k1);var k0=function(){k2.call(this),this.fontName="helvetica",this.combo=!1};kR(k0,k2);var k5=function(){k0.call(this),this.combo=!0};kR(k5,k0);var k4=function(){k5.call(this),this.edit=!0};kR(k4,k5);var k3=function(){k1.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,15)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,15):this.Ff=kz(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,16)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,16):this.Ff=kz(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,17)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,17):this.Ff=kz(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,26)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,26):this.Ff=kz(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var a,r=[];for(a in r.push("<<"),t)r.push("/"+a+" ("+kA(e(t[a]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===xH()(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};kR(k3,k1);var k6=function(){k3.call(this),this.pushButton=!0};kR(k6,k3);var k8=function(){k3.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};kR(k8,k3);var k9=function(){k1.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var e,t,a,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,a=[];for(t in a.push("<<"),r)a.push("/"+t+" ("+kA(e(r[t]))+")");return a.push(">>"),a.join("\n")},set:function(e){"object"===xH()(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(e){a="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Sa.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};kR(k9,k1),k8.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var a=this.Kids[t];a.appearanceStreamContent=e.createAppearanceStream(a.optionName),a.caption=e.getCA()}},k8.prototype.createOption=function(e){var t=new k9;return t.Parent=this,t.optionName=e,this.Kids.push(t),Sr.call(this.scope,t),t};var k7=function(){k3.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Sa.CheckBox.createAppearanceStream()};kR(k7,k3);var Se=function(){k1.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,13)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,13):this.Ff=kz(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,21)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,21):this.Ff=kz(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,23)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,23):this.Ff=kz(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,24)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,24):this.Ff=kz(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,25)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,25):this.Ff=kz(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,26)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,26):this.Ff=kz(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};kR(Se,k1);var St=function(){Se.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!kM(this.Ff,14)},set:function(e){!0==!!e?this.Ff=kB(this.Ff,14):this.Ff=kz(this.Ff,14)}}),this.password=!0};kR(St,Se);var Sa={CheckBox:{createAppearanceStream:function(){return{N:{On:Sa.CheckBox.YesNormal},D:{On:Sa.CheckBox.YesPushDown,Off:Sa.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=kD(e);t.scope=e.scope;var a=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=kj(e,e.caption);return a.push("0.749023 g"),a.push("0 0 "+kE(Sa.internal.getWidth(e))+" "+kE(Sa.internal.getHeight(e))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+r+" "+kE(i.fontSize)+" Tf "+n),a.push("BT"),a.push(i.text),a.push("ET"),a.push("Q"),a.push("EMC"),t.stream=a.join("\n"),t},YesNormal:function(e){var t=kD(e);t.scope=e.scope;var a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),n=[],i=Sa.internal.getHeight(e),s=Sa.internal.getWidth(e),o=kj(e,e.caption);return n.push("1 g"),n.push("0 0 "+kE(s)+" "+kE(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+kE(s-1)+" "+kE(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+a+" "+kE(o.fontSize)+" Tf "+r),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=kD(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+kE(Sa.internal.getWidth(e))+" "+kE(Sa.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Sa.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Sa.RadioButton.Circle.YesNormal,t.D[e]=Sa.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=kD(e);t.scope=e.scope;var a=[],r=Sa.internal.getWidth(e)<=Sa.internal.getHeight(e)?Sa.internal.getWidth(e)/4:Sa.internal.getHeight(e)/4,n=Number(((r=Number((.9*r).toFixed(5)))*Sa.internal.Bezier_C).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+k$(Sa.internal.getWidth(e)/2)+" "+k$(Sa.internal.getHeight(e)/2)+" cm"),a.push(r+" 0 m"),a.push(r+" "+n+" "+n+" "+r+" 0 "+r+" c"),a.push("-"+n+" "+r+" -"+r+" "+n+" -"+r+" 0 c"),a.push("-"+r+" -"+n+" -"+n+" -"+r+" 0 -"+r+" c"),a.push(n+" -"+r+" "+r+" -"+n+" "+r+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join("\n"),t},YesPushDown:function(e){var t=kD(e);t.scope=e.scope;var a=[],r=Sa.internal.getWidth(e)<=Sa.internal.getHeight(e)?Sa.internal.getWidth(e)/4:Sa.internal.getHeight(e)/4,n=Number((2*(r=Number((.9*r).toFixed(5)))).toFixed(5)),i=Number((n*Sa.internal.Bezier_C).toFixed(5)),s=Number((r*Sa.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+k$(Sa.internal.getWidth(e)/2)+" "+k$(Sa.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+k$(Sa.internal.getWidth(e)/2)+" "+k$(Sa.internal.getHeight(e)/2)+" cm"),a.push(r+" 0 m"),a.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),a.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),a.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),a.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=kD(e);t.scope=e.scope;var a=[],r=Sa.internal.getWidth(e)<=Sa.internal.getHeight(e)?Sa.internal.getWidth(e)/4:Sa.internal.getHeight(e)/4,n=Number((2*(r=Number((.9*r).toFixed(5)))).toFixed(5)),i=Number((n*Sa.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+k$(Sa.internal.getWidth(e)/2)+" "+k$(Sa.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Sa.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Sa.RadioButton.Cross.YesNormal,t.D[e]=Sa.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=kD(e);t.scope=e.scope;var a=[],r=Sa.internal.calculateCross(e);return a.push("q"),a.push("1 1 "+kE(Sa.internal.getWidth(e)-2)+" "+kE(Sa.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(kE(r.x1.x)+" "+kE(r.x1.y)+" m"),a.push(kE(r.x2.x)+" "+kE(r.x2.y)+" l"),a.push(kE(r.x4.x)+" "+kE(r.x4.y)+" m"),a.push(kE(r.x3.x)+" "+kE(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join("\n"),t},YesPushDown:function(e){var t=kD(e);t.scope=e.scope;var a=Sa.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+kE(Sa.internal.getWidth(e))+" "+kE(Sa.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+kE(Sa.internal.getWidth(e)-2)+" "+kE(Sa.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(kE(a.x1.x)+" "+kE(a.x1.y)+" m"),r.push(kE(a.x2.x)+" "+kE(a.x2.y)+" l"),r.push(kE(a.x4.x)+" "+kE(a.x4.y)+" m"),r.push(kE(a.x3.x)+" "+kE(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=kD(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+kE(Sa.internal.getWidth(e))+" "+kE(Sa.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+a}};Sa.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Sa.internal.getWidth(e),a=Sa.internal.getHeight(e),r=Math.min(t,a);return{x1:{x:(t-r)/2,y:(a-r)/2+r},x2:{x:(t-r)/2+r,y:(a-r)/2},x3:{x:(t-r)/2,y:(a-r)/2},x4:{x:(t-r)/2+r,y:(a-r)/2+r}}}},Sa.internal.getWidth=function(e){var t=0;return"object"===xH()(e)&&(t=kL(e.Rect[2])),t},Sa.internal.getHeight=function(e){var t=0;return"object"===xH()(e)&&(t=kL(e.Rect[3])),t};var Sr=kC.addField=function(e){if(kK(this,e),!(e instanceof k1))throw Error("Invalid argument passed to jsPDF.addField.");return e.scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function Sn(e){return e.reduce(function(e,t,a){return e[t]=a,e},{})}kC.AcroFormChoiceField=k2,kC.AcroFormListBox=k0,kC.AcroFormComboBox=k5,kC.AcroFormEditBox=k4,kC.AcroFormButton=k3,kC.AcroFormPushButton=k6,kC.AcroFormRadioButton=k8,kC.AcroFormCheckBox=k7,kC.AcroFormTextField=Se,kC.AcroFormPasswordField=St,kC.AcroFormAppearance=Sa,kC.AcroForm={ChoiceField:k2,ListBox:k0,ComboBox:k5,EditBox:k4,Button:k3,PushButton:k6,RadioButton:k8,CheckBox:k7,TextField:Se,PasswordField:St,Appearance:Sa},kI.AcroForm={ChoiceField:k2,ListBox:k0,ComboBox:k5,EditBox:k4,Button:k3,PushButton:k6,RadioButton:k8,CheckBox:k7,TextField:Se,PasswordField:St,Appearance:Sa},kI.AcroForm,function(e){e.__addimage__={};var t="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,r){var n,i,s,o,l,p=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(N(e))for(l in a)for(s=a[l],n=0;n<s.length;n+=1){for(o=!0,i=0;i<s[n].length;i+=1)if(void 0!==s[n][i]&&s[n][i]!==e[i]){o=!1;break}if(!0===o){p=l;break}}else for(l in a)for(s=a[l],n=0;n<s.length;n+=1){for(o=!0,i=0;i<s[n].length;i+=1)if(void 0!==s[n][i]&&s[n][i]!==e.charCodeAt(i)){o=!1;break}if(!0===o){p=l;break}}return p===t&&r!==t&&(p=r),p},n=function e(t){for(var a=this.internal.write,r=this.internal.putStream,n=(0,this.internal.getFilters)();-1!==n.indexOf("FlateEncode");)n.splice(n.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:t.width}),i.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var s="",o=0,l=t.transparency.length;o<l;o++)s+=t.transparency[o]+" "+t.transparency[o]+" ";i.push({key:"Mask",value:"["+s+"]"})}void 0!==t.sMask&&i.push({key:"SMask",value:t.objectId+1+" 0 R"});var p=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:i,alreadyAppliedFilters:p,objectId:t.objectId}),a("endobj"),"sMask"in t&&void 0!==t.sMask){var d="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:d,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===g.INDEXED){var h=this.internal.newObject();r({data:S(new Uint8Array(t.palette)),objectId:h}),a("endobj")}},i=function(){var e=this.internal.collections.addImage_images;for(var t in e)n.call(this,e[t])},s=function(){var e,t=this.internal.collections.addImage_images,a=this.internal.write;for(var r in t)a("/I"+(e=t[r]).index,e.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var e=this.internal.collections.addImage_images;return o.call(this),e},p=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){return"object"===xH()(e)&&1===e.nodeType},h=function(t,a){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r,n=""+t.getAttribute("src");if(0===n.indexOf("data:image/"))return ke(unescape(n).split("base64,").pop());var i=e.loadFile(n,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);switch(a){case"PNG":r="image/png";break;case"WEBP":r="image/webp";break;default:r="image/jpeg"}return ke(t.toDataURL(r,1).split("base64,").pop())}},c=function(e){var t=this.internal.collections.addImage_images;if(t){for(var a in t)if(e===t[a].alias)return t[a]}},m=function(e,t,a){return e||t||(e=-96,t=-96),e<0&&(e=-1*a.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*a.height*72/t/this.internal.scaleFactor),0===e&&(e=t*a.width/a.height),0===t&&(t=e*a.height/a.width),[e,t]},f=function(e,t,a,r,n,i){var s=m.call(this,a,r,n),o=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString,d=l.call(this);if(a=s[0],r=s[1],d[n.index]=n,i)var u=Math.cos(i*=Math.PI/180),h=Math.sin(i),c=function(e){return e.toFixed(4)},f=[c(u),c(h),c(-1*h),c(u),0,0,"cm"];this.internal.write("q"),i?(this.internal.write([1,"0","0",1,o(e),p(t+r),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([o(a),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(a),"0","0",o(r),o(e),p(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write("1 0 0 -1 0 0 cm"),this.internal.write("/I"+n.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,a,r=0;if("string"==typeof e)for(a=e.length,t=0;t<a;t++)r=(r<<5)-r+e.charCodeAt(t)|0;else if(N(e))for(a=e.byteLength/2,t=0;t<a;t++)r=(r<<5)-r+e[t]|0;return r},y=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),a=null;if(2===t.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(r)&&(a={mimeType:r[1],charset:r[2],data:t[1]})}return a},x=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return x()&&e instanceof ArrayBuffer};var N=e.__addimage__.isArrayBufferView=function(e){return x()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,a=new Uint8Array(t),r=0;r<t;r++)a[r]=e.charCodeAt(r);return a},S=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",a=N(e)?e:new Uint8Array(e),r=0;r<a.length;r+=8192)t+=String.fromCharCode.apply(null,a.subarray(r,r+8192));return t};e.addImage=function(){if("number"==typeof arguments[1]?(a=t,r=arguments[1],n=arguments[2],i=arguments[3],s=arguments[4],l=arguments[5],p=arguments[6],d=arguments[7]):(a=arguments[1],r=arguments[2],n=arguments[3],i=arguments[4],s=arguments[5],l=arguments[6],p=arguments[7],d=arguments[8]),"object"===xH()(e=arguments[0])&&!u(e)&&"imageData"in e){var e,a,r,n,i,s,l,p,d,h=e;e=h.imageData,a=h.format||a||t,r=h.x||r||0,n=h.y||n||0,i=h.w||h.width||i,s=h.h||h.height||s,l=h.alias||l,p=h.compression||p,d=h.rotation||h.angle||d}var c=this.internal.getFilters();if(void 0===p&&-1!==c.indexOf("FlateEncode")&&(p="SLOW"),isNaN(r)||isNaN(n))throw Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var m=I.call(this,e,a,l,p);return f.call(this,r,n,i,s,m,d),this};var I=function(a,n,i,s){if("string"==typeof a&&r(a)===t){var o,l,m,f,g,y=C(a=unescape(a),!1);(""!==y||void 0!==(y=e.loadFile(a,!0)))&&(a=y)}if(u(a)&&(a=h(a,n)),!d(n=r(a,n)))throw Error("addImage does not support files of type '"+n+"', please ensure that a plugin for '"+n+"' support is added.");if((null==(m=i)||0===m.length)&&(i="string"==typeof(f=a)||N(f)?b(f):N(f.data)?b(f.data):null),(o=c.call(this,i))||(x()&&(a instanceof Uint8Array||"RGBA"===n||(l=a,a=k(a))),o=this["process"+n.toUpperCase()](a,p.call(this),i,((g=s)&&"string"==typeof g&&(g=g.toUpperCase()),g in e.image_compression?g:v.NONE),l)),!o)throw Error("An unknown error occurred whilst processing the image.");return o},C=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var a,r,n="";if("string"==typeof e){r=null!==(a=w(e))?a.data:e;try{n=ke(r)}catch(e){if(t)throw y(r)?Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return n};e.getImageProperties=function(a){var n,i,s="";if(u(a)&&(a=h(a)),"string"==typeof a&&r(a)===t&&(""===(s=C(a,!1))&&(s=e.loadFile(a)||""),a=s),!d(i=r(a)))throw Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(!x()||a instanceof Uint8Array||(a=k(a)),!(n=this["process"+i.toUpperCase()](a)))throw Error("An unknown error occurred whilst processing the image");return n.fileType=i,n}}(kI.API),/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};kI.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var a,r,n,i=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,p=!1,d=0;d<l.length&&!p;d++)switch((a=l[d]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(0!=p){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){a=l[u];var h=this.internal.pdfEscape,c=this.internal.getEncryptor(e.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),v=a.title||"Note";n="<</Type /Annot /Subtype /Text "+(r="/Rect ["+i(a.bounds.x)+" "+s(a.bounds.y+a.bounds.h)+" "+i(a.bounds.x+a.bounds.w)+" "+s(a.bounds.y)+"] ")+"/Contents ("+h(g(a.contents))+") /Popup "+f.objId+" 0 R /P "+o.objId+" 0 R /T ("+h(g(v))+") >>",m.content=n;var b=m.objId+" 0 R";n="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+i(a.bounds.x+30)+" "+s(a.bounds.y+a.bounds.h)+" "+i(a.bounds.x+a.bounds.w+30)+" "+s(a.bounds.y)+"] ")+" /Parent "+b,a.open&&(n+=" /Open true"),n+=" >>",f.content=n,this.internal.write(m.objId,"0 R",f.objId,"0 R");break;case"freetext":r="/Rect ["+i(a.bounds.x)+" "+s(a.bounds.y)+" "+i(a.bounds.x+a.bounds.w)+" "+s(a.bounds.y+a.bounds.h)+"] ";var y=a.color||"#000000";n="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(c(a.contents))+") /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+") /Border [0 0 0] >>",this.internal.write(n);break;case"link":if(a.options.name){var w=this.annotations._nameMap[a.options.name];a.options.pageNumber=w.page,a.options.top=w.y}else a.options.top||(a.options.top=0);if(r="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",n="",a.options.url)n="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(c(a.options.url))+") >>";else if(a.options.pageNumber)switch(n="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":n+=" /Fit]";break;case"FitH":n+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,n+=" /FitV "+a.options.left+"]";break;default:var x=s(a.options.top);a.options.left=a.options.left||0,void 0===a.options.zoom&&(a.options.zoom=0),n+=" /XYZ "+a.options.left+" "+x+" "+a.options.zoom+"]"}""!=n&&(n+=" >>",this.internal.write(n))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,a,r,n){var i=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;i.pageContext.annotations.push({finalBounds:{x:s(e),y:o(t),w:s(e+a),h:o(t+r)},options:n,type:"link"})},e.textWithLink=function(e,t,a,r){var n,i,s=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;return void 0!==r.maxWidth?(i=r.maxWidth,n=Math.ceil(o*this.splitTextToSize(e,i).length)):(i=s,n=o),this.text(e,t,a,r),a+=.2*o,"center"===r.align&&(t-=s/2),"right"===r.align&&(t-=s),this.link(t,a-o,i,n,r),s},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(kI.API),/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&n.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=1};var p=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&i(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=a,n="",i=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(i++,"number"==typeof(r=r[e.charCodeAt(t)])&&(n+=String.fromCharCode(r),r=a,i=0),t===e.length-1&&(r=a,n+=e.charAt(t-(i-1)),t-=i-1,i=0)):(r=a,n+=e.charAt(t-i),t-=i,i=0);return n};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,a){return s(e)?!1===i(e)?-1:!p(e)||!s(t)&&!s(a)||!s(a)&&o(t)||o(e)&&!s(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&s(t)&&!o(t)&&s(a)&&p(a)?3:o(e)||!s(a)?1:2:-1},c=function(e){var a=0,r=0,n=0,i="",o="",l="",p=(e=e||"").split("\\s+"),d=[];for(a=0;a<p.length;a+=1){for(d.push(""),r=0;r<p[a].length;r+=1)i=p[a][r],o=p[a][r-1],l=p[a][r+1],s(i)?(n=h(i,o,l),d[a]+=-1!==n?String.fromCharCode(t[i.charCodeAt(0)][n]):i):d[a]+=i;d[a]=u(d[a])}return d.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,a=[];if(Array.isArray(t)){var r=0;for(a=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?a.push([c(t[r][0]),t[r][1],t[r][2]]):a.push([c(t[r])]);e=a}else e=c(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",m])}(kI.API),kI.API.autoPrint=function(e){var t;return((e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(e){a=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var n={};Object.defineProperty(this,"style",{get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var a;if("2d"!==(e=e||"2d"))return null;for(a in t)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=t[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(kI.API),function(e){var t={left:0,top:0,bottom:0,right:0},a=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var a=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var n=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var i=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(e){s=e}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var a=(t=t||{}).fontSize||this.getFontSize(),n=t.font||this.getFont(),i=t.scaleFactor||this.internal.scaleFactor,s=0,o=0,l=0,p=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(p.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)s<(l=this.getStringUnitWidth(e[u],{font:n})*a)&&(s=l);return 0!==s&&(o=e.length),{w:s/=i,h:Math.max((o*a*this.getLineHeightFactor()-a*(this.getLineHeightFactor()-1))/i,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){e=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var e,n=this.internal.__cell__.lastCell,s=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return void 0!==n.lineNumber&&(n.lineNumber===e.lineNumber?(e.x=(n.x||0)+(n.width||0),e.y=n.y||0):n.y+n.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,p&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=n.y+n.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===a?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-s,e.y+s,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+s,{align:"center",baseline:"top",maxWidth:e.width-s-s}):this.text(e.text,e.x+s,e.y+s,{align:"left",baseline:"top",maxWidth:e.width-s-s})),this.internal.__cell__.lastCell=e,this};e.table=function(e,a,l,p,d){if(r.call(this),!l)throw Error("No data for PDF table.");var u,h,c,m,f=[],g=[],v=[],b={},y={},w=[],x=[],N=(d=d||{}).autoSize||!1,k=!1!==d.printHeaders,S=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,I=d.margins||Object.assign({width:this.getPageWidth()},t),C="number"==typeof d.padding?d.padding:3,T=d.headerBackgroundColor||"#c8c8c8",A=d.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=S,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=A,this.setFontSize(S),null==p)g=f=Object.keys(l[0]),v=f.map(function(){return"left"});else if(Array.isArray(p)&&"object"===xH()(p[0]))for(f=p.map(function(e){return e.name}),g=p.map(function(e){return e.prompt||e.name||""}),v=p.map(function(e){return e.align||"left"}),u=0;u<p.length;u+=1)y[p[u].name]=p[u].width*(19.049976/25.4);else Array.isArray(p)&&"string"==typeof p[0]&&(g=f=p,v=f.map(function(){return"left"}));if(N||Array.isArray(p)&&"string"==typeof p[0])for(u=0;u<f.length;u+=1){for(b[m=f[u]]=l.map(function(e){return e[m]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=b[m],this.setFont(void 0,"normal"),c=0;c<h.length;c+=1)w.push(this.getTextDimensions(h[c],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[m]=Math.max.apply(null,w)+C+C,w=[]}if(k){var _={};for(u=0;u<f.length;u+=1)_[f[u]]={},_[f[u]].text=g[u],_[f[u]].align=v[u];var E=o.call(this,_,y);x=f.map(function(t){return new i(e,a,y[t],E,_[t].text,void 0,_[t].align)}),this.setTableHeaderRow(x),this.printHeaderRow(1,!1)}var $=p.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var R=o.call(this,l[u],y);for(c=0;c<f.length;c+=1){var L=l[u][f[c]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:c,data:L},this),s.call(this,new i(e,a,y[f[c]],R,L,u+2,$[f[c]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=a,this};var o=function(e,t){var a=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,n=this.internal.scaleFactor;return Object.keys(e).map(function(r){var n=e[r];return this.splitTextToSize(n.hasOwnProperty("text")?n.text:n,t[r]-a-a)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/n+a+a},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw Error("Property tableHeaderRow does not exist.");if(a=!0,"function"==typeof this.internal.__cell__.headerFunction){var n,o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){n=this.internal.__cell__.tableHeaderRow[p].clone(),t&&(n.y=this.internal.__cell__.margins.top||0,l.push(n)),n.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,n),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),a=!1}}(kI.API);var Si={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ss=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],So=Sn(Ss),Sl=[100,200,300,400,500,600,700,800,900],Sp=Sn(Sl);function Sd(e){var t,a,r,n=e.family.replace(/"|'/g,"").toLowerCase(),i=Si[a=(a=e.style)||"normal"]?a:"normal",s=(t=e.weight)?"number"==typeof t?t>=100&&t<=900&&t%100==0?t:400:/^\d00$/.test(t)?parseInt(t):"bold"===t?700:400:400,o="number"==typeof So[r=(r=e.stretch)||"normal"]?r:"normal";return{family:n,style:i,weight:s,stretch:o,src:e.src||[],ref:e.ref||{name:n,style:[o,i,s].join(" ")}}}function Su(e,t,a,r){var n;for(n=a;n>=0&&n<t.length;n+=r)if(e[t[n]])return e[t[n]];for(n=a;n>=0&&n<t.length;n-=r)if(e[t[n]])return e[t[n]]}var Sh={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Sc={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Sm(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Sf(e){return e.trimLeft()}var Sg,Sv,Sb,Sy=["times"];(function(e){var t,a,r,n,i,s,o,l,p,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new s,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new s,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,a=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,p=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return e}});var t=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return t},set:function(e){t=!!e}});var a=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return a},set:function(e){a=!!e}});var r=0;Object.defineProperty(this,"posX",{get:function(){return r},set:function(e){isNaN(e)||(r=e)}});var n=0;Object.defineProperty(this,"posY",{get:function(){return n},set:function(e){isNaN(e)||(n=e)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=[,,,,])[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),p.margin=t}});var i=!1;Object.defineProperty(this,"autoPaging",{get:function(){return i},set:function(e){i=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var o=[];Object.defineProperty(this,"pageBreaks",{get:function(){return o},set:function(e){o=e}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(e){e instanceof d&&(p=e)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(e){p.path=e}});var l=[];Object.defineProperty(this,"ctxStack",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var u=null,c=null;Object.defineProperty(this,"fontFaces",{get:function(){return c},set:function(e){u=null,c=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var a=t[1],r=(t[2],t[3]),n=t[4],i=(t[5],t[6]),s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(n)[2];n="px"===s?Math.floor(parseFloat(n)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(n)*this.pdf.getFontSize()):Math.floor(parseFloat(n)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(n);var o=function(e){var t,a,r=[],n=e.trim();if(""===n)return Sy;if(n in Sc)return[Sc[n]];for(;""!==n;){switch(a=null,t=(n=Sf(n)).charAt(0)){case'"':case"'":a=function(e,t){for(var a=0;a<e.length;){if(e.charAt(a)===t)return[e.substring(0,a),e.substring(a+1)];a+=1}return null}(n.substring(1),t);break;default:a=function(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}(n)}if(null===a||(r.push(a[0]),""!==(n=Sf(a[1]))&&","!==n.charAt(0)))return Sy;n=n.replace(/^,/,"")}return r}(i);if(this.fontFaces){var l=function(e,t,a){for(var r=(a=a||{}).defaultFontFamily||"times",n=Object.assign({},Sh,a.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(n[(i=Sd(t[o])).family]&&(i.family=n[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[r]))throw Error("Could not find a font-family for the rule '"+Sm(i)+"' and default family '"+r+"'.");if(s=function(e,t){if(t[e])return t[e];var a=So[e],r=a<=So.normal?-1:1,n=Su(t,Ss,a,r);if(!n)throw Error("Could not find a matching font-stretch value for "+e);return n}(i.stretch,s),s=function(e,t){if(t[e])return t[e];for(var a=Si[e],r=0;r<a.length;++r)if(t[a[r]])return t[a[r]];throw Error("Could not find a matching font-style for "+e)}(i.style,s),!(s=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var a=Su(t,Sl,Sp[e],e<400?-1:1);if(!a)throw Error("Could not find a matching font-weight for value "+e);return a}(i.weight,s)))throw Error("Failed to resolve a font for the rule '"+Sm(i)+"'.");return s}(function(e,t){if(null===u){var a,r;u=function(e){for(var t={},a=0;a<e.length;++a){var r=Sd(e[a]),n=r.family,i=r.stretch,s=r.style,o=r.weight;t[n]=t[n]||{},t[n][i]=t[n][i]||{},t[n][i][s]=t[n][i][s]||{},t[n][i][s][o]=r}return t}((a=e.getFontList(),r=[],Object.keys(a).forEach(function(e){a[e].forEach(function(t){var a=null;switch(t){case"bold":a={family:e,weight:"bold"};break;case"italic":a={family:e,style:"italic"};break;case"bolditalic":a={family:e,weight:"bold",style:"italic"};break;case"":case"normal":a={family:e}}null!==a&&(a.ref={name:e,style:t},r.push(a))})}),r).concat(t))}return u}(this.pdf,this.fontFaces),o.map(function(e){return{family:e,stretch:"normal",weight:r,style:a}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var p="";("bold"===r||parseInt(r,10)>=700||"bold"===a)&&(p="bold"),"italic"===a&&(p+="italic"),0===p.length&&(p="normal");for(var d="",h={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},c=0;c<o.length;c++){if(void 0!==this.pdf.internal.getFont(o[c],p,{noFallback:!0,disableWarning:!0})){d=o[c];break}if("bolditalic"===p&&void 0!==this.pdf.internal.getFont(o[c],"bold",{noFallback:!0,disableWarning:!0}))d=o[c],p="bold";else if(void 0!==this.pdf.internal.getFont(o[c],"normal",{noFallback:!0,disableWarning:!0})){d=o[c],p="normal";break}}if(""===d){for(var m=0;m<o.length;m++)if(h[o[m]]){d=h[o[m]];break}}d=""===d?"Times":d,this.pdf.setFont(d,p)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,P.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,P.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=!!e}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){w.call(this,"fill",!1)},u.prototype.stroke=function(){w.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw Nq.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.moveTo");var a=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"mt",x:a.x,y:a.y}),this.ctx.lastPoint=new s(e,t)},u.prototype.closePath=function(){var e=new s(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===xH()(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new s(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw Nq.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.lineTo");var a=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"lt",x:a.x,y:a.y}),this.ctx.lastPoint=new s(a.x,a.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,a,r){if(isNaN(a)||isNaN(r)||isNaN(e)||isNaN(t))throw Nq.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var n=this.ctx.transform.applyToPoint(new s(a,r)),i=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"qct",x1:i.x,y1:i.y,x:n.x,y:n.y}),this.ctx.lastPoint=new s(n.x,n.y)},u.prototype.bezierCurveTo=function(e,t,a,r,n,i){if(isNaN(n)||isNaN(i)||isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r))throw Nq.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new s(n,i)),l=this.ctx.transform.applyToPoint(new s(e,t)),p=this.ctx.transform.applyToPoint(new s(a,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:p.x,y2:p.y,x:o.x,y:o.y}),this.ctx.lastPoint=new s(o.x,o.y)},u.prototype.arc=function(e,t,a,r,n,i){if(isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r)||isNaN(n))throw Nq.error("jsPDF.context2d.arc: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.arc");if(i=!!i,!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new s(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new s(0,a)),p=this.ctx.transform.applyToPoint(new s(0,0));a=Math.sqrt(Math.pow(l.x-p.x,2)+Math.pow(l.y-p.y,2))}Math.abs(n-r)>=2*Math.PI&&(r=0,n=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:a,startAngle:r,endAngle:n,counterclockwise:i})},u.prototype.arcTo=function(e,t,a,r,n){throw Error("arcTo not implemented.")},u.prototype.rect=function(e,t,a,r){if(isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r))throw Nq.error("jsPDF.context2d.rect: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+a,t),this.lineTo(e+a,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+a,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,a,r){if(isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r))throw Nq.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!c.call(this)){var n={};"butt"!==this.lineCap&&(n.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(n.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,a,r),this.fill(),n.hasOwnProperty("lineCap")&&(this.lineCap=n.lineCap),n.hasOwnProperty("lineJoin")&&(this.lineJoin=n.lineJoin)}},u.prototype.strokeRect=function(e,t,a,r){if(isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r))throw Nq.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,a,r),this.stroke())},u.prototype.clearRect=function(e,t,a,r){if(isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r))throw Nq.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,a,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,a=0;a<this.pdf.internal.getNumberOfPages();a++)this.pdf.setPage(a+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,a=0;a<this.pdf.internal.getNumberOfPages();a++)this.pdf.setPage(a+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw Error("toDataUrl not implemented.")};var h=function(e){var t,a,r,n;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,a=0,r=0,n=0;else{var i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==i)t=parseInt(i[1]),a=parseInt(i[2]),r=parseInt(i[3]),n=1;else if(null!==(i=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(i[1]),a=parseInt(i[2]),r=parseInt(i[3]),n=parseFloat(i[4]);else{if(n=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new kr(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,a=e.substring(2,3),a+=a,r=e.substring(3,4),r+=r):(t=e.substring(1,3),a=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),a=parseInt(a,16),r=parseInt(r,16)}}return{r:t,g:a,b:r,a:n,style:e}},c=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return!!(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,a,r){if(isNaN(t)||isNaN(a)||"string"!=typeof e)throw Nq.error("jsPDF.context2d.fillText: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!c.call(this)){var n=D(this.ctx.transform.rotation);A.call(this,{text:e,x:t,y:a,scale:this.ctx.transform.scaleX,angle:n,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,a,r){if(isNaN(t)||isNaN(a)||"string"!=typeof e)throw Nq.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){r=isNaN(r)?void 0:r;var n=D(this.ctx.transform.rotation);A.call(this,{text:e,x:t,y:a,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:n,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw Nq.error("jsPDF.context2d.measureText: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,a=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),n=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:n*=Math.round(96*a/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw Nq.error("jsPDF.context2d.scale: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.scale");var a=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(a)},u.prototype.rotate=function(e){if(isNaN(e))throw Nq.error("jsPDF.context2d.rotate: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw Nq.error("jsPDF.context2d.translate: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.translate");var a=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(a)},u.prototype.transform=function(e,t,a,r,n,i){if(isNaN(e)||isNaN(t)||isNaN(a)||isNaN(r)||isNaN(n)||isNaN(i))throw Nq.error("jsPDF.context2d.transform: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new l(e,t,a,r,n,i);this.ctx.transform=this.ctx.transform.multiply(s)},u.prototype.setTransform=function(e,t,a,r,n,i){e=isNaN(e)?1:e,t=isNaN(t)?0:t,a=isNaN(a)?0:a,r=isNaN(r)?1:r,n=isNaN(n)?0:n,i=isNaN(i)?0:i,this.ctx.transform=new l(e,t,a,r,n,i)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,a,r,n,i,s,p,d){var u=this.pdf.getImageProperties(e),h=1,c=1,m=1,v=1;void 0!==r&&void 0!==p&&(m=p/r,v=d/n,h=u.width/r*p/r,c=u.height/n*d/n),void 0===i&&(i=t,s=a,t=0,a=0),void 0!==r&&void 0===p&&(p=r,d=n),void 0===r&&void 0===p&&(p=u.width,d=u.height);for(var w,N=this.ctx.transform.decompose(),k=D(N.rotate.shx),S=new l,I=(S=(S=(S=S.multiply(N.translate)).multiply(N.skew)).multiply(N.scale)).applyToRectangle(new o(i-t*m,s-a*v,r*h,n*c)),C=g.call(this,I),T=[],A=0;A<C.length;A+=1)-1===T.indexOf(C[A])&&T.push(C[A]);if(y(T),this.autoPaging)for(var _=T[0],E=T[T.length-1],$=_;$<E+1;$++){this.pdf.setPage($);var R=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],L=1===$?this.posY+this.margin[0]:this.margin[0],F=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],O=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===$?0:F+($-2)*O;if(0!==this.ctx.clip_path.length){var M=this.path;w=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(w,this.posX+this.margin[3],-P+L+this.ctx.prevPageLastElemOffset),x.call(this,"fill",!0),this.path=M}var B=JSON.parse(JSON.stringify(I));B=b([B],this.posX+this.margin[3],-P+L+this.ctx.prevPageLastElemOffset)[0];var z=($>_||$<E)&&f.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],R,O,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,k),z&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",I.x,I.y,I.w,I.h,null,null,k)};var g=function(e,t,a){var r=[];t=t||this.pdf.internal.pageSize.width,a=a||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var n=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+n)/a)+1);break;case"arc":r.push(Math.floor((e.y+n-e.radius)/a)+1),r.push(Math.floor((e.y+n+e.radius)/a)+1);break;case"qct":var i=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((i.y+n)/a)+1),r.push(Math.floor((i.y+i.h+n)/a)+1);break;case"bct":var s=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((s.y+n)/a)+1),r.push(Math.floor((s.y+s.h+n)/a)+1);break;case"rect":r.push(Math.floor((e.y+n)/a)+1),r.push(Math.floor((e.y+e.h+n)/a)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)v.call(this);return r},v=function(){var e=this.fillStyle,t=this.strokeStyle,a=this.font,r=this.lineCap,n=this.lineWidth,i=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=a,this.lineCap=r,this.lineWidth=n,this.lineJoin=i},b=function(e,t,a){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=a;case"qct":e[r].x1+=t,e[r].y1+=a;default:e[r].x+=t,e[r].y+=a}return e},y=function(e){return e.sort(function(e,t){return e-t})},w=function(e,t){for(var a,r,n=this.fillStyle,i=this.strokeStyle,s=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),p=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],c=0;c<u.length;c++)if(void 0!==u[c].x)for(var m=g.call(this,u[c]),w=0;w<m.length;w+=1)-1===h.indexOf(m[w])&&h.push(m[w]);for(var N=0;N<h.length;N++)for(;this.pdf.internal.getNumberOfPages()<h[N];)v.call(this);if(y(h),this.autoPaging)for(var k=h[0],S=h[h.length-1],I=k;I<S+1;I++){this.pdf.setPage(I),this.fillStyle=n,this.strokeStyle=i,this.lineCap=s,this.lineWidth=l,this.lineJoin=p;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],T=1===I?this.posY+this.margin[0]:this.margin[0],A=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],E=1===I?0:A+(I-2)*_;if(0!==this.ctx.clip_path.length){var $=this.path;a=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(a,this.posX+this.margin[3],-E+T+this.ctx.prevPageLastElemOffset),x.call(this,e,!0),this.path=$}if(r=JSON.parse(JSON.stringify(d)),this.path=b(r,this.posX+this.margin[3],-E+T+this.ctx.prevPageLastElemOffset),!1===t||0===I){var R=(I>k||I<S)&&f.call(this);R&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,_,null).clip().discardPath()),x.call(this,e,t),R&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,x.call(this,e,t),this.lineWidth=o;this.path=d},x=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!c.call(this))){for(var a,r,n=[],i=this.path,s=0;s<i.length;s++){var o=i[s];switch(o.type){case"begin":n.push({begin:!0});break;case"close":n.push({close:!0});break;case"mt":n.push({start:o,deltas:[],abs:[]});break;case"lt":var l=n.length;if(i[s-1]&&!isNaN(i[s-1].x)&&(a=[o.x-i[s-1].x,o.y-i[s-1].y],l>0)){for(;l>=0;l--)if(!0!==n[l-1].close&&!0!==n[l-1].begin){n[l-1].deltas.push(a),n[l-1].abs.push(o);break}}break;case"bct":a=[o.x1-i[s-1].x,o.y1-i[s-1].y,o.x2-i[s-1].x,o.y2-i[s-1].y,o.x-i[s-1].x,o.y-i[s-1].y],n[n.length-1].deltas.push(a);break;case"qct":var p=i[s-1].x+2/3*(o.x1-i[s-1].x),d=i[s-1].y+2/3*(o.y1-i[s-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),f=o.x,g=o.y;a=[p-i[s-1].x,d-i[s-1].y,u-i[s-1].x,h-i[s-1].y,f-i[s-1].x,g-i[s-1].y],n[n.length-1].deltas.push(a);break;case"arc":n.push({deltas:[],abs:[],arc:!0}),Array.isArray(n[n.length-1].abs)&&n[n.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var v=!1,b=0;b<n.length;b++)if(n[b].arc)for(var y=n[b].abs,w=0;w<y.length;w++){var x=y[w];"arc"===x.type?S.call(this,x.x,x.y,x.radius,x.startAngle,x.endAngle,x.counterclockwise,void 0,t,!v):_.call(this,x.x,x.y),v=!0}else if(!0===n[b].close)this.pdf.internal.out("h"),v=!1;else if(!0!==n[b].begin){var N=n[b].start.x,k=n[b].start.y;E.call(this,n[b].deltas,N,k),v=!0}r&&I.call(this,r),t&&C.call(this)}},N=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,a=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-a;case"top":return e+t-a;case"hanging":return e+t-2*a;case"middle":return e+t/2-a;default:return e}},k=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(e,t,a,r,n,i,s,o,l){for(var p=R.call(this,a,r,n,i),d=0;d<p.length;d++){var u=p[d];0===d&&(l?T.call(this,u.x1+e,u.y1+t):_.call(this,u.x1+e,u.y1+t)),$.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?C.call(this):I.call(this,s)},I=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(e,t){this.pdf.internal.out(a(e)+" "+r(t)+" m")},A=function(e){switch(e.align){case"right":case"end":d="right";break;case"center":d="center";break;default:d="left"}var t=this.pdf.getTextDimensions(e.text),a=N.call(this,e.y),r=k.call(this,a)-t.h,n=this.ctx.transform.applyToPoint(new s(e.x,a)),i=this.ctx.transform.decompose(),p=new l;p=(p=(p=p.multiply(i.translate)).multiply(i.skew)).multiply(i.scale);for(var d,u,h,c,m=this.ctx.transform.applyToRectangle(new o(e.x,a,t.w,t.h)),v=p.applyToRectangle(new o(e.x,r,t.w,t.h)),w=g.call(this,v),S=[],I=0;I<w.length;I+=1)-1===S.indexOf(w[I])&&S.push(w[I]);if(y(S),this.autoPaging)for(var C=S[0],T=S[S.length-1],A=C;A<T+1;A++){this.pdf.setPage(A);var _=1===A?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$=this.pdf.internal.pageSize.height-this.margin[2],R=$-this.margin[0],L=this.pdf.internal.pageSize.width-this.margin[1],D=L-this.margin[3],F=1===A?0:E+(A-2)*R;if(0!==this.ctx.clip_path.length){var O=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(u,this.posX+this.margin[3],-1*F+_),x.call(this,"fill",!0),this.path=O}var P=b([JSON.parse(JSON.stringify(v))],this.posX+this.margin[3],-F+_+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),c=this.lineWidth,this.lineWidth=c*e.scale);var M="text"!==this.autoPaging;if(M||P.y+P.h<=$){if(M||P.y>=_&&P.x<=L){var B=M?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||L-P.x)[0],z=b([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-F+_+this.ctx.prevPageLastElemOffset)[0],V=M&&(A>C||A<T)&&f.call(this);V&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],D,R,null).clip().discardPath()),this.pdf.text(B,z.x,z.y,{angle:e.angle,align:d,renderingMode:e.renderingMode}),V&&this.pdf.restoreGraphicsState()}}else P.y<$&&(this.ctx.prevPageLastElemOffset+=$-P.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=c)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),c=this.lineWidth,this.lineWidth=c*e.scale),this.pdf.text(e.text,n.x+this.posX,n.y+this.posY,{angle:e.angle,align:d,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=c)},_=function(e,t,n,i){n=n||0,i=i||0,this.pdf.internal.out(a(e+n)+" "+r(t+i)+" l")},E=function(e,t,a){return this.pdf.lines(e,t,a,null,null)},$=function(e,a,r,s,o,l,p,d){this.pdf.internal.out([t(n(r+e)),t(i(s+a)),t(n(o+e)),t(i(l+a)),t(n(p+e)),t(i(d+a)),"c"].join(" "))},R=function(e,t,a,r){for(var n=2*Math.PI,i=Math.PI/2;t>a;)t-=n;var s=Math.abs(a-t);s<n&&r&&(s=n-s);for(var o=[],l=r?-1:1,p=t;s>1e-5;){var d=p+l*Math.min(s,i);o.push(L.call(this,e,p,d)),s-=Math.abs(d-p),p=d}return o},L=function(e,t,a){var r=(a-t)/2,n=e*Math.cos(r),i=e*Math.sin(r),s=-i,o=n*n+s*s,l=o+n*n+s*i,p=4/3*(Math.sqrt(2*o*l)-l)/(n*i-s*n),d=n-p*s,u=s+p*n,h=-u,c=r+t,m=Math.cos(c),f=Math.sin(c);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:d*m-u*f,y2:d*f+u*m,x3:d*m-h*f,y3:d*f+h*m,x4:e*Math.cos(a),y4:e*Math.sin(a)}},D=function(e){return 180*e/Math.PI},F=function(e,t,a,r,n,i){var s=e+.5*(a-e),l=t+.5*(r-t),p=n+.5*(a-n),d=i+.5*(r-i),u=Math.min(e,n,s,p),h=Math.min(t,i,l,d);return new o(u,h,Math.max(e,n,s,p)-u,Math.max(t,i,l,d)-h)},O=function(e,t,a,r,n,i,s,l){var p,d,u,h,c,m,f,g,v,b,y,w,x,N,k=a-e,S=r-t,I=n-a,C=i-r,T=s-n,A=l-i;for(d=0;d<41;d++)v=(f=(u=e+(p=d/40)*k)+p*((c=a+p*I)-u))+p*(c+p*(n+p*T-c)-f),b=(g=(h=t+p*S)+p*((m=r+p*C)-h))+p*(m+p*(i+p*A-m)-g),0==d?(y=v,w=b,x=v,N=b):(y=Math.min(y,v),w=Math.min(w,b),x=Math.max(x,v),N=Math.max(N,b));return new o(Math.round(y),Math.round(w),Math.round(x-y),Math.round(N-w))},P=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==e&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=e)}}})(kI.API),/**
 * @license
 * jsPDF filters PlugIn
 * Copyright (c) 2014 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){var t=function(e){var t,a,r,n,i,s,o,l,p,d;for(/[^\x00-\xFF]/.test(e),a=[],r=0,n=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;n>r;r+=4)0!==(i=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(s=(i=((i=((i=((i=(i-(d=i%85))/85)-(p=i%85))/85)-(l=i%85))/85)-(o=i%85))/85)%85,a.push(s+33,o+33,l+33,p+33,d+33)):a.push(122);return function(e,t){for(var a=t;a>0;a--)e.pop()}(a,t.length),String.fromCharCode.apply(String,a)+"~>"},a=function(e){var t,a,r,n,i,s=String,o="length",l="charCodeAt",p="slice",d="replace";for(e[p](-2),e=e[p](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),r=[],n=0,i=(e+=t="uuuuu"[p](e[o]%5||5))[o];i>n;n+=5)a=52200625*(e[l](n)-33)+614125*(e[l](n+1)-33)+7225*(e[l](n+2)-33)+85*(e[l](n+3)-33)+(e[l](n+4)-33),r.push(255&a>>24,255&a>>16,255&a>>8,255&a);return function(e,t){for(var a=t;a>0;a--)e.pop()}(r,t[o]),s.fromCharCode.apply(s,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var a="",r=0;r<e.length;r+=2)a+=String.fromCharCode("0x"+(e[r]+e[r+1]));return a},n=function(e){for(var t=new Uint8Array(e.length),a=e.length;a--;)t[a]=e.charCodeAt(a);return e=(t=NV(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,i){var s=0,o=e||"",l=[];for("string"==typeof(i=i||[])&&(i=[i]),s=0;s<i.length;s+=1)switch(i[s]){case"ASCII85Decode":case"/ASCII85Decode":o=a(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=t(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=r(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=n(o),l.push("/FlateDecode");break;default:throw Error('The filter: "'+i[s]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(kI.API),/**
 * @license
 * jsPDF fileloading PlugIn
 * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){e.loadFile=function(e,t,a){return function(e,t,a){t=!1!==t,a="function"==typeof a?a:function(){};var r=void 0;try{r=function(e,t,a){var r=new XMLHttpRequest,n=0,i=function(e){var t=e.length,a=[],r=String.fromCharCode;for(n=0;n<t;n+=1)a.push(r(255&e.charCodeAt(n)));return a.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?a(i(this.responseText)):a(void 0)}),r.send(null),t&&200===r.status)return i(r.responseText)}(e,t,a)}catch(e){}return r}(e,t,a)},e.loadImageFile=e.loadFile}(kI.API),function(e){function t(){return(Nj.html2canvas?Promise.resolve(Nj.html2canvas):a.e(642).then(a.bind(a,9642))).catch(function(e){return Promise.reject(Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(Nj.DOMPurify?Promise.resolve(Nj.DOMPurify):a.e(785).then(a.bind(a,1785))).catch(function(e){return Promise.reject(Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var n=function(e){var t=xH()(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var a=document.createElement(e);for(var r in t.className&&(a.className=t.className),t.innerHTML&&t.dompurify&&(a.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)a.style[r]=t.style[r];return a},s=function e(t){var a=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),a);return(r=r.setProgress(1,e,1,[e])).set(t)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(e,t){return e.__proto__=t||s.prototype,e},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(n(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then(function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},s.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,a){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),n=t.firstChild;n;n=n.nextSibling)!0!==a&&1===n.nodeType&&"SCRIPT"===n.nodeName||r.appendChild(e(n,a));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(e){var t=this.opt.jsPDF,a=this.opt.fontFaces,r=Object.assign({async:!0,allowTaint:!0,scale:"number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete r.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=a,a)for(var n=0;n<a.length;++n){var i=a[n],s=i.src.find(function(e){return"truetype"===e.format});s&&t.addFont(s.url,i.ref.name,i.ref.style)}return r.windowHeight=r.windowHeight||0,r.windowHeight=0==r.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):r.windowHeight,t.context2d.save(!0),e(this.prop.container,r)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(e,t,a){return"img"===(a=a||"pdf").toLowerCase()||"image"===a.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},s.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},s.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},s.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(e){if("object"!==n(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in s.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},s.prototype.get=function(e,t){return this.then(function(){var a=e in s.template.prop?this.prop[e]:this.opt[e];return t?t(a):a})},s.prototype.setMargin=function(e){return this.then(function(){switch(n(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},s.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||kI.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},s.prototype.setProgress=function(e,t,a,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=a&&(this.progress.n=a),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(e,t,a,r){return this.setProgress(e?this.progress.val+e:null,t||null,a?this.progress.n+a:null,r?this.progress.stack.concat(r):null)},s.prototype.then=function(e,t){var a=this;return this.thenCore(e,t,function(e,t){return a.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return a.updateProgress(null,e),t}).then(e,t).then(function(e){return a.updateProgress(1),e})})},s.prototype.thenCore=function(e,t,a){a=a||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),n=a.call(r,e,t);return s.convert(n,this.__proto__)},s.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},s.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},s.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return s.convert(t,this)},s.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},s.prototype.error=function(e){return this.then(function(){throw Error(e)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,kI.getPageSize=function(e,t,a){if("object"===xH()(e)){var r=e;e=r.orientation,t=r.unit||t,a=r.format||a}t=t||"mm",a=a||"a4",e=(""+(e||"P")).toLowerCase();var n,i=(""+a).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":n=1;break;case"mm":n=72/25.4;break;case"cm":n=72/2.54;break;case"in":n=72;break;case"px":n=.75;break;case"pc":case"em":n=12;break;case"ex":n=6;break;default:throw"Invalid unit: "+t}var o,l=0,p=0;if(s.hasOwnProperty(i))l=s[i][1]/n,p=s[i][0]/n;else try{l=a[1],p=a[0]}catch(e){throw Error("Invalid format: "+a)}if("p"===e||"portrait"===e)e="p",p>l&&(o=p,p=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>p&&(o=p,p=l,l=o)}return{width:p,height:l,unit:t,k:n,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Sd):null;var a=new s(t);return t.worker?a:a.from(e).doCallback()}}(kI.API),kI.API.addJS=function(e){return Sb=e,this.internal.events.subscribe("postPutResources",function(){Sg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Sv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Sb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Sg&&void 0!==Sv&&this.internal.out("/Names <</JavaScript "+Sg+" 0 R>>")}),this},/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){var t;e.events.push(["postPutResources",function(){var e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=this.outline.render().split(/\r\n/),r=0;r<a.length;r++){var n=a[r],i=e.exec(n);if(null!=i){var s=i[1];this.internal.newObjectDeferredBegin(s,!1)}this.internal.write(n)}if(this.outline.createNamedDestinations){var o=this.internal.pages.length,l=[];for(r=0;r<o;r++){var p=this.internal.newObject();l.push(p);var d=this.internal.getPageInfo(r+1);this.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var u=this.internal.newObject();for(this.internal.write("<< /Names [ "),r=0;r<l.length;r++)this.internal.write("(page_"+(r+1)+")"+l[r]+" 0 R");this.internal.write(" ] >>","endobj"),t=this.internal.newObject(),this.internal.write("<< /Dests "+u+" 0 R"),this.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,a){var r={title:t,options:a,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var a=0;a<t.children.length;a++)this.genIds_r(t.children[a])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var n=t.children[r];this.objStart(n),this.line("/Title "+this.makeString(n.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1])));var i=this.count=this.count_r({count:0},n);if(i>0&&this.line("/Count "+i),n.options&&n.options.pageNumber){var s=e.internal.getPageInfo(n.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var a=0;a<t.children.length;a++)e.count++,this.count_r(e,t.children[a]);return e.count}}])}(kI.API),/**
 * @license
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,a,r,n,i,s){var o,l=this.decode.DCT_DECODE,p=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=i||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(e){for(var a,r=256*e.charCodeAt(4)+e.charCodeAt(5),n=e.length,i={width:0,height:0,numcomponents:1},s=4;s<n;s+=2){if(s+=r,-1!==t.indexOf(e.charCodeAt(s+1))){a=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),i={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:a,numcomponents:e.charCodeAt(s+9)};break}r=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return i}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}p={data:e,width:o.width,height:o.height,colorSpace:s,bitsPerComponent:8,filter:l,index:a,alias:r}}return p}}(kI.API);var Sw,Sx,SN,Sk,SS,SI=function(){function e(e){var t,a,r,n,i,s,o,l,p,d,u,h,c,m;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},s=null;;){switch(t=this.readUInt32(),p=(function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":s&&this.animation.frames.push(s),this.pos+=4,s={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),n=this.readUInt16()||100,s.delay=1e3*i/n,s.disposeOp=this.data[this.pos++],s.blendOp=this.data[this.pos++],s.data=[];break;case"IDAT":case"fdAT":for("fdAT"===p&&(this.pos+=4,t-=4),e=(null!=s?s.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw Error("More transparent colors than palette size");if((d=r-this.transparency.indexed.length)>0)for(c=0;0<=d?c<d:c>d;0<=d?++c:--c)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":o=(u=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,o)),this.text[l]=String.fromCharCode.apply(String,u.slice(o+1));break;case"IEND":return s&&this.animation.frames.push(s),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=4===(m=this.colorType)||6===m,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file")}}e.prototype.read=function(e){var t,a;for(a=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)a.push(this.data[this.pos++]);return a},e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.decodePixels=function(e){var t,a,r,n,i=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*i),o=0,l=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function p(t,a,r,n){var p,d,u,h,c,m,f,g,v,b,y,w,x,N,k,S,I,C,T,A,_,E=Math.ceil((l.width-t)/r),$=Math.ceil((l.height-a)/n),R=l.width==E&&l.height==$;for(N=i*E,w=R?s:new Uint8Array(N*$),m=e.length,x=0,d=0;x<$&&o<m;){switch(e[o++]){case 0:for(h=I=0;I<N;h=I+=1)w[d++]=e[o++];break;case 1:for(h=C=0;C<N;h=C+=1)p=e[o++],c=h<i?0:w[d-i],w[d++]=(p+c)%256;break;case 2:for(h=T=0;T<N;h=T+=1)p=e[o++],u=(h-h%i)/i,k=x&&w[(x-1)*N+u*i+h%i],w[d++]=(k+p)%256;break;case 3:for(h=A=0;A<N;h=A+=1)p=e[o++],u=(h-h%i)/i,c=h<i?0:w[d-i],k=x&&w[(x-1)*N+u*i+h%i],w[d++]=(p+Math.floor((c+k)/2))%256;break;case 4:for(h=_=0;_<N;h=_+=1)p=e[o++],u=(h-h%i)/i,c=h<i?0:w[d-i],0===x?k=S=0:(k=w[(x-1)*N+u*i+h%i],S=u&&w[(x-1)*N+(u-1)*i+h%i]),g=Math.abs((f=c+k-S)-c),b=Math.abs(f-k),y=Math.abs(f-S),v=g<=b&&g<=y?c:b<=y?k:S,w[d++]=(p+v)%256;break;default:throw Error("Invalid filter algorithm: "+e[o-1])}if(!R){var L=((a+x*n)*l.width+t)*i,D=x*N;for(h=0;h<E;h+=1){for(var F=0;F<i;F+=1)s[L++]=w[D++];L+=(r-1)*i}}x++}}return e=Nf((r=e).subarray((a=void 0,((15&(t=r)[0])!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Nm(6,"invalid zlib data"),(t[1]>>5&1)==+!a&&Nm(6,"invalid zlib data: "+(32&t[1]?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2),-4),{i:2},n&&n.out,n&&n.dictionary),1==l.interlaceMethod?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),s},e.prototype.decodePalette=function(){var e,t,a,r,n,i,s,o,l;for(a=this.palette,n=new Uint8Array(((i=this.transparency.indexed||[]).length||0)+a.length),r=0,e=0,t=s=0,o=a.length;s<o;t=s+=3)n[r++]=a[t],n[r++]=a[t+1],n[r++]=a[t+2],n[r++]=null!=(l=i[e++])?l:255;return n},e.prototype.copyToImageData=function(e,t){var a,r,n,i,s,o,l,p,d,u,h;if(r=this.colors,d=null,a=this.hasAlphaChannel,this.palette.length&&(d=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),r=4,a=!0),p=(n=e.data||e).length,s=d||t,i=o=0,1===r)for(;i<p;)l=d?4*t[i/4]:o,u=s[l++],n[i++]=u,n[i++]=u,n[i++]=u,n[i++]=a?s[l++]:255,o=l;else for(;i<p;)l=d?4*t[i/4]:o,n[i++]=s[l++],n[i++]=s[l++],n[i++]=s[l++],n[i++]=a?s[l++]:255,o=l},e.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var t,a,r,n=function(){if("[object Window]"===Object.prototype.toString.call(Nj)){try{r=(a=Nj.document.createElement("canvas")).getContext("2d")}catch(e){return!1}return!0}return!1};return n(),t=function(e){var t;if(!0===n())return r.width=e.width,r.height=e.height,r.clearRect(0,0,e.width,e.height),r.putImageData(e,0,0),(t=new Image).src=a.toDataURL(),t;throw Error("This method requires a Browser with Canvas-capability.")},e.prototype.decodeFrames=function(e){var a,r,n,i,s,o,l,p;if(this.animation){for(p=[],r=s=0,o=(l=this.animation.frames).length;s<o;r=++s)a=l[r],n=e.createImageData(a.width,a.height),i=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(n,i),a.imageData=n,p.push(a.image=t(n));return p}},e.prototype.renderFrame=function(e,t){var a,r,n;return a=(r=this.animation.frames)[t],n=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=n?n.disposeOp:void 0)?e.clearRect(n.xOffset,n.yOffset,n.width,n.height):2===(null!=n?n.disposeOp:void 0)&&e.putImageData(n.imageData,n.xOffset,n.yOffset),0===a.blendOp&&e.clearRect(a.xOffset,a.yOffset,a.width,a.height),e.drawImage(a.image,a.xOffset,a.yOffset)},e.prototype.animate=function(e){var t,a,r,n,i,s,o=this;return a=0,n=(s=this.animation).numFrames,r=s.frames,i=s.numPlays,(t=function(){var s,l;if(l=r[s=a++%n],o.renderFrame(e,s),n>1&&a/n<i)return o.animation._timeout=setTimeout(t,l.delay)})()},e.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},e.prototype.render=function(e){var t,a;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(a=t.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),t.putImageData(a,0,0))},e}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function SC(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw Error("Invalid GIF 87a/89a header.");var a=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,n=e[t++],i=1<<(7&n)+1;e[t++],e[t++];var s=null,o=null;n>>7&&(s=t,o=i,t+=3*i);var l=!0,p=[],d=0,u=null,h=0,c=null;for(this.width=a,this.height=r;l&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,c=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((f=e[t++])>=0))throw Error("Invalid block size");if(0===f)break;t+=f}break;case 249:if(4!==e[t++]||0!==e[t+4])throw Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,u=e[t++],0==(1&m)&&(u=null),h=m>>2&7,t++;break;case 254:for(;;){if(!((f=e[t++])>=0))throw Error("Invalid block size");if(0===f)break;t+=f}break;default:throw Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var f,g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++],x=w>>6&1,N=1<<(7&w)+1,k=s,S=o,I=!1;w>>7&&(I=!0,k=t,S=N,t+=3*N);var C=t;for(t++;;){if(!((f=e[t++])>=0))throw Error("Invalid block size");if(0===f)break;t+=f}p.push({x:g,y:v,width:b,height:y,has_local_palette:I,palette_offset:k,palette_size:S,data_offset:C,data_length:t-C,transparent_index:u,interlaced:!!x,delay:d,disposal:h});break;case 59:l=!1;break;default:throw Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return c},this.frameInfo=function(e){if(e<0||e>=p.length)throw Error("Frame index out of range.");return p[e]},this.decodeAndBlitFrameBGRA=function(t,r){var n=this.frameInfo(t),i=n.width*n.height,s=new Uint8Array(i);ST(e,n.data_offset,s,i);var o=n.palette_offset,l=n.transparent_index;null===l&&(l=256);var p=n.width,d=a-p,u=p,h=4*(n.y*a+n.x),c=4*((n.y+n.height)*a+n.x),m=h,f=4*d;!0===n.interlaced&&(f+=4*a*7);for(var g=8,v=0,b=s.length;v<b;++v){var y=s[v];if(0===u&&(u=p,(m+=f)>=c&&(f=4*d+4*a*(g-1),m=h+(p+d)*(g<<1),g>>=1)),y===l)m+=4;else{var w=e[o+3*y],x=e[o+3*y+1],N=e[o+3*y+2];r[m++]=N,r[m++]=x,r[m++]=w,r[m++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var n=this.frameInfo(t),i=n.width*n.height,s=new Uint8Array(i);ST(e,n.data_offset,s,i);var o=n.palette_offset,l=n.transparent_index;null===l&&(l=256);var p=n.width,d=a-p,u=p,h=4*(n.y*a+n.x),c=4*((n.y+n.height)*a+n.x),m=h,f=4*d;!0===n.interlaced&&(f+=4*a*7);for(var g=8,v=0,b=s.length;v<b;++v){var y=s[v];if(0===u&&(u=p,(m+=f)>=c&&(f=4*d+4*a*(g-1),m=h+(p+d)*(g<<1),g>>=1)),y===l)m+=4;else{var w=e[o+3*y],x=e[o+3*y+1],N=e[o+3*y+2];r[m++]=w,r[m++]=x,r[m++]=N,r[m++]=255}--u}}}function ST(e,t,a,r){for(var n=e[t++],i=1<<n,s=i+1,o=s+1,l=n+1,p=(1<<l)-1,d=0,u=0,h=0,c=e[t++],m=new Int32Array(4096),f=null;;){for(;d<16&&0!==c;)u|=e[t++]<<d,d+=8,1===c?c=e[t++]:--c;if(d<l)break;var g=u&p;if(u>>=l,d-=l,g!==i){if(g===s)break;for(var v=g<o?g:f,b=0,y=v;y>i;)y=m[y]>>8,++b;var w=y;if(h+b+(v!==g?1:0)>r)return void Nq.log("Warning, gif stream longer than expected.");a[h++]=w;var x=h+=b;for(v!==g&&(a[h++]=w),y=v;b--;)y=m[y],a[--x]=255&y,y>>=8;null!==f&&o<4096&&(m[o++]=f<<8|w,o>=p+1&&l<12&&(++l,p=p<<1|1)),f=g}else o=s+1,p=(1<<(l=n+1))-1,f=null}return h!==r&&Nq.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function SA(e){var t,a,r,n,i,s=Math.floor,o=Array(64),l=Array(64),p=Array(64),d=Array(64),u=Array(65535),h=Array(65535),c=Array(64),m=Array(64),f=[],g=0,v=7,b=Array(64),y=Array(64),w=Array(64),x=Array(256),N=Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(e,t){for(var a=0,r=0,n=[],i=1;i<=16;i++){for(var s=1;s<=e[i];s++)n[t[r]]=[],n[t[r]][0]=a,n[t[r]][1]=i,r++,a++;a*=2}return n}function L(e){for(var t=e[0],a=e[1]-1;a>=0;)t&1<<a&&(g|=1<<v),a--,--v<0&&(255==g?(D(255),D(0)):D(g),v=7,g=0)}function D(e){f.push(e)}function F(e){D(e>>8&255),D(255&e)}function O(e,t,a,r,n){for(var i,s=n[0],o=n[240],l=function(e,t){var a,r,n,i,s,o,l,p,d,u,h=0;for(d=0;d<8;++d){a=e[h],r=e[h+1],n=e[h+2],i=e[h+3],s=e[h+4],o=e[h+5],l=e[h+6];var m=a+(p=e[h+7]),f=a-p,g=r+l,v=r-l,b=n+o,y=n-o,w=i+s,x=i-s,N=m+w,k=m-w,S=g+b,I=g-b;e[h]=N+S,e[h+4]=N-S;var C=.707106781*(I+k);e[h+2]=k+C,e[h+6]=k-C;var T=.382683433*((N=x+y)-(I=v+f)),A=.5411961*N+T,_=1.306562965*I+T,E=.707106781*(S=y+v),$=f+E,R=f-E;e[h+5]=R+A,e[h+3]=R-A,e[h+1]=$+_,e[h+7]=$-_,h+=8}for(h=0,d=0;d<8;++d){a=e[h],r=e[h+8],n=e[h+16],i=e[h+24],s=e[h+32],o=e[h+40],l=e[h+48];var L=a+(p=e[h+56]),D=a-p,F=r+l,O=r-l,P=n+o,M=n-o,B=i+s,z=i-s,V=L+B,U=L-B,j=F+P,W=F-P;e[h]=V+j,e[h+32]=V-j;var q=.707106781*(W+U);e[h+16]=U+q,e[h+48]=U-q;var G=.382683433*((V=z+M)-(W=O+D)),H=.5411961*V+G,K=1.306562965*W+G,X=.707106781*(j=M+O),Y=D+X,J=D-X;e[h+40]=J+H,e[h+24]=J-H,e[h+8]=Y+K,e[h+56]=Y-K,h++}for(d=0;d<64;++d)u=e[d]*t[d],c[d]=u>0?u+.5|0:u-.5|0;return c}(e,t),p=0;p<64;++p)m[k[p]]=l[p];var d=m[0]-a;a=m[0],0==d?L(r[0]):(L(r[h[i=32767+d]]),L(u[i]));for(var f=63;f>0&&0==m[f];)f--;if(0==f)return L(s),a;for(var g,v=1;v<=f;){for(var b=v;0==m[v]&&v<=f;)++v;var y=v-b;if(y>=16){g=y>>4;for(var w=1;w<=g;++w)L(o);y&=15}L(n[(y<<4)+h[i=32767+m[v]]]),L(u[i]),v++}return 63!=f&&L(s),a}function P(e){i!=(e=Math.min(Math.max(e,1),100))&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],a=0;a<64;a++){var r=s((t[a]*e+50)/100);r=Math.min(Math.max(r,1),255),o[k[a]]=r}for(var n=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var u=s((n[i]*e+50)/100);u=Math.min(Math.max(u,1),255),l[k[i]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],c=0,m=0;m<8;m++)for(var f=0;f<8;f++)p[c]=1/(o[k[c]]*h[m]*h[f]*8),d[c]=1/(l[k[c]]*h[m]*h[f]*8),c++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e)}this.encode=function(e,i){i&&P(i),f=[],g=0,v=7,F(65496),F(65504),F(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),F(1),F(1),D(0),D(0),function(){F(65499),F(132),D(0);for(var e=0;e<64;e++)D(o[e]);D(1);for(var t=0;t<64;t++)D(l[t])}(),c=e.width,m=e.height,F(65472),F(17),D(8),F(m),F(c),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1),function(){F(65476),F(418),D(0);for(var e=0;e<16;e++)D(S[e+1]);for(var t=0;t<=11;t++)D(I[t]);D(16);for(var a=0;a<16;a++)D(C[a+1]);for(var r=0;r<=161;r++)D(T[r]);D(1);for(var n=0;n<16;n++)D(A[n+1]);for(var i=0;i<=11;i++)D(_[i]);D(17);for(var s=0;s<16;s++)D(E[s+1]);for(var o=0;o<=161;o++)D($[o])}(),F(65498),F(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var s=0,u=0,h=0;g=0,v=7,this.encode.displayName="_encode_";for(var c,m,x,k,R,M,B,z,V,U,j,W=e.data,q=e.width,G=e.height,H=4*q,K=0;K<G;){for(x=0;x<H;){for(B=H*K+x,V=-1,U=0,j=0;j<64;j++)z=B+(U=j>>3)*H+(V=4*(7&j)),K+U>=G&&(z-=H*(K+1+U-G)),x+V>=H&&(z-=x+V-H+4),k=W[z++],R=W[z++],M=W[z++],b[j]=(N[k]+N[R+256>>0]+N[M+512>>0]>>16)-128,y[j]=(N[k+768>>0]+N[R+1024>>0]+N[M+1280>>0]>>16)-128,w[j]=(N[k+1280>>0]+N[R+1536>>0]+N[M+1792>>0]>>16)-128;s=O(b,p,s,t,r),u=O(y,d,u,a,n),h=O(w,d,h,a,n),x+=32}K+=8}if(v>=0){var X=[];X[1]=v+1,X[0]=(1<<v+1)-1,L(X)}return F(65497),new Uint8Array(f)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)x[t]=e(t)}(),t=R(S,I),a=R(A,_),r=R(C,T),n=R(E,$),function(){for(var e=1,t=2,a=1;a<=15;a++){for(var r=e;r<t;r++)h[32767+r]=a,u[32767+r]=[],u[32767+r][1]=a,u[32767+r][0]=r;for(var n=-(t-1);n<=-e;n++)h[32767+n]=a,u[32767+n]=[],u[32767+n][1]=a,u[32767+n][0]=t-1+n;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)N[e]=19595*e,N[e+256>>0]=38470*e,N[e+512>>0]=7471*e+32768,N[e+768>>0]=-11059*e,N[e+1024>>0]=-21709*e,N[e+1280>>0]=32768*e+8421375,N[e+1536>>0]=-27439*e,N[e+1792>>0]=-5329*e}(),P(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function S_(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function SE(e){function t(e){if(!e)throw Error("assert :P")}function a(e,t,a){for(var r=0;4>r;r++)if(e[t+r]!=a.charCodeAt(r))return!0;return!1}function r(e,t,a,r,n){for(var i=0;i<n;i++)e[t+i]=a[r+i]}function n(e,t,a,r){for(var n=0;n<r;n++)e[t+n]=a}function i(e){return new Int32Array(e)}function s(e,t){for(var a=[],r=0;r<e;r++)a.push(new t);return a}function o(e,t){var a=[];return function e(a,r,n){for(var i=n[r],s=0;s<i&&(a.push(n.length>r+1?[]:new t),!(n.length<r+1));s++)e(a[s],r+1,n)}(a,0,e),a}var l=function(){var e=this;function l(e,t){for(var a=1<<t-1>>>0;e&a;)a>>>=1;return a?(e&a-1)+a:e}function p(e,a,r,n,i){t(!(n%r));do e[a+(n-=r)]=i;while(0<n)}function d(e,a,r,n,s){if(t(2328>=s),512>=s)var o=i(512);else if(null==(o=i(s)))return 0;return function(e,a,r,n,s,o){var d,h,c=a,m=1<<r,f=i(16),g=i(16);for(t(0!=s),t(null!=n),t(null!=e),t(0<r),h=0;h<s;++h){if(15<n[h])return 0;++f[n[h]]}if(f[0]==s)return 0;for(g[1]=0,d=1;15>d;++d){if(f[d]>1<<d)return 0;g[d+1]=g[d]+f[d]}for(h=0;h<s;++h)d=n[h],0<n[h]&&(o[g[d]++]=h);if(1==g[15])return(n=new u).g=0,n.value=o[0],p(e,c,1,m,n),m;var v,b=-1,y=m-1,w=0,x=1,N=1,k=1<<r;for(h=0,d=1,s=2;d<=r;++d,s<<=1){if(x+=N<<=1,0>(N-=f[d]))return 0;for(;0<f[d];--f[d])(n=new u).g=d,n.value=o[h++],p(e,c+w,s,k,n),w=l(w,d)}for(d=r+1,s=2;15>=d;++d,s<<=1){if(x+=N<<=1,0>(N-=f[d]))return 0;for(;0<f[d];--f[d]){if(n=new u,(w&y)!=b){for(c+=k,v=1<<(b=d)-r;15>b&&!(0>=(v-=f[b]));)++b,v<<=1;m+=k=1<<(v=b-r),e[a+(b=w&y)].g=v+r,e[a+b].value=c-a-b}n.g=d-r,n.value=o[h++],p(e,c+(w>>r),s,k,n),w=l(w,d)}}return x!=2*g[15]-1?0:m}(e,a,r,n,s,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function c(){this.G=s(5,u),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ag,h)}function m(e,a,r,n){t(null!=e),t(null!=a),t(2147483648>n),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=a,e.pa=r,e.Jd=a,e.Yc=r+n,e.Zc=4<=n?r+n-4+1:r,C(e)}function f(e,t){for(var a=0;0<t--;)a|=A(e,128)<<t;return a}function g(e,t){var a=f(e,t);return T(e)?-a:a}function v(e,a,r,n){var i,s=0;for(t(null!=e),t(null!=a),t(4294967288>n),e.Sb=n,e.Ra=0,e.u=0,e.h=0,4<n&&(n=4),i=0;i<n;++i)s+=a[r+i]<<8*i;e.Ra=s,e.bb=n,e.oa=a,e.pa=r}function b(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<ay-8>>>0,++e.bb,e.u-=8;k(e)&&(e.h=1,e.u=0)}function y(e,a){if(t(0<=a),!e.h&&a<=ab){var r=N(e)&av[a];return e.u+=a,b(e),r}return e.h=1,e.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function x(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function N(e){return e.Ra>>>(e.u&ay-1)>>>0}function k(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>ay}function S(e,t){e.u=t,e.h=k(e)}function I(e){e.u>=aw&&(t(e.u>=aw),b(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function T(e){return f(e,1)}function A(e,t){var a=e.Ca;0>e.b&&C(e);var r=e.b,n=a*t>>>8,i=(e.I>>>r>n)+0;for(i?(a-=n,e.I-=n+1<<r>>>0):a=n+1,r=a,n=0;256<=r;)n+=8,r>>=8;return r=7^n+ax[r],e.b-=r,e.Ca=(a<<r)-1,i}function _(e,t,a){e[t+0]=a>>24&255,e[t+1]=a>>16&255,e[t+2]=a>>8&255,e[t+3]=a>>0&255}function E(e,t){return e[t+0]<<0|e[t+1]<<8}function $(e,t){return E(e,t)|e[t+2]<<16}function R(e,t){return E(e,t)|E(e,t+2)<<16}function L(e,a){return t(null!=e),t(0<a),e.X=i(1<<a),null==e.X?0:(e.Mb=32-a,e.Xa=a,1)}function D(e,a){t(null!=e),t(null!=a),t(e.Xa==a.Xa),r(a.X,0,e.X,0,1<<a.Xa)}function F(){this.X=[],this.Xa=this.Mb=0}function O(e,a,r,n){t(null!=r),t(null!=n);var i=r[0],s=n[0];return 0==i&&(i=(e*s+a/2)/a),0==s&&(s=(a*i+e/2)/e),0>=i||0>=s?0:(r[0]=i,n[0]=s,1)}function P(e,t){return e+(1<<t)-1>>>t}function M(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function B(t,a){e[a]=function(a,r,n,i,s,o,l){var p;for(p=0;p<s;++p){var d=e[t](o[l+p-1],n,i+p);o[l+p]=M(a[r+p],d)}}}function z(){this.ud=this.hd=this.jd=0}function V(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function U(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function j(e,t){return U(e+(e-t+.5>>1))}function W(e,t,a){return Math.abs(t-a)-Math.abs(e-a)}function q(e,t,a,r,n,i,s){for(r=i[s-1],a=0;a<n;++a)i[s+a]=r=M(e[t+a],r)}function G(e,t,a,r,n){var i;for(i=0;i<a;++i){var s=e[t+i],o=s>>8&255,l=16711935&(l=(l=16711935&s)+((o<<16)+o));r[n+i]=(4278255360&s)+l>>>0}}function H(e,t){t.jd=e>>0&255,t.hd=e>>8&255,t.ud=e>>16&255}function K(e,t,a,r,n,i){var s;for(s=0;s<r;++s){var o=t[a+s],l=o>>>8,p=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));p=255&(p=(p+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),n[i+s]=(4278255360&o)+(d<<16)+p}}function X(t,a,r,n,i){e[a]=function(e,t,a,r,s,o,l,p,d){for(r=l;r<p;++r)for(l=0;l<d;++l)s[o++]=i(a[n(e[t++])])},e[t]=function(t,a,s,o,l,p,d){var u=8>>t.b,h=t.Ea,c=t.K[0],m=t.w;if(8>u)for(t=(1<<t.b)-1,m=(1<<u)-1;a<s;++a){var f,g=0;for(f=0;f<h;++f)f&t||(g=n(o[l++])),p[d++]=i(c[g&m]),g>>=u}else e["VP8LMapColor"+r](o,l,c,m,p,d,a,s,h)}}function Y(e,t,a,r,n){for(a=t+a;t<a;){var i=e[t++];r[n++]=i>>16&255,r[n++]=i>>8&255,r[n++]=i>>0&255}}function J(e,t,a,r,n){for(a=t+a;t<a;){var i=e[t++];r[n++]=i>>16&255,r[n++]=i>>8&255,r[n++]=i>>0&255,r[n++]=i>>24&255}}function Z(e,t,a,r,n){for(a=t+a;t<a;){var i=(s=e[t++])>>16&240|s>>12&15,s=s>>0&240|s>>28&15;r[n++]=i,r[n++]=s}}function Q(e,t,a,r,n){for(a=t+a;t<a;){var i=(s=e[t++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;r[n++]=i,r[n++]=s}}function ee(e,t,a,r,n){for(a=t+a;t<a;){var i=e[t++];r[n++]=i>>0&255,r[n++]=i>>8&255,r[n++]=i>>16&255}}function et(e,t,a,n,i,s){if(0==s)for(a=t+a;t<a;)_(n,((s=e[t++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),i+=32;else r(n,i,e,t,a)}function ea(t,a){e[a][0]=e[t+"0"],e[a][1]=e[t+"1"],e[a][2]=e[t+"2"],e[a][3]=e[t+"3"],e[a][4]=e[t+"4"],e[a][5]=e[t+"5"],e[a][6]=e[t+"6"],e[a][7]=e[t+"7"],e[a][8]=e[t+"8"],e[a][9]=e[t+"9"],e[a][10]=e[t+"10"],e[a][11]=e[t+"11"],e[a][12]=e[t+"12"],e[a][13]=e[t+"13"],e[a][14]=e[t+"0"],e[a][15]=e[t+"0"]}function er(e){return e==rd||e==ru||e==rh||e==rc}function en(){this.eb=[],this.size=this.A=this.fb=0}function ei(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function es(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new en,this.f.kb=new ei,this.sd=null}function eo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function el(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ep(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ed(e,t){var a=e.T,n=t.ba.f.RGBA,i=n.eb,s=n.fb+e.ka*n.A,o=rM[t.ba.S],l=e.y,p=e.O,d=e.f,u=e.N,h=e.ea,c=e.W,m=t.cc,f=t.dc,g=t.Mc,v=t.Nc,b=e.ka,y=e.ka+e.T,w=e.U,x=w+1>>1;for(0==b?o(l,p,null,null,d,u,h,c,d,u,h,c,i,s,null,null,w):(o(t.ec,t.fc,l,p,m,f,g,v,d,u,h,c,i,s-n.A,i,s,w),++a);b+2<y;b+=2)m=d,f=u,g=h,v=c,u+=e.Rc,c+=e.Rc,s+=2*n.A,o(l,(p+=2*e.fa)-e.fa,l,p,m,f,g,v,d,u,h,c,i,s-n.A,i,s,w);return p+=e.fa,e.j+y<e.o?(r(t.ec,t.fc,l,p,w),r(t.cc,t.dc,d,u,x),r(t.Mc,t.Nc,h,c,x),a--):1&y||o(l,p,null,null,d,u,h,c,d,u,h,c,i,s+n.A,null,null,w),a}function eu(e,a,r){var n=e.F,i=[e.J];if(null!=n){var s=e.U,o=a.ba.S,l=o==ro||o==rh;a=a.ba.f.RGBA;var p=[0],d=e.ka;p[0]=e.T,e.Kb&&(0==d?--p[0]:(--d,i[0]-=e.width),e.j+e.ka+e.T==e.o&&(p[0]=e.o-e.j-d));var u=a.eb;d=a.fb+d*a.A,e=a0(n,i[0],e.width,s,p,u,d+(l?0:3),a.A),t(r==p),e&&er(o)&&a1(u,d,l,s,p,a.A)}return 0}function eh(e){var t=e.ma,a=t.ba.S,r=11>a,n=a==rn||a==rs||a==ro||a==rl||12==a||er(a);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!ac(t.Oa,e,n?11:12))return 0;if(n&&er(a)&&t6(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ep,e.Kb){if(a=e.U+1>>1,t.memory=i(e.U+2*a),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+a,t.Ib=ed,t6()}}else alert("todo:EmitYUV");n&&(t.Jb=eu,r&&t4())}if(r&&!rZ){for(e=0;256>e;++e)rQ[e]=89858*(e-128)+rH>>rG,r0[e]=-22014*(e-128)+rH,r2[e]=-45773*(e-128),r1[e]=113618*(e-128)+rH>>rG;for(e=rK;e<rX;++e)t=76283*(e-16)+rH>>rG,r5[e-rK]=eq(t,255),r4[e-rK]=eq(t+8>>4,15);rZ=1}return 1}function ec(e){var a=e.ma,r=e.U,n=e.T;return t(!(1&e.ka)),0>=r||0>=n?0:(r=a.Ib(e,a),null!=a.Jb&&a.Jb(e,a,r),a.Dc+=r,1)}function em(e){e.ma.memory=null}function ef(e,t,a,r){return 47!=y(e,8)?0:(t[0]=y(e,14)+1,a[0]=y(e,14)+1,r[0]=y(e,1),0!=y(e,3)?0:!e.h)}function eg(e,t){if(4>e)return e+1;var a=e-2>>1;return(2+(1&e)<<a)+y(t,a)+1}function ev(e,t){var a;return 120<t?t-120:1<=(a=((a=ry[t-1])>>4)*e+(8-(15&a)))?a:1}function eb(e,t,a){var r=N(a),n=e[t+=255&r].g-8;return 0<n&&(S(a,a.u+8),r=N(a),t+=e[t].value,t+=r&(1<<n)-1),S(a,a.u+e[t].g),e[t].value}function ey(e,a,r){return r.g+=e.g,r.value+=e.value<<a>>>0,t(8>=r.g),e.g}function ew(e,a,r){var n=e.xc;return t((a=0==n?0:e.vc[e.md*(r>>n)+(a>>n)])<e.Wb),e.Ya[a]}function ex(e,a,n,i){var s=e.ab,o=e.c*a,l=e.C;a=l+a;var p=n,d=i;for(i=e.Ta,n=e.Ua;0<s--;){var u=e.gc[s],h=l,c=a,m=p,f=d,g=(d=i,p=n,u.Ea);switch(t(h<c),t(c<=u.nc),u.hc){case 2:aS(m,f,(c-h)*g,d,p);break;case 0:var v=h,b=c,y=d,w=p,x=(C=u).Ea;0==v&&(aN(m,f,null,null,1,y,w),q(m,f+1,0,0,x-1,y,w+1),f+=x,w+=x,++v);for(var N=1<<C.b,k=N-1,S=P(x,C.b),I=C.K,C=C.w+(v>>C.b)*S;v<b;){var T=I,A=C,_=1;for(ak(m,f,y,w-x,1,y,w);_<x;){var E=(_&~k)+N;E>x&&(E=x),(0,a_[T[A++]>>8&15])(m,f+ +_,y,w+_-x,E-_,y,w+_),_=E}f+=x,w+=x,++v&k||(C+=S)}c!=u.nc&&r(d,p-g,d,p+(c-h-1)*g,g);break;case 1:for(g=m,b=f,x=(m=u.Ea)-(w=m&~(y=(f=1<<u.b)-1)),v=P(m,u.b),N=u.K,u=u.w+(h>>u.b)*v;h<c;){for(k=N,S=u,I=new z,C=b+w,T=b+m;b<C;)H(k[S++],I),aE(I,g,b,f,d,p),b+=f,p+=f;b<T&&(H(k[S++],I),aE(I,g,b,x,d,p),b+=x,p+=x),++h&y||(u+=v)}break;case 3:if(m==d&&f==p&&0<u.b){for(b=d,m=g=p+(c-h)*g-(w=(c-h)*P(u.Ea,u.b)),f=d,y=p,v=[],w=(x=w)-1;0<=w;--w)v[w]=f[y+w];for(w=x-1;0<=w;--w)b[m+w]=v[w];aI(u,h,c,d,g,d,p)}else aI(u,h,c,m,f,d,p)}p=i,d=n}d!=n&&r(i,n,p,d,o)}function eN(e,a){var r=e.V,n=e.Ba+e.c*e.C,i=a-e.C;if(t(a<=e.l.o),t(16>=i),0<i){var s=e.l,o=e.Ta,l=e.Ua,p=s.width;if(ex(e,i,r,n),i=l=[l],t((r=e.C)<(n=a)),t(s.v<s.va),n>s.o&&(n=s.o),r<s.j){var d=s.j-r;r=s.j,i[0]+=d*p}if(r>=n?r=0:(i[0]+=4*s.v,s.ka=r-s.j,s.U=s.va-s.v,s.T=n-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(n=r.S,i=s.U,s=s.T,d=u.eb,u.A),c=s;for(u=u.fb+e.Ma*u.A;0<c--;){var m=l,f=i,g=d,v=u;switch(n){case rr:a$(o,m,f,g,v);break;case rn:aR(o,m,f,g,v);break;case rd:aR(o,m,f,g,v),a1(g,v,0,f,1,0);break;case ri:aF(o,m,f,g,v);break;case rs:et(o,m,f,g,v,1);break;case ru:et(o,m,f,g,v,1),a1(g,v,0,f,1,0);break;case ro:et(o,m,f,g,v,0);break;case rh:et(o,m,f,g,v,0),a1(g,v,1,f,1,0);break;case rl:aL(o,m,f,g,v);break;case rc:aL(o,m,f,g,v),a2(g,v,f,1,0);break;case rp:aD(o,m,f,g,v);break;default:t(0)}l+=p,u+=h}e.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=a,t(e.C<=e.i)}function ek(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var a=e.Ya[t].G,r=e.Ya[t].H;if(0<a[1][r[1]+0].g||0<a[2][r[2]+0].g||0<a[3][r[3]+0].g)return 0}return 1}function eS(e,a,r,n,i,s){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=rP[e.Z]);a<r;++a)rP[e.Z](o,l,n,i,n,i,s),o=n,l=i,i+=s;e.qd=o,e.rd=l}}function eI(e,a){var r=e.l.ma,n=0==r.Z||1==r.Z?e.l.j:e.C;if(n=e.C<n?n:e.C,t(a<=e.l.o),a>n){var i=e.l.width,s=r.ca,o=r.tb+i*n,l=e.V,p=e.Ba+e.c*n,d=e.gc;t(1==e.ab),t(3==d[0].hc),aT(d[0],n,a,l,p,s,o),eS(r,n,a,s,o,i)}e.C=e.Ma=a}function eC(e,a,r,n,i,s,o){var l=e.$/n,p=e.$%n,d=e.m,u=e.s,h=r+e.$,c=h;i=r+n*i;var m=r+n*s,f=280+u.ua,g=e.Pb?l:16777216,v=0<u.ua?u.Wa:null,b=u.wc,y=h<m?ew(u,p,l):null;t(e.C<s),t(m<=i);var w=!1;e:for(;;){for(;w||h<m;){var x=0;if(l>=g){var C=h-r;t((g=e).Pb),g.wd=g.m,g.xd=C,0<g.s.ua&&D(g.s.Wa,g.s.vb),g=l+rx}if(p&b||(y=ew(u,p,l)),t(null!=y),y.Qb&&(a[h]=y.qb,w=!0),!w){if(I(d),y.jc){x=d,C=a;var T=h,A=y.pd[N(x)&ag-1];t(y.jc),256>A.g?(S(x,x.u+A.g),C[T]=A.value,x=0):(S(x,x.u+A.g-256),t(256<=A.value),x=A.value),0==x&&(w=!0)}else x=eb(y.G[0],y.H[0],d)}if(d.h)break;if(w||256>x){if(!w){if(y.nd)a[h]=(y.qb|x<<8)>>>0;else{if(I(d),w=eb(y.G[1],y.H[1],d),I(d),C=eb(y.G[2],y.H[2],d),T=eb(y.G[3],y.H[3],d),d.h)break;a[h]=(T<<24|w<<16|x<<8|C)>>>0}}if(w=!1,++h,++p>=n&&(p=0,++l,null!=o&&l<=s&&!(l%16)&&o(e,l),null!=v))for(;c<h;)x=a[c++],v.X[(506832829*x&4294967295)>>>v.Mb]=x}else if(280>x){if(x=eg(x-256,d),C=eb(y.G[4],y.H[4],d),I(d),C=ev(n,C=eg(C,d)),d.h)break;if(h-r<C||i-h<x)break e;for(T=0;T<x;++T)a[h+T]=a[h+T-C];for(h+=x,p+=x;p>=n;)p-=n,++l,null!=o&&l<=s&&!(l%16)&&o(e,l);if(t(h<=i),p&b&&(y=ew(u,p,l)),null!=v)for(;c<h;)x=a[c++],v.X[(506832829*x&4294967295)>>>v.Mb]=x}else{if(!(x<f))break e;for(w=x-280,t(null!=v);c<h;)x=a[c++],v.X[(506832829*x&4294967295)>>>v.Mb]=x;x=h,t(!(w>>>(C=v).Xa)),a[x]=C.X[w],w=!0}w||t(d.h==k(d))}if(e.Pb&&d.h&&h<i)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&D(e.s.vb,e.s.Wa);else{if(d.h)break;null!=o&&o(e,l>s?s:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function eT(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var a=e.Wa;null!=a&&(a.X=null),e.vb=null,t(null!=e)}function eA(){var t=new tX;return null==t?null:(t.a=0,t.xb=rO,ea("Predictor","VP8LPredictors"),ea("Predictor","VP8LPredictors_C"),ea("PredictorAdd","VP8LPredictorsAdd"),ea("PredictorAdd","VP8LPredictorsAdd_C"),aS=G,aE=K,a$=Y,aR=J,aL=Z,aD=Q,aF=ee,e.VP8LMapColor32b=aC,e.VP8LMapColor8b=aA,t)}function e_(e,a,r,o,l){for(var p=1,h=[e],m=[a],f=o.m,g=o.s,v=null,b=0;;){if(r)for(;p&&y(f,1);){var w=h,x=m,k=1,C=o.m,T=o.gc[o.ab],A=y(C,2);if(o.Oc&1<<A)p=0;else{switch(o.Oc|=1<<A,T.hc=A,T.Ea=w[0],T.nc=x[0],T.K=[null],++o.ab,t(4>=o.ab),A){case 0:case 1:T.b=y(C,3)+2,k=e_(P(T.Ea,T.b),P(T.nc,T.b),0,o,T.K),T.K=T.K[0];break;case 3:var _,E=y(C,8)+1,$=16<E?0:4<E?1:2<E?2:3;if(w[0]=P(T.Ea,$),T.b=$,_=k=e_(E,1,0,o,T.K)){var R,D=1<<(8>>T.b),F=i(D);if(null==F)_=0;else{var O=T.K[0],B=T.w;for(F[0]=T.K[0][0],R=1;R<1*E;++R)F[R]=M(O[B+R],F[R-1]);for(;R<4*D;++R)F[R]=0;T.K[0]=null,T.K[0]=F,_=1}}k=_;break;case 2:break;default:t(0)}p=k}}if(h=h[0],m=m[0],p&&y(f,1)&&!(p=1<=(b=y(f,4))&&11>=b)){o.a=3;break}if(z=p)t:{var z,V,U,j,W=h,q=m,G=b,H=o.m,K=o.s,X=[null],Y=1,J=0,Z=rw[G];a:for(;;){if(r&&y(H,1)){var Q=y(H,3)+2,ee=P(W,Q),et=P(q,Q),ea=ee*et;if(!e_(ee,et,0,o,X))break;for(X=X[0],K.xc=Q,V=0;V<ea;++V){var er=X[V]>>8&65535;X[V]=er,er>=Y&&(Y=er+1)}}if(H.h)break;for(U=0;5>U;++U){var en=rg[U];!U&&0<G&&(en+=1<<G),J<en&&(J=en)}var ei=s(Y*Z,u),es=Y,eo=s(es,c);if(null==eo)var el=null;else t(65536>=es),el=eo;var ep=i(J);if(null==el||null==ep||null==ei){o.a=1;break}for(V=j=0;V<Y;++V){var ed,eu=el[V],eh=eu.G,ec=eu.H,em=0,ef=1,eg=0;for(U=0;5>U;++U){en=rg[U],eh[U]=ei,ec[U]=j,!U&&0<G&&(en+=1<<G);r:{var ev,eb=en,ew=j,ex=0,eN=o.m,ek=y(eN,1);if(n(ep,0,0,eb),ek){var eS=y(eN,1)+1,eI=y(eN,1),eA=y(eN,0==eI?1:8);ep[eA]=1,2==eS&&(ep[eA=y(eN,8)]=1);var eE=1}else{var e$=i(19),eR=y(eN,4)+4;if(19<eR){o.a=3;var eL=0;break r}for(ev=0;ev<eR;++ev)e$[rb[ev]]=y(eN,3);var eD=void 0,eF=void 0,eO=0,eP=o.m,eM=8,eB=s(128,u);n:for(;d(eB,0,7,e$,19);){if(y(eP,1)){var ez=2+2*y(eP,3);if((eD=2+y(eP,ez))>eb)break}else eD=eb;for(eF=0;eF<eb&&eD--;){I(eP);var eV=eB[0+(127&N(eP))];S(eP,eP.u+eV.g);var eU=eV.value;if(16>eU)ep[eF++]=eU,0!=eU&&(eM=eU);else{var ej=16==eU,eW=eU-16,eq=rf[eW],eG=y(eP,rm[eW])+eq;if(eF+eG>eb)break n;for(var eH=ej?eM:0;0<eG--;)ep[eF++]=eH}}eO=1;break}eO||(o.a=3),eE=eO}(eE=eE&&!eN.h)&&(ex=d(ei,ew,8,ep,eb)),eE&&0!=ex?eL=ex:(o.a=3,eL=0)}if(0==eL)break a;if(ef&&1==rv[U]&&(ef=0==ei[j].g),em+=ei[j].g,j+=eL,3>=U){var eK,eX=ep[0];for(eK=1;eK<en;++eK)ep[eK]>eX&&(eX=ep[eK]);eg+=eX}}if(eu.nd=ef,eu.Qb=0,ef&&(eu.qb=(eh[3][ec[3]+0].value<<24|eh[1][ec[1]+0].value<<16|eh[2][ec[2]+0].value)>>>0,0==em&&256>eh[0][ec[0]+0].value&&(eu.Qb=1,eu.qb+=eh[0][ec[0]+0].value<<8)),eu.jc=!eu.Qb&&6>eg,eu.jc)for(ed=0;ed<ag;++ed){var eY=ed,eJ=eu.pd[eY],eZ=eu.G[0][eu.H[0]+eY];256<=eZ.value?(eJ.g=eZ.g+256,eJ.value=eZ.value):(eJ.g=0,eJ.value=0,eY>>=ey(eZ,8,eJ),eY>>=ey(eu.G[1][eu.H[1]+eY],16,eJ),eY>>=ey(eu.G[2][eu.H[2]+eY],0,eJ),ey(eu.G[3][eu.H[3]+eY],24,eJ))}}K.vc=X,K.Wb=Y,K.Ya=el,K.yc=ei,z=1;break t}z=0}if(!(p=z)){o.a=3;break}if(0<b){if(g.ua=1<<b,!L(g.Wa,b)){o.a=1,p=0;break}}else g.ua=0;var eQ=h,e1=m,e2=o.s,e0=e2.xc;if(o.c=eQ,o.i=e1,e2.md=P(eQ,e0),e2.wc=0==e0?-1:(1<<e0)-1,r){o.xb=rF;break}if(null==(v=i(h*m))){o.a=1,p=0;break}p=(p=eC(o,v,0,h,m,m,null))&&!f.h;break}return p?(null!=l?l[0]=v:(t(null==v),t(r)),o.$=0,r||eT(g)):eT(g),p}function eE(e,a){var r=e.c*e.i;return t(e.c<=a),e.V=i(r+a+16*a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+a,1)}function e$(e,a){var r=e.C,n=a-r,i=e.V,s=e.Ba+e.c*r;for(t(a<=e.l.o);0<n;){var o=16<n?16:n,l=e.l.ma,p=e.l.width,d=p*o,u=l.ca,h=l.tb+p*r,c=e.Ta,m=e.Ua;ex(e,o,i,s),a5(c,m,u,h,d),eS(l,r,r+o,u,h,p),n-=o,i+=o*e.c,r+=o}t(r==a),e.C=e.Ma=a}function eR(){this.ub=this.yd=this.td=this.Rb=0}function eL(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function eD(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function eF(){var e;this.Yb=(function e(t,a,r){for(var n=r[a],i=0;i<n&&(t.push(r.length>a+1?[]:0),!(r.length<a+1));i++)e(t[i],a+1,r)}(e=[],0,[3,11]),e)}function eO(){this.jb=i(3),this.Wc=o([4,8],eF),this.Xc=o([4,17],eF)}function eP(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function eM(){this.ld=this.La=this.dd=this.tc=0}function eB(){this.Na=this.la=0}function ez(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function eV(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function eU(){this.uc=this.M=this.Nb=0,this.wa=Array(new eM),this.Y=0,this.ya=Array(new eV),this.aa=0,this.l=new eG}function ej(){this.y=i(16),this.f=i(8),this.ea=i(8)}function eW(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new eR,this.Kc=new eL,this.ed=new eP,this.Qa=new eD,this.Ic=this.$c=this.Aa=0,this.D=new eU,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,w),this.ia=0,this.pb=s(4,ez),this.Pa=new eO,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ej),this.Hd=0,this.rb=Array(new eB),this.sb=0,this.wa=Array(new eM),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new eV),this.L=this.aa=0,this.gd=o([4,2],eM),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function eq(e,t){return 0>e?0:e>t?t:e}function eG(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function eH(){var e=new eW;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,rS||(rS=eJ)),e}function eK(e,t,a){return 0==e.a&&(e.a=t,e.sc=a,e.cb=0),0}function eX(e,t,a){return 3<=a&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function eY(e,a){if(null==e)return 0;if(e.a=0,e.sc="OK",null==a)return eK(e,2,"null VP8Io passed to VP8GetHeaders()");var r=a.data,i=a.w,s=a.ha;if(4>s)return eK(e,7,"Truncated header.");var o=r[i+0]|r[i+1]<<8|r[i+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return eK(e,3,"Incorrect keyframe parameters.");if(!l.yd)return eK(e,4,"Frame not displayable.");i+=3,s-=3;var p=e.Kc;if(l.Rb){if(7>s)return eK(e,7,"cannot parse picture header");if(!eX(r,i,s))return eK(e,3,"Bad code word");p.c=16383&(r[i+4]<<8|r[i+3]),p.Td=r[i+4]>>6,p.i=16383&(r[i+6]<<8|r[i+5]),p.Ud=r[i+6]>>6,i+=7,s-=7,e.za=p.c+15>>4,e.Ub=p.i+15>>4,a.width=p.c,a.height=p.i,a.Da=0,a.j=0,a.v=0,a.va=a.width,a.o=a.height,a.da=0,a.ib=a.width,a.hb=a.height,a.U=a.width,a.T=a.height,n((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,n(o.Zb,0,0,o.Zb.length),n(o.Lb,0,0,o.Lb)}if(l.ub>s)return eK(e,7,"bad partition length");m(o=e.m,r,i,l.ub),i+=l.ub,s-=l.ub,l.Rb&&(p.Ld=T(o),p.Kd=T(o)),p=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=p),p.Cb=T(o),p.Cb){if(p.Bb=T(o),T(o)){for(p.Fb=T(o),d=0;4>d;++d)p.Zb[d]=T(o)?g(o,7):0;for(d=0;4>d;++d)p.Lb[d]=T(o)?g(o,6):0}if(p.Bb)for(d=0;3>d;++d)u.jb[d]=T(o)?f(o,8):255}else p.Bb=0;if(o.Ka)return eK(e,3,"cannot parse segment header");if((p=e.ed).zd=T(o),p.Tb=f(o,6),p.wb=f(o,3),p.Pc=T(o),p.Pc&&T(o)){for(u=0;4>u;++u)T(o)&&(p.vd[u]=g(o,6));for(u=0;4>u;++u)T(o)&&(p.od[u]=g(o,6))}if(e.L=0==p.Tb?0:p.zd?1:2,o.Ka)return eK(e,3,"cannot parse filter header");var h=s;if(s=d=i,i=d+h,p=h,e.Xb=(1<<f(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(d+=3*u,p-=3*u,h=0;h<u;++h){var c=r[s+0]|r[s+1]<<8|r[s+2]<<16;c>p&&(c=p),m(e.Jc[+h],r,d,c),d+=c,p-=c,s+=3}m(e.Jc[+u],r,d,p),r=d<i?0:5}if(0!=r)return eK(e,r,"cannot parse partitions");for(r=f(d=e.m,7),s=T(d)?g(d,4):0,i=T(d)?g(d,4):0,p=T(d)?g(d,4):0,u=T(d)?g(d,4):0,d=T(d)?g(d,4):0,h=e.Qa,c=0;4>c;++c){if(h.Cb){var v=h.Zb[c];h.Fb||(v+=r)}else{if(0<c){e.pb[c]=e.pb[0];continue}v=r}var b=e.pb[c];b.Sc[0]=rN[eq(v+s,127)],b.Sc[1]=rk[eq(v+0,127)],b.Eb[0]=2*rN[eq(v+i,127)],b.Eb[1]=101581*rk[eq(v+p,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=rN[eq(v+u,117)],b.Qc[1]=rk[eq(v+d,127)],b.lc=v+d}if(!l.Rb)return eK(e,4,"Not a key frame.");for(T(o),l=e.Pa,r=0;4>r;++r){for(s=0;8>s;++s)for(i=0;3>i;++i)for(p=0;11>p;++p)u=A(o,rE[r][s][i][p])?f(o,8):rA[r][s][i][p],l.Wc[r][s].Yb[i][p]=u;for(s=0;17>s;++s)l.Xc[r][s]=l.Wc[r][r$[s]]}return e.kc=T(o),e.kc&&(e.Bd=f(o,8)),e.cb=1}function eJ(e,t,a,r,n,i,s){var o=t[n].Yb[a];for(a=0;16>n;++n){if(!A(e,o[a+0]))return n;for(;!A(e,o[a+1]);)if(o=t[++n].Yb[0],a=0,16==n)return 16;var l=t[n+1].Yb;if(A(e,o[a+2])){var p=e,d=0;if(A(p,(h=o)[(u=a)+3])){if(A(p,h[u+6])){for(o=0,u=2*(d=A(p,h[u+8]))+(h=A(p,h[u+9+d])),d=0,h=rI[u];h[o];++o)d+=d+A(p,h[o]);d+=3+(8<<u)}else d=A(p,h[u+7])?7+2*A(p,165)+A(p,145):5+A(p,159)}else d=A(p,h[u+4])?3+A(p,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=s+rC[n],0>(p=e).b&&C(p);var u,h=p.b,c=(u=p.Ca>>1)-(p.I>>h)>>31;--p.b,p.Ca+=c,p.Ca|=1,p.I-=(u+1&c)<<h,i[l]=((d^c)-c)*r[(0<n)+0]}return 16}function eZ(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,n(e.zc,0,0,e.zc.length),e.ja=0}function eQ(e,t,a,r,n){n=e[t+a+32*r]+(n>>3),e[t+a+32*r]=-256&n?0>n?0:255:n}function e1(e,t,a,r,n,i){eQ(e,t,0,a,r+n),eQ(e,t,1,a,r+i),eQ(e,t,2,a,r-i),eQ(e,t,3,a,r-n)}function e2(e){return(20091*e>>16)+e}function e0(e,t,a,r){var n,s=0,o=i(16);for(n=0;4>n;++n){var l=e[t+0]+e[t+8],p=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-e2(e[t+12]),u=e2(e[t+4])+(35468*e[t+12]>>16);o[s+0]=l+u,o[s+1]=p+d,o[s+2]=p-d,o[s+3]=l-u,s+=4,t++}for(n=s=0;4>n;++n)l=(e=o[s+0]+4)+o[s+8],p=e-o[s+8],d=(35468*o[s+4]>>16)-e2(o[s+12]),eQ(a,r,0,0,l+(u=e2(o[s+4])+(35468*o[s+12]>>16))),eQ(a,r,1,0,p+d),eQ(a,r,2,0,p-d),eQ(a,r,3,0,l-u),s++,r+=32}function e5(e,t,a,r){var n=e[t+0]+4,i=35468*e[t+4]>>16,s=e2(e[t+4]),o=35468*e[t+1]>>16;e1(a,r,0,n+s,e=e2(e[t+1]),o),e1(a,r,1,n+i,e,o),e1(a,r,2,n-i,e,o),e1(a,r,3,n-s,e,o)}function e4(e,t,a,r,n){e0(e,t,a,r),n&&e0(e,t+16,a,r+4)}function e3(e,t,a,r){aP(e,t+0,a,r,1),aP(e,t+32,a,r+128,1)}function e6(e,t,a,r){var n;for(e=e[t+0]+4,n=0;4>n;++n)for(t=0;4>t;++t)eQ(a,r,t,n,e)}function e8(e,t,a,r){e[t+0]&&az(e,t+0,a,r),e[t+16]&&az(e,t+16,a,r+4),e[t+32]&&az(e,t+32,a,r+128),e[t+48]&&az(e,t+48,a,r+128+4)}function e9(e,t,a,r){var n,s=i(16);for(n=0;4>n;++n){var o=e[t+0+n]+e[t+12+n],l=e[t+4+n]+e[t+8+n],p=e[t+4+n]-e[t+8+n],d=e[t+0+n]-e[t+12+n];s[0+n]=o+l,s[8+n]=o-l,s[4+n]=d+p,s[12+n]=d-p}for(n=0;4>n;++n)o=(e=s[0+4*n]+3)+s[3+4*n],l=s[1+4*n]+s[2+4*n],p=s[1+4*n]-s[2+4*n],d=e-s[3+4*n],a[r+0]=o+l>>3,a[r+16]=d+p>>3,a[r+32]=o-l>>3,a[r+48]=d-p>>3,r+=64}function e7(e,t,a){var r,n=t-32,i=255-e[n-1];for(r=0;r<a;++r){var s,o=i+e[t-1];for(s=0;s<a;++s)e[t+s]=rt[o+e[n+s]];t+=32}}function te(e,t){e7(e,t,4)}function tt(e,t){e7(e,t,8)}function ta(e,t){e7(e,t,16)}function tr(e,t){var a;for(a=0;16>a;++a)r(e,t+32*a,e,t-32,16)}function tn(e,t){var a;for(a=16;0<a;--a)n(e,t,e[t-1],16),t+=32}function ti(e,t,a){var r;for(r=0;16>r;++r)n(t,a+32*r,e,16)}function ts(e,t){var a,r=16;for(a=0;16>a;++a)r+=e[t-1+32*a]+e[t+a-32];ti(r>>5,e,t)}function to(e,t){var a,r=8;for(a=0;16>a;++a)r+=e[t-1+32*a];ti(r>>4,e,t)}function tl(e,t){var a,r=8;for(a=0;16>a;++a)r+=e[t+a-32];ti(r>>4,e,t)}function tp(e,t){ti(128,e,t)}function td(e,t,a){return e+2*t+a+2>>2}function tu(e,t){var a,n=t-32;for(a=0,n=new Uint8Array([td(e[n-1],e[n+0],e[n+1]),td(e[n+0],e[n+1],e[n+2]),td(e[n+1],e[n+2],e[n+3]),td(e[n+2],e[n+3],e[n+4])]);4>a;++a)r(e,t+32*a,n,0,n.length)}function th(e,t){var a=e[t-1],r=e[t-1+32],n=e[t-1+64],i=e[t-1+96];_(e,t+0,16843009*td(e[t-1-32],a,r)),_(e,t+32,16843009*td(a,r,n)),_(e,t+64,16843009*td(r,n,i)),_(e,t+96,16843009*td(n,i,i))}function tc(e,t){var a,r=4;for(a=0;4>a;++a)r+=e[t+a-32]+e[t-1+32*a];for(r>>=3,a=0;4>a;++a)n(e,t+32*a,r,4)}function tm(e,t){var a=e[t-1+0],r=e[t-1+32],n=e[t-1+64],i=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],p=e[t+3-32];e[t+0+96]=td(r,n,e[t-1+96]),e[t+1+96]=e[t+0+64]=td(a,r,n),e[t+2+96]=e[t+1+64]=e[t+0+32]=td(i,a,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=td(s,i,a),e[t+3+64]=e[t+2+32]=e[t+1+0]=td(o,s,i),e[t+3+32]=e[t+2+0]=td(l,o,s),e[t+3+0]=td(p,l,o)}function tf(e,t){var a=e[t+1-32],r=e[t+2-32],n=e[t+3-32],i=e[t+4-32],s=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=td(e[t+0-32],a,r),e[t+1+0]=e[t+0+32]=td(a,r,n),e[t+2+0]=e[t+1+32]=e[t+0+64]=td(r,n,i),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=td(n,i,s),e[t+3+32]=e[t+2+64]=e[t+1+96]=td(i,s,o),e[t+3+64]=e[t+2+96]=td(s,o,l),e[t+3+96]=td(o,l,l)}function tg(e,t){var a=e[t-1+0],r=e[t-1+32],n=e[t-1+64],i=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],p=e[t+3-32];e[t+0+0]=e[t+1+64]=i+s+1>>1,e[t+1+0]=e[t+2+64]=s+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+p+1>>1,e[t+0+96]=td(n,r,a),e[t+0+64]=td(r,a,i),e[t+0+32]=e[t+1+96]=td(a,i,s),e[t+1+32]=e[t+2+96]=td(i,s,o),e[t+2+32]=e[t+3+96]=td(s,o,l),e[t+3+32]=td(o,l,p)}function tv(e,t){var a=e[t+0-32],r=e[t+1-32],n=e[t+2-32],i=e[t+3-32],s=e[t+4-32],o=e[t+5-32],l=e[t+6-32],p=e[t+7-32];e[t+0+0]=a+r+1>>1,e[t+1+0]=e[t+0+64]=r+n+1>>1,e[t+2+0]=e[t+1+64]=n+i+1>>1,e[t+3+0]=e[t+2+64]=i+s+1>>1,e[t+0+32]=td(a,r,n),e[t+1+32]=e[t+0+96]=td(r,n,i),e[t+2+32]=e[t+1+96]=td(n,i,s),e[t+3+32]=e[t+2+96]=td(i,s,o),e[t+3+64]=td(s,o,l),e[t+3+96]=td(o,l,p)}function tb(e,t){var a=e[t-1+0],r=e[t-1+32],n=e[t-1+64],i=e[t-1+96];e[t+0+0]=a+r+1>>1,e[t+2+0]=e[t+0+32]=r+n+1>>1,e[t+2+32]=e[t+0+64]=n+i+1>>1,e[t+1+0]=td(a,r,n),e[t+3+0]=e[t+1+32]=td(r,n,i),e[t+3+32]=e[t+1+64]=td(n,i,i),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=i}function ty(e,t){var a=e[t-1+0],r=e[t-1+32],n=e[t-1+64],i=e[t-1+96],s=e[t-1-32],o=e[t+0-32],l=e[t+1-32],p=e[t+2-32];e[t+0+0]=e[t+2+32]=a+s+1>>1,e[t+0+32]=e[t+2+64]=r+a+1>>1,e[t+0+64]=e[t+2+96]=n+r+1>>1,e[t+0+96]=i+n+1>>1,e[t+3+0]=td(o,l,p),e[t+2+0]=td(s,o,l),e[t+1+0]=e[t+3+32]=td(a,s,o),e[t+1+32]=e[t+3+64]=td(r,a,s),e[t+1+64]=e[t+3+96]=td(n,r,a),e[t+1+96]=td(i,n,r)}function tw(e,t){var a;for(a=0;8>a;++a)r(e,t+32*a,e,t-32,8)}function tx(e,t){var a;for(a=0;8>a;++a)n(e,t,e[t-1],8),t+=32}function tN(e,t,a){var r;for(r=0;8>r;++r)n(t,a+32*r,e,8)}function tk(e,t){var a,r=8;for(a=0;8>a;++a)r+=e[t+a-32]+e[t-1+32*a];tN(r>>4,e,t)}function tS(e,t){var a,r=4;for(a=0;8>a;++a)r+=e[t+a-32];tN(r>>3,e,t)}function tI(e,t){var a,r=4;for(a=0;8>a;++a)r+=e[t-1+32*a];tN(r>>3,e,t)}function tC(e,t){tN(128,e,t)}function tT(e,t,a){var r=e[t-a],n=e[t+0],i=3*(n-r)+a7[1020+e[t-2*a]-e[t+a]],s=re[112+(i+4>>3)];e[t-a]=rt[255+r+re[112+(i+3>>3)]],e[t+0]=rt[255+n-s]}function tA(e,t,a,r){var n=e[t+0],i=e[t+a];return ra[255+e[t-2*a]-e[t-a]]>r||ra[255+i-n]>r}function t_(e,t,a,r){return 4*ra[255+e[t-a]-e[t+0]]+ra[255+e[t-2*a]-e[t+a]]<=r}function tE(e,t,a,r,n){var i=e[t-3*a],s=e[t-2*a],o=e[t-a],l=e[t+0],p=e[t+a],d=e[t+2*a],u=e[t+3*a];return 4*ra[255+o-l]+ra[255+s-p]>r?0:ra[255+e[t-4*a]-i]<=n&&ra[255+i-s]<=n&&ra[255+s-o]<=n&&ra[255+u-d]<=n&&ra[255+d-p]<=n&&ra[255+p-l]<=n}function t$(e,t,a,r){var n=2*r+1;for(r=0;16>r;++r)t_(e,t+r,a,n)&&tT(e,t+r,a)}function tR(e,t,a,r){var n=2*r+1;for(r=0;16>r;++r)t_(e,t+r*a,1,n)&&tT(e,t+r*a,1)}function tL(e,t,a,r){var n;for(n=3;0<n;--n)t$(e,t+=4*a,a,r)}function tD(e,t,a,r){var n;for(n=3;0<n;--n)tR(e,t+=4,a,r)}function tF(e,t,a,r,n,i,s,o){for(i=2*i+1;0<n--;){if(tE(e,t,a,i,s)){if(tA(e,t,a,o))tT(e,t,a);else{var l=t,p=e[l-2*a],d=e[l-a],u=e[l+0],h=e[l+a],c=e[l+2*a],m=27*(g=a7[1020+3*(u-d)+a7[1020+p-h]])+63>>7,f=18*g+63>>7,g=9*g+63>>7;e[l-3*a]=rt[255+e[l-3*a]+g],e[l-2*a]=rt[255+p+f],e[l-a]=rt[255+d+m],e[l+0]=rt[255+u-m],e[l+a]=rt[255+h-f],e[l+2*a]=rt[255+c-g]}}t+=r}}function tO(e,t,a,r,n,i,s,o){for(i=2*i+1;0<n--;){if(tE(e,t,a,i,s)){if(tA(e,t,a,o))tT(e,t,a);else{var l=t,p=e[l-a],d=e[l+0],u=e[l+a],h=re[112+((c=3*(d-p))+4>>3)],c=re[112+(c+3>>3)],m=h+1>>1;e[l-2*a]=rt[255+e[l-2*a]+m],e[l-a]=rt[255+p+c],e[l+0]=rt[255+d-h],e[l+a]=rt[255+u-m]}}t+=r}}function tP(e,t,a,r,n,i){tF(e,t,a,1,16,r,n,i)}function tM(e,t,a,r,n,i){tF(e,t,1,a,16,r,n,i)}function tB(e,t,a,r,n,i){var s;for(s=3;0<s;--s)tO(e,t+=4*a,a,1,16,r,n,i)}function tz(e,t,a,r,n,i){var s;for(s=3;0<s;--s)tO(e,t+=4,1,a,16,r,n,i)}function tV(e,t,a,r,n,i,s,o){tF(e,t,n,1,8,i,s,o),tF(a,r,n,1,8,i,s,o)}function tU(e,t,a,r,n,i,s,o){tF(e,t,1,n,8,i,s,o),tF(a,r,1,n,8,i,s,o)}function tj(e,t,a,r,n,i,s,o){tO(e,t+4*n,n,1,8,i,s,o),tO(a,r+4*n,n,1,8,i,s,o)}function tW(e,t,a,r,n,i,s,o){tO(e,t+4,1,n,8,i,s,o),tO(a,r+4,1,n,8,i,s,o)}function tq(){this.ba=new es,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new el,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tG(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tH(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tK(){this.ua=0,this.Wa=new F,this.vb=new F,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new c,this.yc=new u}function tX(){this.xb=this.a=0,this.l=new eG,this.ca=new es,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new x,this.Pb=0,this.wd=new x,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tK,this.ab=0,this.gc=s(4,tH),this.Oc=0}function tY(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new eG,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tJ(e,t,a,r,n,i,s){for(e=null==e?0:e[t+0],t=0;t<s;++t)n[i+t]=e+a[r+t]&255,e=n[i+t]}function tZ(e,t,a,r,n,i,s){var o;if(null==e)tJ(null,null,a,r,n,i,s);else for(o=0;o<s;++o)n[i+o]=e[t+o]+a[r+o]&255}function tQ(e,t,a,r,n,i,s){if(null==e)tJ(null,null,a,r,n,i,s);else{var o,l=e[t+0],p=l,d=l;for(o=0;o<s;++o)p=d+(l=e[t+o])-p,d=a[r+o]+(-256&p?0>p?0:255:p)&255,p=l,n[i+o]=d}}function t1(e,t,a,r,n,i){for(;0<n--;){var s,o=t+(a?1:0),l=t+(a?0:3);for(s=0;s<r;++s){var p=e[l+4*s];255!=p&&(p*=32897,e[o+4*s+0]=e[o+4*s+0]*p>>23,e[o+4*s+1]=e[o+4*s+1]*p>>23,e[o+4*s+2]=e[o+4*s+2]*p>>23)}t+=i}}function t2(e,t,a,r,n){for(;0<r--;){var i;for(i=0;i<a;++i){var s=e[t+2*i+0],o=15&(p=e[t+2*i+1]),l=4369*o,p=(240&p|p>>4)*l>>16;e[t+2*i+0]=(240&s|s>>4)*l>>16&240|(15&s|s<<4)*l>>16>>4&15,e[t+2*i+1]=240&p|o}t+=n}}function t0(e,t,a,r,n,i,s,o){var l,p,d=255;for(p=0;p<n;++p){for(l=0;l<r;++l){var u=e[t+l];i[s+4*l]=u,d&=u}t+=a,s+=o}return 255!=d}function t5(e,t,a,r,n){var i;for(i=0;i<n;++i)a[r+i]=e[t+i]>>8}function t4(){a1=t1,a2=t2,a0=t0,a5=t5}function t3(a,r,n){e[a]=function(e,a,i,s,o,l,p,d,u,h,c,m,f,g,v,b,y){var w,x=y-1>>1,N=o[l+0]|p[d+0]<<16,k=u[h+0]|c[m+0]<<16;t(null!=e);var S=3*N+k+131074>>2;for(r(e[a+0],255&S,S>>16,f,g),null!=i&&(S=3*k+N+131074>>2,r(i[s+0],255&S,S>>16,v,b)),w=1;w<=x;++w){var I=o[l+w]|p[d+w]<<16,C=u[h+w]|c[m+w]<<16,T=N+I+k+C+524296,A=T+2*(I+k)>>3;S=A+N>>1,N=(T=T+2*(N+C)>>3)+I>>1,r(e[a+2*w-1],255&S,S>>16,f,g+(2*w-1)*n),r(e[a+2*w-0],255&N,N>>16,f,g+(2*w-0)*n),null!=i&&(S=T+k>>1,N=A+C>>1,r(i[s+2*w-1],255&S,S>>16,v,b+(2*w-1)*n),r(i[s+2*w+0],255&N,N>>16,v,b+(2*w+0)*n)),N=I,k=C}1&y||(S=3*N+k+131074>>2,r(e[a+y-1],255&S,S>>16,f,g+(y-1)*n),null!=i&&(S=3*k+N+131074>>2,r(i[s+y-1],255&S,S>>16,v,b+(y-1)*n)))}}function t6(){rM[rr]=rB,rM[rn]=rV,rM[ri]=rz,rM[rs]=rU,rM[ro]=rj,rM[rl]=rW,rM[rp]=rq,rM[rd]=rV,rM[ru]=rU,rM[rh]=rj,rM[rc]=rW}function t8(e){return e&~rJ?0>e?0:255:e>>rY}function t9(e,t){return t8((19077*e>>8)+(26149*t>>8)-14234)}function t7(e,t,a){return t8((19077*e>>8)-(6419*t>>8)-(13320*a>>8)+8708)}function ae(e,t){return t8((19077*e>>8)+(33050*t>>8)-17685)}function at(e,t,a,r,n){r[n+0]=t9(e,a),r[n+1]=t7(e,t,a),r[n+2]=ae(e,t)}function aa(e,t,a,r,n){r[n+0]=ae(e,t),r[n+1]=t7(e,t,a),r[n+2]=t9(e,a)}function ar(e,t,a,r,n){var i=t7(e,t,a);t=i<<3&224|ae(e,t)>>3,r[n+0]=248&t9(e,a)|i>>5,r[n+1]=t}function an(e,t,a,r,n){var i=240&ae(e,t)|15;r[n+0]=240&t9(e,a)|t7(e,t,a)>>4,r[n+1]=i}function ai(e,t,a,r,n){r[n+0]=255,at(e,t,a,r,n+1)}function as(e,t,a,r,n){aa(e,t,a,r,n),r[n+3]=255}function ao(e,t,a,r,n){at(e,t,a,r,n),r[n+3]=255}function eq(e,t){return 0>e?0:e>t?t:e}function al(t,a,r){e[t]=function(e,t,n,i,s,o,l,p,d){for(var u=p+(-2&d)*r;p!=u;)a(e[t+0],n[i+0],s[o+0],l,p),a(e[t+1],n[i+0],s[o+0],l,p+r),t+=2,++i,++o,p+=2*r;1&d&&a(e[t+0],n[i+0],s[o+0],l,p)}}function ap(e,t,a){return 0==a?0==e?0==t?6:5:0==t?4:0:a}function ad(e,t,a,r,n){switch(e>>>30){case 3:aP(t,a,r,n,0);break;case 2:aM(t,a,r,n);break;case 1:az(t,a,r,n)}}function au(e,t){var a,i,s=t.M,o=t.Nb,l=e.oc,p=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,c=e.pc+600;for(a=0;16>a;++a)l[p+32*a-1]=129;for(a=0;8>a;++a)d[u+32*a-1]=129,h[c+32*a-1]=129;for(0<s?l[p-1-32]=d[u-1-32]=h[c-1-32]=129:(n(l,p-32-1,127,21),n(d,u-32-1,127,9),n(h,c-32-1,127,9)),i=0;i<e.za;++i){var m=t.ya[t.aa+i];if(0<i){for(a=-1;16>a;++a)r(l,p+32*a-4,l,p+32*a+12,4);for(a=-1;8>a;++a)r(d,u+32*a-4,d,u+32*a+4,4),r(h,c+32*a-4,h,c+32*a+4,4)}var f=e.Gd,g=e.Hd+i,v=m.ad,b=m.Hc;if(0<s&&(r(l,p-32,f[g].y,0,16),r(d,u-32,f[g].f,0,8),r(h,c-32,f[g].ea,0,8)),m.Za){var y=l,w=p-32+16;for(0<s&&(i>=e.za-1?n(y,w,f[g].y[15],4):r(y,w,f[g+1].y,0,4)),a=0;4>a;a++)y[w+128+a]=y[w+256+a]=y[w+384+a]=y[w+0+a];for(a=0;16>a;++a,b<<=2)y=l,w=p+r3[a],rL[m.Ob[a]](y,w),ad(b,v,16*+a,y,w)}else if(rR[y=ap(i,s,m.Ob[0])](l,p),0!=b)for(a=0;16>a;++a,b<<=2)ad(b,v,16*+a,l,p+r3[a]);for(a=m.Gc,rD[y=ap(i,s,m.Dd)](d,u),rD[y](h,c),b=v,y=d,w=u,255&(m=a>>0)&&(170&m?aB(b,256,y,w):aV(b,256,y,w)),m=h,b=c,255&(a>>=8)&&(170&a?aB(v,320,m,b):aV(v,320,m,b)),s<e.Ub-1&&(r(f[g].y,0,l,p+480,16),r(f[g].f,0,d,u+224,8),r(f[g].ea,0,h,c+224,8)),a=8*o*e.B,f=e.sa,g=e.ta+16*i+16*o*e.R,v=e.qa,m=e.ra+8*i+a,b=e.Ha,y=e.Ia+8*i+a,a=0;16>a;++a)r(f,g+a*e.R,l,p+32*a,16);for(a=0;8>a;++a)r(v,m+a*e.B,d,u+32*a,8),r(b,y+a*e.B,h,c+32*a,8)}}function ah(e,r,n,i,s,o,l,p,d){var u=[0],h=[0],c=0,m=null!=d?d.kd:0,f=null!=d?d:new tG;if(null==e||12>n)return 7;f.data=e,f.w=r,f.ha=n,r=[r],n=[n],f.gb=[f.gb];e:{var g=r,b=n,y=f.gb;if(t(null!=e),t(null!=b),t(null!=y),y[0]=0,12<=b[0]&&!a(e,g[0],"RIFF")){if(a(e,g[0]+8,"WEBP")){y=3;break e}var w=R(e,g[0]+4);if(12>w||4294967286<w){y=3;break e}if(m&&w>b[0]-8){y=7;break e}y[0]=w,g[0]+=12,b[0]-=12}y=0}if(0!=y)return y;for(w=0<f.gb[0],n=n[0];;){e:{var N=e;b=r,y=n;var k=u,S=h,I=g=[0];if((A=c=[c])[0]=0,8>y[0])y=7;else{if(!a(N,b[0],"VP8X")){if(10!=R(N,b[0]+4)){y=3;break e}if(18>y[0]){y=7;break e}var C=R(N,b[0]+8),T=1+$(N,b[0]+12);if(2147483648<=T*(N=1+$(N,b[0]+15))){y=3;break e}null!=I&&(I[0]=C),null!=k&&(k[0]=T),null!=S&&(S[0]=N),b[0]+=18,y[0]-=18,A[0]=1}y=0}}if(c=c[0],g=g[0],0!=y)return y;if(b=!!(2&g),!w&&c)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=b),null!=p&&(p[0]=0),l=0,g=0,c&&b&&null==d){y=0;break}if(4>n){y=7;break}if(w&&c||!w&&!c&&!a(e,r[0],"ALPH")){n=[n],f.na=[f.na],f.P=[f.P],f.Sa=[f.Sa];e:{C=e,y=r,w=n;var A=f.gb;k=f.na,S=f.P,I=f.Sa,T=22,t(null!=C),t(null!=w),N=y[0];var _=w[0];for(t(null!=k),t(null!=I),k[0]=null,S[0]=null,I[0]=0;;){if(y[0]=N,w[0]=_,8>_){y=7;break e}var E=R(C,N+4);if(4294967286<E){y=3;break e}var L=8+E+1&-2;if(T+=L,0<A&&T>A){y=3;break e}if(!a(C,N,"VP8 ")||!a(C,N,"VP8L")){y=0;break e}if(_[0]<L){y=7;break e}a(C,N,"ALPH")||(k[0]=C,S[0]=N+8,I[0]=E),N+=L,_-=L}}if(n=n[0],f.na=f.na[0],f.P=f.P[0],f.Sa=f.Sa[0],0!=y)break}n=[n],f.Ja=[f.Ja],f.xa=[f.xa];e:if(A=e,y=r,w=n,k=f.gb[0],S=f.Ja,I=f.xa,N=!a(A,C=y[0],"VP8 "),T=!a(A,C,"VP8L"),t(null!=A),t(null!=w),t(null!=S),t(null!=I),8>w[0])y=7;else{if(N||T){if(A=R(A,C+4),12<=k&&A>k-12){y=3;break e}if(m&&A>w[0]-8){y=7;break e}S[0]=A,y[0]+=8,w[0]-=8,I[0]=T}else I[0]=5<=w[0]&&47==A[C+0]&&!(A[C+4]>>5),S[0]=w[0];y=0}if(n=n[0],f.Ja=f.Ja[0],f.xa=f.xa[0],r=r[0],0!=y)break;if(4294967286<f.Ja)return 3;if(null==p||b||(p[0]=f.xa?2:1),l=[l],g=[g],f.xa){if(5>n){y=7;break}p=l,m=g,b=o,null==e||5>n?e=0:5<=n&&47==e[r+0]&&!(e[r+4]>>5)?(w=[0],A=[0],k=[0],v(S=new x,e,r,n),ef(S,w,A,k)?(null!=p&&(p[0]=w[0]),null!=m&&(m[0]=A[0]),null!=b&&(b[0]=k[0]),e=1):e=0):e=0}else{if(10>n){y=7;break}p=g,null==e||10>n||!eX(e,r+3,n-3)?e=0:(m=e[r+0]|e[r+1]<<8|e[r+2]<<16,b=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&m||3<(m>>1&7)||!(m>>4&1)||m>>5>=f.Ja||!b||!e?e=0:(l&&(l[0]=b),p&&(p[0]=e),e=1))}if(!e||(l=l[0],g=g[0],c&&(0!=l||0!=g)))return 3;null!=d&&(d[0]=f,d.offset=r-d.w,t(4294967286>r-d.w),t(d.offset==d.ha-n));break}return 0==y||7==y&&c&&null==d?(null!=o&&(o[0]|=null!=f.na&&0<f.na.length),null!=i&&(i[0]=l),null!=s&&(s[0]=g),0):y}function ac(e,t,a){var r=t.width,n=t.height,i=0,s=0,o=r,l=n;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,i=e.v,s=e.j,11>a||(i&=-2,s&=-2),0>i||0>s||0>=o||0>=l||i+o>r||s+l>n))return 0;if(t.v=i,t.j=s,t.va=i+o,t.o=s+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!O(o,l,a=[e.ib],i=[e.hb]))return 0;t.ib=a[0],t.hb=i[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*n/4,t.Kb=0),1}function am(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function af(e,t,a,r){if(null==r||0>=e||0>=t)return 2;if(null!=a){if(a.Da){var n=a.cd,s=a.bd,o=-2&a.v,l=-2&a.j;if(0>o||0>l||0>=n||0>=s||o+n>e||l+s>t)return 2;e=n,t=s}if(a.da){if(!O(e,t,n=[a.ib],s=[a.hb]))return 2;e=n[0],t=s[0]}}r.width=e,r.height=t;e:{var p=r.width,d=r.height;if(e=r.S,0>=p||0>=d||!(e>=rr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=s=n=t=0;var u=(l=p*r9[e])*d;if(11>e||(s=(d+1)/2*(t=(p+1)/2),12==e&&(o=(n=p)*d)),null==(d=i(u+2*s+o))){e=1;break e}r.sd=d,11>e?((p=r.f.RGBA).eb=d,p.fb=0,p.A=l,p.size=u):((p=r.f.kb).y=d,p.O=0,p.fa=l,p.Fd=u,p.f=d,p.N=0+u,p.Ab=t,p.Cd=s,p.ea=d,p.W=0+u+s,p.Db=t,p.Ed=s,12==e&&(p.F=d,p.J=0+u+2*s),p.Tc=o,p.lb=n)}if(t=1,n=r.S,s=r.width,o=r.height,n>=rr&&13>n){if(11>n)t&=(l=Math.abs((e=r.f.RGBA).A))*(o-1)+s<=e.size,t&=l>=s*r9[n],t&=null!=e.eb;else{e=r.f.kb,l=(s+1)/2,u=(o+1)/2,p=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),c=Math.abs(e.lb),m=c*(o-1)+s;t&=p*(o-1)+s<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&p>=s&d>=l&h>=l&null!=e.y&null!=e.f&null!=e.ea,12==n&&(t&=c>=s,t&=m<=e.Tc,t&=null!=e.F)}}else t=0;e=t?0:2}}return 0!=e||null!=a&&a.fd&&(e=am(r)),e}var ag=64,av=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ab=24,ay=32,aw=8,ax=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,a){return t[a+0]},e.Predictor3=function(e,t,a){return t[a+1]},e.Predictor4=function(e,t,a){return t[a-1]},e.Predictor5=function(e,t,a){return V(V(e,t[a+1]),t[a+0])},e.Predictor6=function(e,t,a){return V(e,t[a-1])},e.Predictor7=function(e,t,a){return V(e,t[a+0])},e.Predictor8=function(e,t,a){return V(t[a-1],t[a+0])},e.Predictor9=function(e,t,a){return V(t[a+0],t[a+1])},e.Predictor10=function(e,t,a){return V(V(e,t[a-1]),V(t[a+0],t[a+1]))},e.Predictor11=function(e,t,a){var r=t[a+0];return 0>=W(r>>24&255,e>>24&255,(t=t[a-1])>>24&255)+W(r>>16&255,e>>16&255,t>>16&255)+W(r>>8&255,e>>8&255,t>>8&255)+W(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,a){var r=t[a+0];return(U((e>>24&255)+(r>>24&255)-((t=t[a-1])>>24&255))<<24|U((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|U((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|U((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,a){var r=t[a-1];return(j((e=V(e,t[a+0]))>>24&255,r>>24&255)<<24|j(e>>16&255,r>>16&255)<<16|j(e>>8&255,r>>8&255)<<8|j(e>>0&255,r>>0&255))>>>0};var aN=e.PredictorAdd0;e.PredictorAdd1=q,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var ak=e.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var aS,aI=e.ColorIndexInverseTransform,aC=e.MapARGB,aT=e.VP8LColorIndexInverseTransformAlpha,aA=e.MapAlpha,a_=e.VP8LPredictorsAdd=[];a_.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var aE,a$,aR,aL,aD,aF,aO,aP,aM,aB,az,aV,aU,aj,aW,aq,aG,aH,aK,aX,aY,aJ,aZ,aQ,a1,a2,a0,a5,a4=i(511),a3=i(2041),a6=i(225),a8=i(767),a9=0,a7=a3,re=a6,rt=a8,ra=a4,rr=0,rn=1,ri=2,rs=3,ro=4,rl=5,rp=6,rd=7,ru=8,rh=9,rc=10,rm=[2,3,7],rf=[3,3,11],rg=[280,256,256,256,40],rv=[0,1,1,1,0],rb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ry=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],rw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],rx=8,rN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rk=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rS=null,rI=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rC=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rT=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rA=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],r_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rE=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],r$=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],rR=[],rL=[],rD=[],rF=1,rO=2,rP=[],rM=[];t3("UpsampleRgbLinePair",at,3),t3("UpsampleBgrLinePair",aa,3),t3("UpsampleRgbaLinePair",ao,4),t3("UpsampleBgraLinePair",as,4),t3("UpsampleArgbLinePair",ai,4),t3("UpsampleRgba4444LinePair",an,2),t3("UpsampleRgb565LinePair",ar,2);var rB=e.UpsampleRgbLinePair,rz=e.UpsampleBgrLinePair,rV=e.UpsampleRgbaLinePair,rU=e.UpsampleBgraLinePair,rj=e.UpsampleArgbLinePair,rW=e.UpsampleRgba4444LinePair,rq=e.UpsampleRgb565LinePair,rG=16,rH=32768,rK=-227,rX=482,rY=6,rJ=16383,rZ=0,rQ=i(256),r1=i(256),r2=i(256),r0=i(256),r5=i(rX-rK),r4=i(rX-rK);al("YuvToRgbRow",at,3),al("YuvToBgrRow",aa,3),al("YuvToRgbaRow",ao,4),al("YuvToBgraRow",as,4),al("YuvToArgbRow",ai,4),al("YuvToRgba4444Row",an,2),al("YuvToRgb565Row",ar,2);var r3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],r6=[0,2,8],r8=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,a,o,l,p){var d=rn,u=new tq,h=new es;u.ba=h,h.S=d,h.width=[h.width],h.height=[h.height];var c=h.width,m=h.height,f=new eo;if(null==f||null==e)var g=2;else t(null!=f),g=ah(e,a,o,f.width,f.height,f.Pd,f.Qd,f.format,null);if(0!=g?c=0:(null!=c&&(c[0]=f.width[0]),null!=m&&(m[0]=f.height[0]),c=1),c){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=p&&(p[0]=h.height);e:{if(l=new eG,(p=new tG).data=e,p.w=a,p.ha=o,p.kd=1,a=[0],t(null!=p),(0==(e=ah(p.data,p.w,p.ha,null,null,null,a,null,p))||7==e)&&a[0]&&(e=4),0==(a=e)){if(t(null!=u),l.data=p.data,l.w=p.w+p.offset,l.ha=p.ha-p.offset,l.put=ec,l.ac=eh,l.bc=em,l.ma=u,p.xa){if(null==(e=eA())){u=1;break e}if(function(e,a){for(var r=[0],n=[0],i=[0];;){if(null==e)return 0;if(null==a)return e.a=2,0;if(e.l=a,e.a=0,v(e.m,a.data,a.w,a.ha),!ef(e.m,r,n,i)){e.a=3;break}if(e.xb=rO,a.width=r[0],a.height=n[0],!e_(r[0],n[0],1,e,null))break;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(a=af(l.width,l.height,u.Oa,u.ba))){t:{for(l=e;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(p=o.ma)),0!=l.xb){if(l.ca=p.ba,l.tb=p.tb,t(null!=l.ca),!ac(p.Oa,o,rs)){l.a=2;break}if(!eE(l,o.width)||o.da)break;if((o.da||er(l.ca.S))&&t4(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&t4()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!L(l.s.vb,l.s.Wa.Xa)){l.a=1;break}l.xb=0}if(!eC(l,l.V,l.Ba,l.c,l.i,o.o,eN))break;p.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(a=e.a)}else a=e.a}else if((e=new eH).Fa=p.na,e.P=p.P,e.qc=p.Sa,eY(e,l)){if(0==(a=af(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,o=u.Oa,t(null!=(p=e)),null!=o){if(0<(c=0>(c=o.Md)?0:100<c?255:255*c/100)){for(m=f=0;4>m;++m)12>(g=p.pb[m]).lc&&(g.ia=c*r8[0>g.lc?0:g.lc]>>3),f|=g.ia;f&&(alert("todo:VP8InitRandom"),p.ia=1)}p.Ga=o.Id,100<p.Ga?p.Ga=100:0>p.Ga&&(p.Ga=0)}(function(e,a){if(null==e)return 0;if(null==a)return eK(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!eY(e,a))return 0;if(t(e.cb),null==a.ac||a.ac(a)){a.ob&&(e.L=0);var o=r6[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=a.v-o>>4,e.zb=a.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=a.o+15+o>>4,e.Hb=a.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l,p=e.ed;for(o=0;4>o;++o){if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=p.Tb)}else d=p.Tb;for(l=0;1>=l;++l){var u=e.gd[o][l],h=d;if(p.Pc&&(h+=p.vd[0],l&&(h+=p.od[0])),0<(h=0>h?0:63<h?63:h)){var c=h;0<p.wb&&(c=4<p.wb?c>>2:c>>1)>9-p.wb&&(c=9-p.wb),1>c&&(c=1),u.dd=c,u.tc=2*h+c,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=l}}}o=0}else eK(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);e:{o=e.Ic,p=4*(c=e.za);var m=32*c,f=c+1,g=0<e.L?c*(0<e.Aa?2:1):0,b=(2==e.Aa?2:1)*c;if((u=p+832+(l=3*(16*o+r6[e.L])/2*m)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=i(u),e.Fc=0,null==e.Ec){o=eK(e,1,"no memory during frame initialization.");break e}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=p,e.Gd=s(m,ej),e.Hd=0,e.rb=s(f+1,eB),e.sb=1,e.wa=g?s(g,eM):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=c),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=s(b,eV),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=c),e.R=16*c,e.B=8*c,c=(m=r6[e.L])*e.R,m=m/2*e.B,e.sa=u,e.ta=h+c,e.qa=e.sa,e.ra=e.ta+16*o*e.R+m,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+m,e.$c=0,h+=l,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),eZ(e),n(e.Ac,e.Bc,0,p),o=1}}if(o){if(a.ka=0,a.y=e.sa,a.O=e.ta,a.f=e.qa,a.N=e.ra,a.ea=e.Ha,a.Vd=e.Ia,a.fa=e.R,a.Rc=e.B,a.F=null,a.J=0,!a9){for(o=-255;255>=o;++o)a4[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)a3[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)a6[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)a8[255+o]=0>o?0:255<o?255:o;a9=1}aO=e9,aP=e4,aB=e3,az=e6,aV=e8,aM=e5,aU=tP,aj=tM,aW=tV,aq=tU,aG=tB,aH=tz,aK=tj,aX=tW,aY=t$,aJ=tR,aZ=tL,aQ=tD,rL[0]=tc,rL[1]=te,rL[2]=tu,rL[3]=th,rL[4]=tm,rL[5]=tg,rL[6]=tf,rL[7]=tv,rL[8]=ty,rL[9]=tb,rR[0]=ts,rR[1]=ta,rR[2]=tr,rR[3]=tn,rR[4]=to,rR[5]=tl,rR[6]=tp,rD[0]=tk,rD[1]=tt,rD[2]=tw,rD[3]=tx,rD[4]=tI,rD[5]=tS,rD[6]=tC,o=1}else o=0}o&&(o=function(e,a){for(e.M=0;e.M<e.Va;++e.M){var s,o=e.Jc[e.M&e.Xb],l=e.m,p=e;for(s=0;s<p.za;++s){var d=l,u=p,h=u.Ac,c=u.Bc+4*s,m=u.zc,f=u.ya[u.aa+s];if(u.Qa.Bb?f.$b=A(d,u.Pa.jb[0])?2+A(d,u.Pa.jb[2]):A(d,u.Pa.jb[1]):f.$b=0,u.kc&&(f.Ad=A(d,u.Bd)),f.Za=!A(d,145)+0,f.Za){var g=f.Ob,b=0;for(u=0;4>u;++u){var y,w=m[0+u];for(y=0;4>y;++y){w=r_[h[c+y]][w];for(var x=rT[A(d,w[0])];0<x;)x=rT[2*x+A(d,w[x])];w=-x,h[c+y]=w}r(g,b,h,c,4),b+=4,m[0+u]=w}}else w=A(d,156)?A(d,128)?1:3:A(d,163)?2:0,f.Ob[0]=w,n(h,c,w,4),n(m,0,w,4);f.Dd=A(d,142)?A(d,114)?A(d,183)?1:3:2:0}if(p.m.Ka)return eK(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(p=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],s=l.ya[l.aa+l.ja],c=l.kc?s.Ad:0)d.la=h.la=0,s.Za||(d.Na=h.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{if(d=h,h=p,c=l.Pa.Xc,m=l.ya[l.aa+l.ja],f=l.pb[m.$b],u=m.ad,g=0,b=l.rb[l.sb-1],w=y=0,n(u,g,0,384),m.Za)var N,S,C=0,T=c[3];else{x=i(16);var _=d.Na+b.Na;if(_=rS(h,c[1],_,f.Eb,0,x,0),d.Na=b.Na=(0<_)+0,1<_)aO(x,0,u,g);else{var E=x[0]+3>>3;for(x=0;256>x;x+=16)u[g+x]=E}C=1,T=c[0]}var $=15&d.la,R=15&b.la;for(x=0;4>x;++x){var L=1&R;for(E=S=0;4>E;++E)$=$>>1|(L=(_=rS(h,T,_=L+(1&$),f.Sc,C,u,g))>C)<<7,S=S<<2|(3<_?3:1<_?2:0!=u[g+0]),g+=16;$>>=4,R=R>>1|L<<7,y=(y<<8|S)>>>0}for(T=$,C=R>>4,N=0;4>N;N+=2){for(S=0,$=d.la>>4+N,R=b.la>>4+N,x=0;2>x;++x){for(L=1&R,E=0;2>E;++E)_=L+(1&$),$=$>>1|(L=0<(_=rS(h,c[2],_,f.Qc,0,u,g)))<<3,S=S<<2|(3<_?3:1<_?2:0!=u[g+0]),g+=16;$>>=2,R=R>>1|L<<5}w|=S<<4*N,T|=$<<4<<N,C|=(240&R)<<N}d.la=T,b.la=C,m.Hc=y,m.Gc=w,m.ia=43690&w?0:f.ia,c=!(y|w)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[s.$b][s.Za],l.wa[l.Y+l.ja].La|=!c),p.Ka)return eK(e,7,"Premature end-of-file encountered.")}if(eZ(e),l=a,p=1,s=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)e:{if(s.M=o.M,s.uc=d,au(o,s),p=1,s=(S=o.D).Nb,d=(w=r6[o.L])*o.R,h=w/2*o.B,x=16*s*o.R,E=8*s*o.B,c=o.sa,m=o.ta-d+x,f=o.qa,u=o.ra-h+E,g=o.Ha,b=o.Ia-h+E,R=0==($=S.M),y=$>=o.Va-1,2==o.Aa&&au(o,S),S.uc)for(L=(_=o).D.M,t(_.D.uc),S=_.yb;S<_.Hb;++S){C=S,T=L;var D=(F=(W=_).D).Nb;N=W.R;var F=F.wa[F.Y+C],O=W.sa,P=W.ta+16*D*N+16*C,M=F.dd,B=F.tc;if(0!=B){if(t(3<=B),1==W.L)0<C&&aJ(O,P,N,B+4),F.La&&aQ(O,P,N,B),0<T&&aY(O,P,N,B+4),F.La&&aZ(O,P,N,B);else{var z=W.B,V=W.qa,U=W.ra+8*D*z+8*C,j=W.Ha,W=W.Ia+8*D*z+8*C;D=F.ld,0<C&&(aj(O,P,N,B+4,M,D),aq(V,U,j,W,z,B+4,M,D)),F.La&&(aH(O,P,N,B,M,D),aX(V,U,j,W,z,B,M,D)),0<T&&(aU(O,P,N,B+4,M,D),aW(V,U,j,W,z,B+4,M,D)),F.La&&(aG(O,P,N,B,M,D),aK(V,U,j,W,z,B,M,D))}}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(S=16*$,$=16*($+1),R?(l.y=o.sa,l.O=o.ta+x,l.f=o.qa,l.N=o.ra+E,l.ea=o.Ha,l.W=o.Ia+E):(S-=w,l.y=c,l.O=m,l.f=f,l.N=u,l.ea=g,l.W=b),y||($-=w),$>l.o&&($=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&S<$&&(l.J=function(e,a,n,s){var o=a.width,l=a.o;if(t(null!=e&&null!=a),0>n||0>=s||n+s>l)return null;if(!e.Cc){if(null==e.ga){if(e.ga=new tY,(C=null==e.ga)||(C=a.width*a.o,t(0==e.Gb.length),e.Gb=i(C),e.Uc=0,null==e.Gb?C=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,C=1),C=!C),!C){C=e.ga;var p=e.Fa,d=e.P,u=e.qc,h=e.mb,c=e.nb,m=d+1,f=u-1,g=C.l;if(t(null!=p&&null!=h&&null!=a),rP[0]=null,rP[1]=tJ,rP[2]=tZ,rP[3]=tQ,C.ca=h,C.tb=c,C.c=a.width,C.i=a.height,t(0<C.c&&0<C.i),1>=u)a=0;else if(C.$a=p[d+0]>>0&3,C.Z=p[d+0]>>2&3,C.Lc=p[d+0]>>4&3,d=p[d+0]>>6&3,0>C.$a||1<C.$a||4<=C.Z||1<C.Lc||d)a=0;else if(g.put=ec,g.ac=eh,g.bc=em,g.ma=C,g.width=a.width,g.height=a.height,g.Da=a.Da,g.v=a.v,g.va=a.va,g.j=a.j,g.o=a.o,C.$a)e:{for(t(1==C.$a),a=eA();;){if(null==a){a=0;break e}if(t(null!=C),C.mc=a,a.c=C.c,a.i=C.i,a.l=C.l,a.l.ma=C,a.l.width=C.c,a.l.height=C.i,a.a=0,v(a.m,p,m,f),!e_(C.c,C.i,1,a,null)||(1==a.ab&&3==a.gc[0].hc&&ek(a.s)?(C.ic=1,p=a.c*a.i,a.Ta=null,a.Ua=0,a.V=i(p),a.Ba=0,null==a.V?(a.a=1,a=0):a=1):(C.ic=0,a=eE(a,C.c)),!a))break;a=1;break e}C.mc=null,a=0}else a=f>=C.c*C.i;C=!a}if(C)return null;1!=e.ga.Lc?e.Ga=0:s=l-n}t(null!=e.ga),t(n+s<=l);e:{if(a=(p=e.ga).c,l=p.l.o,0==p.$a){if(m=e.rc,f=e.Vc,g=e.Fa,d=e.P+1+n*a,u=e.mb,h=e.nb+n*a,t(d<=e.P+e.qc),0!=p.Z)for(t(null!=rP[p.Z]),C=0;C<s;++C)rP[p.Z](m,f,g,d,u,h,a),m=u,f=h,h+=a,d+=a;else for(C=0;C<s;++C)r(u,h,g,d,a),m=u,f=h,h+=a,d+=a;e.rc=m,e.Vc=f}else{if(t(null!=p.mc),a=n+s,t(null!=(C=p.mc)),t(a<=C.i),C.C>=a)a=1;else if(p.ic||t4(),p.ic){p=C.V,m=C.Ba,f=C.c;var b=C.i,y=(g=1,d=C.$/f,u=C.$%f,h=C.m,c=C.s,C.$),w=f*b,x=f*a,N=c.wc,S=y<x?ew(c,u,d):null;t(y<=w),t(a<=b),t(ek(c));t:for(;;){for(;!h.h&&y<x;){if(u&N||(S=ew(c,u,d)),t(null!=S),I(h),256>(b=eb(S.G[0],S.H[0],h)))p[m+y]=b,++y,++u>=f&&(u=0,++d<=a&&!(d%16)&&eI(C,d));else{if(!(280>b)){g=0;break t}b=eg(b-256,h);var C,T,A=eb(S.G[4],S.H[4],h);if(I(h),!(y>=(A=ev(f,A=eg(A,h)))&&w-y>=b)){g=0;break t}for(T=0;T<b;++T)p[m+y+T]=p[m+y+T-A];for(y+=b,u+=b;u>=f;)u-=f,++d<=a&&!(d%16)&&eI(C,d);y<x&&u&N&&(S=ew(c,u,d))}t(h.h==k(h))}eI(C,d>a?a:d);break}!g||h.h&&y<w?(g=0,C.a=h.h?5:3):C.$=y,a=g}else a=eC(C,C.V,C.Ba,C.c,C.i,a,e$);if(!a){s=0;break e}}n+s>=l&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+n*o}(o,l,S,$-S),l.F=o.mb,null==l.F&&0==l.F.length)){p=eK(o,3,"Could not decode alpha data.");break e}S<l.j&&(w=l.j-S,S=l.j,t(!(1&w)),l.O+=o.R*w,l.N+=o.B*(w>>1),l.W+=o.B*(w>>1),null!=l.F&&(l.J+=l.width*w)),S<$&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=S-l.j,l.U=l.va-l.v,l.T=$-S,p=l.put(l))}s+1!=o.Ic||y||(r(o.sa,o.ta-d,c,m+16*o.R,d),r(o.qa,o.ra-h,f,u+8*o.B,h),r(o.Ha,o.Ia-h,g,b+8*o.B,h))}if(!p)return eK(e,6,"Output aborted.")}return 1}(e,a)),null!=a.bc&&a.bc(a),o&=1}return o?(e.cb=0,o):0})(e,l)||(a=e.a)}}else a=e.a;0==a&&null!=u.Oa&&u.Oa.fd&&(a=am(u.ba))}u=a}d=0!=u?null:11>d?h.f.RGBA.eb:h.f.kb.y}else d=null;return d};var r9=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16)>>>0}function d(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var u=[0],h=[0],c=[],m=new l,f=function(e,t){var a={},r=0,n=!1,i=0,s=0;if(a.frames=[],!/** @license
   * Copyright (c) 2017 Dominik Homberger
  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  https://webpjs.appspot.com
  WebPRiffParser dominikhlbg@gmail.com
  */function(e,t,a,r){for(var n=0;n<4;n++)if(e[t+n]!=a.charCodeAt(n))return!0;return!1}(e,t,"RIFF",0)){for(d(e,t+=4),t+=8;t<e.length;){var o,l,u,h=function(e,t){for(var a="",r=0;r<4;r++)a+=String.fromCharCode(e[t++]);return a}(e,t),c=d(e,t+=4);t+=4;var m=c+(1&c);switch(h){case"VP8 ":case"VP8L":void 0===a.frames[r]&&(a.frames[r]={}),(u=a.frames[r]).src_off=n?s:t-8,u.src_size=i+c+8,r++,n&&(n=!1,i=0,s=0);break;case"VP8X":(u=a.header={}).feature_flags=e[t];var f=t+4;u.canvas_width=1+p(e,f),f+=3,u.canvas_height=1+p(e,f),f+=3;break;case"ALPH":n=!0,i=m+8,s=t-8;break;case"ANIM":(u=a.header).bgcolor=d(e,t),f=t+4,u.loop_count=e[(o=f)+0]<<0|e[o+1]<<8,f+=2;break;case"ANMF":(u=a.frames[r]={}).offset_x=2*p(e,t),t+=3,u.offset_y=2*p(e,t),t+=3,u.width=1+p(e,t),t+=3,u.height=1+p(e,t),t+=3,u.duration=p(e,t),t+=3,l=e[t++],u.dispose=1&l,u.blend=l>>1&1}"ANMF"!=h&&(t+=m)}return a}}(e,0);f.response=e,f.rgbaoutput=!0,f.dataurl=!1;var g=f.header?f.header:null,v=f.frames?f.frames:null;if(g){g.loop_counter=g.loop_count,u=[g.canvas_height],h=[g.canvas_width];for(var b=0;b<v.length&&0!=v[b].blend;b++);}var y=v[0],w=m.WebPDecodeRGBA(e,y.src_off,y.src_size,h,u);y.rgba=w,y.imgwidth=h[0],y.imgheight=u[0];for(var x=0;x<h[0]*u[0]*4;x++)c[x]=w[x];return this.width=h,this.height=u,this.data=c,this}(function(e){var t=function(t,r,l,p){var d=4,u=i;switch(p){case e.image_compression.FAST:d=1,u=n;break;case e.image_compression.MEDIUM:d=6,u=s;break;case e.image_compression.SLOW:d=9,u=o}var h=NV(t=a(t,r,l,u),{level:d});return e.__addimage__.arrayBufferToBinaryString(h)},a=function(e,t,a,r){for(var n,i,s,o=e.length/t,l=new Uint8Array(e.length+o),u=p(),h=0;h<o;h+=1){if(s=h*t,n=e.subarray(s,s+t),r)l.set(r(n,a,i),s+h);else{for(var c,m=u.length,f=[];c<m;c+=1)f[c]=u[c](n,a,i);var g=d(f.concat());l.set(f[g],s+h)}i=n}return l},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},n=function(e,t){var a,r=[],n=e.length;r[0]=1;for(var i=0;i<n;i+=1)a=e[i-t]||0,r[i+1]=e[i]-a+256&255;return r},i=function(e,t,a){var r,n=[],i=e.length;n[0]=2;for(var s=0;s<i;s+=1)r=a&&a[s]||0,n[s+1]=e[s]-r+256&255;return n},s=function(e,t,a){var r,n,i=[],s=e.length;i[0]=3;for(var o=0;o<s;o+=1)r=e[o-t]||0,n=a&&a[o]||0,i[o+1]=e[o]+256-(r+n>>>1)&255;return i},o=function(e,t,a){var r,n=[],i=e.length;n[0]=4;for(var s=0;s<i;s+=1)r=l(e[s-t]||0,a&&a[s]||0,a&&a[s-t]||0),n[s+1]=e[s]-r+256&255;return n},l=function(e,t,a){if(e===t&&t===a)return e;var r=Math.abs(t-a),n=Math.abs(e-a),i=Math.abs(e+t-a-a);return r<=n&&r<=i?e:n<=i?t:a},p=function(){return[r,n,i,s,o]},d=function(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(a,r,n,i){var s,o,l,p,d,u,h,c,m,f,g,v,b,y,w,x=this.decode.FLATE_DECODE,N="";if(this.__addimage__.isArrayBuffer(a)&&(a=new Uint8Array(a)),this.__addimage__.isArrayBufferView(a)){if(a=(l=new SI(a)).imgData,o=l.bits,s=l.colorSpace,d=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){m=(c=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(m*l.colors),f=new Uint8Array(m);var k,S=l.pixelBitlength-l.bits;for(y=0,w=0;y<m;y++){for(b=c[y],k=0;k<S;)g[w++]=b>>>k&255,k+=l.bits;f[y]=b>>>k&255}}if(16===l.bits){m=(c=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(32/l.pixelBitlength*m*l.colors),f=new Uint8Array(32/l.pixelBitlength*m),v=l.colors>1,y=0,w=0;for(var I=0;y<m;)b=c[y++],g[w++]=b>>>0&255,v&&(g[w++]=b>>>16&255,b=c[y++],g[w++]=b>>>0&255),f[I++]=b>>>16&255;o=8}i!==e.image_compression.NONE?(a=t(g,l.width*l.colors,l.colors,i),h=t(f,l.width,1,i)):(a=g,h=f,x=void 0)}if(3===l.colorType&&(s=this.color_spaces.INDEXED,u=l.palette,l.transparency.indexed)){var C=l.transparency.indexed,T=0;for(y=0,m=C.length;y<m;++y)T+=C[y];if((T/=255)==m-1&&-1!==C.indexOf(0))p=[C.indexOf(0)];else if(T!==m){for(f=new Uint8Array((c=l.decodePixels()).length),y=0,m=c.length;y<m;y++)f[y]=C[c[y]];h=t(f,l.width,1)}}var A=function(t){var a;switch(t){case e.image_compression.FAST:a=11;break;case e.image_compression.MEDIUM:a=13;break;case e.image_compression.SLOW:a=14;break;default:a=12}return a}(i);return x===this.decode.FLATE_DECODE&&(N="/Predictor "+A+" "),N+="/Colors "+d+" /BitsPerComponent "+o+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a))&&(a=this.__addimage__.arrayBufferToBinaryString(a)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:a,index:r,filter:x,decodeParameters:N,transparency:p,palette:u,sMask:h,predictor:A,width:l.width,height:l.height,bitsPerComponent:o,colorSpace:s}}}})(kI.API),function(e){e.processGIF89A=function(t,a,r,n){var i=new SC(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var p=new SA(100).encode({data:l,width:s,height:o},100);return e.processJPEG.call(this,p,a,r,n)},e.processGIF87A=e.processGIF89A}(kI.API),S_.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=Array(e);for(var t=0;t<e;t++){var a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:r,blue:a,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},S_.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){Nq.log("bit decode error:"+e)}},S_.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),a=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}0!==a&&(this.pos+=4-a)}},S_.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*n*4,o=i>>4,l=15&i,p=this.palette[o];if(this.data[s]=p.blue,this.data[s+1]=p.green,this.data[s+2]=p.red,this.data[s+3]=255,2*n+1>=this.width)break;p=this.palette[l],this.data[s+4]=p.blue,this.data[s+4+1]=p.green,this.data[s+4+2]=p.red,this.data[s+4+3]=255}0!==t&&(this.pos+=4-t)}},S_.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=a*this.width*4+4*r;if(n<this.palette.length){var s=this.palette[n];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==e&&(this.pos+=4-e)}},S_.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,p=i>>15?255:0,d=r*this.width*4+4*n;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=p}this.pos+=e}},S_.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),a=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&a)/a*255|0,p=(s>>11)/t*255|0,d=n*this.width*4+4*i;this.data[d]=p,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},S_.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*a;this.data[s]=i,this.data[s+1]=n,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},S_.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*a;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=r,this.data[o+3]=s}},S_.prototype.getData=function(){return this.data},/**
 * @license
 * Copyright (c) 2018 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){e.processBMP=function(t,a,r,n){var i=new S_(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},p=new SA(100).encode(l,100);return e.processJPEG.call(this,p,a,r,n)}}(kI.API),SE.prototype.getData=function(){return this.data},/**
 * @license
 * Copyright (c) 2019 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){e.processWEBP=function(t,a,r,n){var i=new SE(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},p=new SA(100).encode(l,100);return e.processJPEG.call(this,p,a,r,n)}}(kI.API),kI.API.processRGBA=function(e,t,a){for(var r=e.data,n=r.length,i=new Uint8Array(n/4*3),s=new Uint8Array(n/4),o=0,l=0,p=0;p<n;p+=4){var d=r[p],u=r[p+1],h=r[p+2],c=r[p+3];i[o++]=d,i[o++]=u,i[o++]=h,s[l++]=c}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},kI.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!==({af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"})[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Sx=(Sw=kI.API).getCharWidthsArray=function(e,t){var a,r,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,l=o.fof?o.fof:1,p=t.kerning?t.kerning:n.metadata.Unicode.kerning,d=p.fof?p.fof:1,u=!1!==t.doKerning,h=0,c=e.length,m=0,f=o[0]||l,g=[];for(a=0;a<c;a++)r=e.charCodeAt(a),"function"==typeof n.metadata.widthOfString?g.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(r))+1e3/i*s||0)/1e3):(h=u&&"object"===xH()(p[r])&&!isNaN(parseInt(p[r][m],10))?p[r][m]/d:0,g.push((o[r]||f)/l+h)),m=r;return g},SN=Sw.getStringUnitWidth=function(e,t){var a=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Sw.processArabic&&(e=Sw.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,a,n)/a:Sx.apply(this,arguments).reduce(function(e,t){return e+t},0)},Sk=function(e,t,a,r){for(var n=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<a;)o+=t[i],i++;n.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>r&&(n.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&n.push(e.slice(l,i)),n},SS=function(e,t,a){a||(a={});var r,n,i,s,o,l,p,d=[],u=[d],h=a.textIndent||0,c=0,m=0,f=e.split(" "),g=Sx.apply(this,[" ",a])[0];if(l=-1===a.lineIndent?f[0].length+2:a.lineIndent||0){var v=Array(l).join(" "),b=[];f.map(function(e){(e=e.split(/\s*\n/)).length>1?b=b.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):b.push(e[0])}),f=b,l=SN.apply(this,[v,a])}for(i=0,s=f.length;i<s;i++){var y=0;if(r=f[i],l&&"\n"==r[0]&&(r=r.substr(1),y=1),h+c+(m=(n=Sx.apply(this,[r,a])).reduce(function(e,t){return e+t},0))>t||y){if(m>t){for(o=Sk.apply(this,[r,n,t-(h+c),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);m=n.slice(r.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[r];u.push(d),h=m+l,c=g}else d.push(r),h+=c+m,c=g}return p=l?function(e,t){return(t?v:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(p)},Sw.splitTextToSize=function(e,t,a){var r,n=(a=a||{}).fontSize||this.internal.getFontSize(),i=(function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/n;i.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=a.lineIndent;var o,l,p=[];for(o=0,l=r.length;o<l;o++)p=p.concat(SS.apply(this,[r[o],s,i]));return p},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",a={},r={},n=0;n<t.length;n++)a[t[n]]="0123456789abcdef"[n],r["0123456789abcdef"[n]]=t[n];var i=function(e){return"0x"+parseInt(e,10).toString(16)},s=e.__fontmetrics__.compress=function(e){var t,a,n,o,l=["{"];for(var p in e){if(t=e[p],a=isNaN(parseInt(p,10))?"'"+p+"'":(a=i(p=parseInt(p,10)).slice(2)).slice(0,-1)+r[a.slice(-1)],"number"==typeof t)t<0?(n=i(t).slice(3),o="-"):(n=i(t).slice(2),o=""),n=o+n.slice(0,-1)+r[n.slice(-1)];else{if("object"!==xH()(t))throw Error("Don't know what to do with value type "+xH()(t)+".");n=s(t)}l.push(a+n)}return l.push("}"),l.join("")},o=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw Error("Invalid argument passed to uncompress.");for(var t,r,n,i,s={},o=1,l=s,p=[],d="",u="",h=e.length-1,c=1;c<h;c+=1)"'"==(i=e[c])?t?(n=t.join(""),t=void 0):t=[]:t?t.push(i):"{"==i?(p.push([l,n]),l={},n=void 0):"}"==i?((r=p.pop())[0][r[1]]=l,n=void 0,l=r[0]):"-"==i?o=-1:void 0===n?a.hasOwnProperty(i)?(d+=a[i],n=parseInt(d,16)*o,o=1,d=""):d+=i:a.hasOwnProperty(i)?(u+=a[i],l[n]=parseInt(u,16)*o,o=1,n=void 0,u=""):u+=i;return s},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,a=d.Unicode[t.postScriptName];a&&(t.metadata.Unicode={},t.metadata.Unicode.widths=a.widths,t.metadata.Unicode.kerning=a.kerning);var r=p[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(kI.API),/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){var t=function(e){for(var t=e.length,a=new Uint8Array(t),r=0;r<t;r++)a[r]=e.charCodeAt(r);return a};e.API.events.push(["addFont",function(a){var r,n=void 0,i=a.font,s=a.instance;if(!i.isStandardFont){if(void 0===s)throw Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(n=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");r=n,r=/^\x00\x01\x00\x00/.test(r)?t(r):t(ke(r)),i.metadata=e.API.TTFFont.open(r),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]}}])}(kI),kI.API.addSvgAsImage=function(e,t,r,n,i,s,o,l){if(isNaN(t)||isNaN(r))throw Nq.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Nq.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=n,p.height=i;var d=p.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,p.width,p.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Nj.canvg?Promise.resolve(Nj.canvg):a.e(380).then(a.bind(a,4380))).catch(function(e){return Promise.reject(Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(d,e,u)},function(){return Promise.reject(Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){h.addImage(p.toDataURL("image/jpeg",1),t,r,n,i,o,l)})},kI.API.putTotalPages=function(e){var t,a=0;15>parseInt(this.internal.getFont().id.substr(1),10)?(t=RegExp(e,"g"),a=this.internal.getNumberOfPages()):(t=RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(t,a);return this},kI.API.viewerPreferences=function(e,t){e=e||{},t=t||!1;var a,r,n,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],p=0,d=0,u=0;function h(e,t){var a,r=!1;for(a=0;a<e.length;a+=1)e[a]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var c=o.length;for(u=0;u<c;u+=1)a[o[u]].value=a[o[u]].defaultValue,a[o[u]].explicitSet=!1}if("object"===xH()(e)){for(n in e)if(i=e[n],h(o,n)&&void 0!==i){if("boolean"===a[n].type&&"boolean"==typeof i)a[n].value=i;else if("name"===a[n].type&&h(a[n].valueSet,i))a[n].value=i;else if("integer"===a[n].type&&Number.isInteger(i))a[n].value=i;else if("array"===a[n].type){for(p=0;p<i.length;p+=1)if(r=!0,1===i[p].length&&"number"==typeof i[p][0])l.push(String(i[p]-1));else if(i[p].length>1){for(d=0;d<i[p].length;d+=1)"number"!=typeof i[p][d]&&(r=!1);!0===r&&l.push([i[p][0]-1,i[p][1]-1].join(" "))}a[n].value="["+l.join(" ")+"]"}else a[n].value=a[n].defaultValue;a[n].explicitSet=!0}}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in a)!0===a[e].explicitSet&&("name"===a[e].type?t.push("/"+e+" /"+a[e].value):t.push("/"+e+" "+a[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),n=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),s=a.length+r.length+n.length+t.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+a+r+n+i),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",t)),this}}(kI.API),function(e){var t=e.API,a=t.pdfEscape16=function(e,t){for(var a,r=t.metadata.Unicode.widths,n=["","0","00","000","0000"],i=[""],s=0,o=e.length;s<o&&(a=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(a),t.metadata.toUnicode[a]=e.charCodeAt(s),-1==r.indexOf(a)&&(r.push(a),r.push([parseInt(t.metadata.widthOfGlyph(a),10)])),"0"!=a);++s)i.push(n[4-(a=a.toString(16)).length],a);return i.join("")},r=function(e){var t,a,r,n,i,s,o;for(i="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],s=0,o=(a=Object.keys(e).sort(function(e,t){return e-t})).length;s<o;s++)t=a[s],r.length>=100&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(n=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+n+">"));return r.length&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),i+="endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var a=t.font,n=t.out,i=t.newObject,s=t.putStream;if(a.metadata instanceof e.API.TTFFont&&"Identity-H"===a.encoding){for(var o=a.metadata.Unicode.widths,l=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",d=0;d<l.length;d++)p+=String.fromCharCode(l[d]);var u=i();s({data:p,addLength1:!0,objectId:u}),n("endobj");var h=i();s({data:r(a.metadata.toUnicode),addLength1:!0,objectId:h}),n("endobj");var c=i();n("<<"),n("/Type /FontDescriptor"),n("/FontName /"+ky(a.fontName)),n("/FontFile2 "+u+" 0 R"),n("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),n("/Flags "+a.metadata.flags),n("/StemV "+a.metadata.stemV),n("/ItalicAngle "+a.metadata.italicAngle),n("/Ascent "+a.metadata.ascender),n("/Descent "+a.metadata.decender),n("/CapHeight "+a.metadata.capHeight),n(">>"),n("endobj");var m=i();n("<<"),n("/Type /Font"),n("/BaseFont /"+ky(a.fontName)),n("/FontDescriptor "+c+" 0 R"),n("/W "+e.API.PDFObject.convert(o)),n("/CIDToGIDMap /Identity"),n("/DW 1000"),n("/Subtype /CIDFontType2"),n("/CIDSystemInfo"),n("<<"),n("/Supplement 0"),n("/Registry (Adobe)"),n("/Ordering ("+a.encoding+")"),n(">>"),n(">>"),n("endobj"),a.objectNumber=i(),n("<<"),n("/Type /Font"),n("/Subtype /Type0"),n("/ToUnicode "+h+" 0 R"),n("/BaseFont /"+ky(a.fontName)),n("/Encoding /"+a.encoding),n("/DescendantFonts ["+m+" 0 R]"),n(">>"),n("endobj"),a.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var a=t.font,n=t.out,i=t.newObject,s=t.putStream;if(a.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var o=a.metadata.rawData,l="",p=0;p<o.length;p++)l+=String.fromCharCode(o[p]);var d=i();s({data:l,addLength1:!0,objectId:d}),n("endobj");var u=i();s({data:r(a.metadata.toUnicode),addLength1:!0,objectId:u}),n("endobj");var h=i();n("<<"),n("/Descent "+a.metadata.decender),n("/CapHeight "+a.metadata.capHeight),n("/StemV "+a.metadata.stemV),n("/Type /FontDescriptor"),n("/FontFile2 "+d+" 0 R"),n("/Flags 96"),n("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),n("/FontName /"+ky(a.fontName)),n("/ItalicAngle "+a.metadata.italicAngle),n("/Ascent "+a.metadata.ascender),n(">>"),n("endobj"),a.objectNumber=i();for(var c=0;c<a.metadata.hmtx.widths.length;c++)a.metadata.hmtx.widths[c]=parseInt(a.metadata.hmtx.widths[c]*(1e3/a.metadata.head.unitsPerEm));n("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+ky(a.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),n("endobj"),a.isAlreadyPutted=!0}}(t)}]);var n=function(e){var t,r=e.text||"",n=e.x,i=e.y,s=e.options||{},o=e.mutex||{},l=o.pdfEscape,p=o.activeFontKey,d=o.fonts,u=p,h="",c=0,m="",f=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:r,x:n,y:i,options:s,mutex:o};for(m=r,u=p,Array.isArray(r)&&(m=r[0]),c=0;c<m.length;c+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[m[c].charCodeAt(0)]),t||256>m[c].charCodeAt(0)&&d[u].metadata.hasOwnProperty("Unicode")?h+=m[c]:h+="";var g="";return 14>parseInt(u.slice(1))||"WinAnsiEncoding"===f?g=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===f&&(g=a(h,d[u])),o.isHex=!0,{text:g,x:n,y:i,options:s,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",a=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var i=0;for(i=0;i<t.length;i+=1)Array.isArray(t[i])&&3===t[i].length?a.push([n(Object.assign({},r,{text:t[i][0]})).text,t[i][1],t[i][2]]):a.push(n(Object.assign({},r,{text:t[i]})).text);e.text=a}else e.text=n(Object.assign({},r,{text:t})).text}])}(kI),/**
 * @license
 * jsPDF virtual FileSystem functionality
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,a){return t.call(this),this.internal.vFS[e]=a,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(kI.API),/**
 * @license
 * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
 * MIT License
 */function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var a,r,n,i,s,o,l,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},h={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},c=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),f=!1,g=0;this.__bidiEngine__={};var v=function(e){var a=e.charCodeAt(),r=a>>8,n=h[r];return void 0!==n?t[256*n+(255&a)]:252===r||253===r?"AL":m.test(r)?"L":8===r?"R":"N"},b=function(e){for(var t,a=0;a<e.length&&"L"!==(t=v(e.charAt(a)));a++)if("R"===t)return!0;return!1},y=function(e,t,s,o){var l,p,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":f=!1;break;case"N":case"AN":break;case"EN":f&&(h="AN");break;case"AL":f=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=s[o-1])&&"AN"!==l||"EN"!==(p=t[o+1])&&"AN"!==p?h="N":f&&(p="AN"),h=p===l?p:"N";break;case"ES":h="EN"===(l=o>0?s[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===s[o-1]){h="EN";break}if(f){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(n&&!i){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var c=e[o];if(l=t[d],(c>=1425&&c<=2303||64286===c)&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":s[o-1];break;case"B":f=!1,a=!0,h=g;break;case"S":r=!0,h="N"}return h},w=function(e,t,a){var r=e.split("");return a&&x(r,a,{hiLevel:g}),r.reverse(),t&&t.reverse(),r.join("")},x=function(e,t,n){var i,s,o,l,h,c=-1,m=e.length,b=0,w=[],x=g?d:p,N=[];for(f=!1,a=!1,r=!1,s=0;s<m;s++)N[s]=v(e[s]);for(o=0;o<m;o++){if(h=b,w[o]=y(e,N,w,o),i=240&(b=x[h][u[w[o]]]),b&=15,t[o]=l=x[b][5],i>0){if(16===i){for(s=c;s<o;s++)t[s]=1;c=-1}else c=-1}if(x[b][6])-1===c&&(c=o);else if(c>-1){for(s=c;s<o;s++)t[s]=l;c=-1}"B"===N[o]&&(t[o]=0),n.hiLevel|=l}r&&function(e,t,a){for(var r=0;r<a;r++)if("S"===e[r]){t[r]=g;for(var n=r-1;n>=0&&"WS"===e[n];n--)t[n]=g}}(N,t,m)},N=function(e,t,r,n,i){if(!(i.hiLevel<e)){if(1===e&&1===g&&!a)return t.reverse(),void(r&&r.reverse());for(var s,o,l,p,d=t.length,u=0;u<d;){if(n[u]>=e){for(l=u+1;l<d&&n[l]>=e;)l++;for(p=u,o=l-1;p<o;p++,o--)s=t[p],t[p]=t[o],t[o]=s,r&&(s=r[p],r[p]=r[o],r[o]=s);u=l}u++}}},k=function(e,t,a){var r=e.split(""),n={hiLevel:g};return a||(a=[]),x(r,a,n),function(e,t,a){if(0!==a.hiLevel&&l)for(var r,n=0;n<e.length;n++)1===t[n]&&(r=c.indexOf(e[n]))>=0&&(e[n]=c[r+1])}(r,a,n),N(2,r,t,a,n),N(1,r,t,a,n),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,a){if(function(e,t){if(t)for(var a=0;a<e.length;a++)t[a]=a;void 0===i&&(i=b(e)),void 0===o&&(o=b(e))}(e,t),n||!s||o){if(n&&s&&i^o)g=i?1:0,e=w(e,t,a);else if(!n&&s&&o)g=i?1:0,e=w(e=k(e,t,a),t);else if(!n||i||s||o){if(n&&!s&&i^o)e=w(e,t),i?(g=0,e=k(e,t,a)):(g=1,e=w(e=k(e,t,a),t));else if(n&&i&&!s&&o)g=1,e=w(e=k(e,t,a),t);else if(!n&&!s&&i^o){var r=l;i?(g=1,e=k(e,t,a),g=0,l=!1,e=k(e,t,a),l=r):(g=0,e=w(e=k(e,t,a),t),g=1,l=!1,e=k(e,t,a),l=r,e=w(e,t))}}else g=0,e=k(e,t,a)}else g=i?1:0,e=k(e,t,a);return e},this.__bidiEngine__.setOptions=function(e){e&&(n=e.isInputVisual,s=e.isOutputVisual,i=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,r=(e.x,e.y,e.options||{}),n=(e.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,a.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var i=0;for(n=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?n.push([a.doBidiReorder(t[i][0]),t[i][1],t[i][2]]):n.push([a.doBidiReorder(t[i])]);e.text=n}else e.text=a.doBidiReorder(t);a.setOptions({isInputVisual:!0})}])}(kI),kI.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new SR(e),this.contents.pos=4,"ttcf"===t.readString(4))throw Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new SJ(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new SL(this.contents),this.head=new SO(this),this.name=new Sj(this),this.cmap=new SM(this),this.toUnicode={},this.hhea=new SB(this),this.maxp=new SW(this),this.hmtx=new Sq(this),this.post=new SV(this),this.os2=new Sz(this),this.loca=new SY(this),this.glyf=new SH(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,a,r,n;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var t,a,r,n;for(n=[],t=0,a=(r=this.bbox).length;t<a;t++)e=r[t],n.push(Math.round(e*this.scaleFactor));return n}).call(this),this.stemV=0,this.post.exists?(a=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(n=this.familyClass)||2===n||3===n||4===n||5===n||7===n,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,a){var r,n,i,s;for(i=0,n=0,s=(e=""+e).length;0<=s?n<s:n>s;n=0<=s?++n:--n)r=e.charCodeAt(n),i+=this.widthOfGlyph(this.characterToGlyph(r))+1e3/t*a||0;return t/1e3*i},e.prototype.lineHeight=function(e,t){var a;return null==t&&(t=!1),a=t?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},e}();var S$,SR=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,a;for(a=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)a[t]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(e){var t,a,r;for(r=[],t=0,a=e.length;0<=a?t<a:t>a;t=0<=a?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,a,r,n,i,s,o;return e=this.readByte(),t=this.readByte(),a=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^a)+4294967296*(255^r)+16777216*(255^n)+65536*(255^i)+256*(255^s)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*a+4294967296*r+16777216*n+65536*i+256*s+o},e.prototype.writeLongLong=function(e){var t,a;return t=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,a;for(t=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)t.push(this.readByte());return t},e.prototype.write=function(e){var t,a,r,n;for(n=[],a=0,r=e.length;a<r;a++)t=e[a],n.push(this.writeByte(t));return n},e}(),SL=function(){var e;function t(e){var t,a,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,r=this.tableCount;0<=r?a<r:a>r;a=0<=r?++a:--a)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var a,r,n,i,s,o,l,p,d,u,h,c,m;for(m in i=Math.floor((d=16*Math.floor(Math.log(h=Object.keys(t).length)/(o=Math.log(2))))/o),p=16*h-d,(r=new SR).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(i),r.writeShort(p),n=16*h,l=r.pos+n,s=null,c=[],t)for(u=t[m],r.writeString(m),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),c=c.concat(u),"head"===m&&(s=l),l+=u.length;l%4;)c.push(0),l++;return r.write(c),a=2981146554-e(r.data),r.pos=s+8,r.writeUInt32(a),r.data},e=function(e){var t,a,r,n;for(e=SG.call(e);e.length%4;)e.push(0);for(r=new SR(e),a=0,t=0,n=e.length;t<n;t=t+=4)a+=r.readUInt32();return 4294967295&a},t}(),SD={}.hasOwnProperty,SF=function(e,t){for(var a in t)SD.call(t,a)&&(e[a]=t[a]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};S$=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var SO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return SF(t,S$),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new SR).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),SP=function(){function e(e,t){var a,r,n,i,s,o,l,p,d,u,h,c,m,f,g,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(u=e.readUInt16()/2,e.pos+=6,n=function(){var t,a;for(a=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)a.push(e.readUInt16());return a}(),e.pos+=2,c=function(){var t,a;for(a=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)a.push(e.readUInt16());return a}(),l=function(){var t,a;for(a=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)a.push(e.readUInt16());return a}(),p=function(){var t,a;for(a=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)a.push(e.readUInt16());return a}(),r=(this.length-e.pos+this.offset)/2,s=function(){var t,a;for(a=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)a.push(e.readUInt16());return a}(),o=f=0,v=n.length;f<v;o=++f)for(m=n[o],a=g=h=c[o];h<=m?g<=m:g>=m;a=h<=m?++g:--g)0===p[o]?i=a+l[o]:0!==(i=s[p[o]/2+(a-h)-(u-o)]||0)&&(i+=l[o]),this.codeMap[a]=65535&i}e.pos=d}return e.encode=function(e,t){var a,r,n,i,s,o,l,p,d,u,h,c,m,f,g,v,b,y,w,x,N,k,S,I,C,T,A,_,E,$,R,L,D,F,O,P,M,B,z,V,U,j,W,q,G,H;switch(_=new SR,i=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(m=0,f=function(){var e=[];for(c=0;c<256;++c)e.push(0);return e}(),v={0:0},n={},E=0,D=i.length;E<D;E++)null==v[W=e[r=i[E]]]&&(v[W]=++m),n[r]={old:e[r],new:v[e[r]]},f[r]=v[e[r]];return _.writeUInt16(1),_.writeUInt16(0),_.writeUInt32(12),_.writeUInt16(0),_.writeUInt16(262),_.writeUInt16(0),_.write(f),{charMap:n,subtable:_.data,maxGlyphID:m+1};case"unicode":for(T=[],d=[],b=0,v={},a={},g=l=null,$=0,F=i.length;$<F;$++)null==v[w=e[r=i[$]]]&&(v[w]=++b),a[r]={old:w,new:v[w]},s=v[w]-r,null!=g&&s===l||(g&&d.push(g),T.push(r),l=s),g=r;for(g&&d.push(g),d.push(65535),T.push(65535),I=2*(S=T.length),u=Math.log((k=2*Math.pow(Math.log(S)/Math.LN2,2))/2)/Math.LN2,N=2*S-k,o=[],x=[],h=[],c=R=0,O=T.length;R<O;c=++R){if(C=T[c],p=d[c],65535===C){o.push(0),x.push(0);break}if(C-(A=a[C].new)>=32768)for(o.push(0),x.push(2*(h.length+S-c)),r=L=C;C<=p?L<=p:L>=p;r=C<=p?++L:--L)h.push(a[r].new);else o.push(A-C),x.push(0)}for(_.writeUInt16(3),_.writeUInt16(1),_.writeUInt32(12),_.writeUInt16(4),_.writeUInt16(16+8*S+2*h.length),_.writeUInt16(0),_.writeUInt16(I),_.writeUInt16(k),_.writeUInt16(u),_.writeUInt16(N),U=0,P=d.length;U<P;U++)r=d[U],_.writeUInt16(r);for(_.writeUInt16(0),j=0,M=T.length;j<M;j++)r=T[j],_.writeUInt16(r);for(q=0,B=o.length;q<B;q++)s=o[q],_.writeUInt16(s);for(G=0,z=x.length;G<z;G++)y=x[G],_.writeUInt16(y);for(H=0,V=h.length;H<V;H++)m=h[H],_.writeUInt16(m);return{charMap:a,subtable:_.data,maxGlyphID:b+1}}},e}(),SM=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return SF(t,S$),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,a,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)t=new SP(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var a,r;return null==t&&(t="macroman"),a=SP.encode(e,t),(r=new SR).writeUInt16(0),r.writeUInt16(1),a.table=r.data.concat(a.subtable),a},t}(),SB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return SF(t,S$),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Sz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return SF(t,S$),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,a;for(a=[],t=0;t<10;++t)a.push(e.readByte());return a}(),this.charRange=function(){var t,a;for(a=[],t=0;t<4;++t)a.push(e.readInt());return a}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,a;for(a=[],t=0;t<2;t=++t)a.push(e.readInt());return a}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),SV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return SF(t,S$),t.prototype.tag="post",t.prototype.parse=function(e){var t,a,r,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:for(a=e.readUInt16(),this.glyphNameIndex=[],n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var t,a,r;for(r=[],n=t=0,a=this.file.maxp.numGlyphs;0<=a?t<a:t>a;n=0<=a?++t:--t)r.push(e.readUInt32());return r}).call(this)}},t}(),SU=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Sj=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return SF(t,S$),t.prototype.tag="name",t.prototype.parse=function(e){var t,a,r,n,i,s,o,l,p,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),a=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(o={},n=l=0,p=a.length;l<p;n=++l)r=a[n],e.pos=r.offset,i=new SU(e.readString(r.length),r),null==o[d=r.nameID]&&(o[d]=[]),o[r.nameID].push(i);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},t}(),SW=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return SF(t,S$),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Sq=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return SF(t,S$),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,a,r,n,i,s,o;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var a,n;for(n=[],t=a=0;0<=r?a<r:a>r;t=0<=r?++a:--a)n.push(e.readInt16());return n}(),this.widths=(function(){var e,t,a,r;for(r=[],e=0,t=(a=this.metrics).length;e<t;e++)n=a[e],r.push(n.advance);return r}).call(this),a=this.widths[this.widths.length-1],o=[],t=i=0;0<=r?i<r:i>r;t=0<=r?++i:--i)o.push(this.widths.push(a));return o},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),SG=[].slice,SH=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return SF(t,S$),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var t,a,r,n,i,s,o,l,p,d;return e in this.cache?this.cache[e]:(n=this.file.loca,t=this.file.contents,a=n.indexOf(e),0===(r=n.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+a,i=(s=new SR(t.read(r))).readShort(),l=s.readShort(),d=s.readShort(),o=s.readShort(),p=s.readShort(),this.cache[e]=-1===i?new SX(s,l,d,o,p):new SK(s,i,l,d,o,p),this.cache[e]))},t.prototype.encode=function(e,t,a){var r,n,i,s,o;for(i=[],n=[],s=0,o=t.length;s<o;s++)r=e[t[s]],n.push(i.length),r&&(i=i.concat(r.encode(a)));return n.push(i.length),{table:i,offsets:n}},t}(),SK=function(){function e(e,t,a,r,n,i){this.raw=e,this.numberOfContours=t,this.xMin=a,this.yMin=r,this.xMax=n,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),SX=function(){function e(e,t,a,r,n){var i,s;for(this.raw=e,this.xMin=t,this.yMin=a,this.xMax=r,this.yMax=n,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;s=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&s;)i.pos+=1&s?4:2,128&s?i.pos+=8:64&s?i.pos+=4:8&s&&(i.pos+=2)}return e.prototype.encode=function(){var e,t,a;for(t=new SR(SG.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),SY=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return SF(t,S$),t.prototype.tag="loca",t.prototype.parse=function(e){var t,a;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?(function(){var t,r;for(r=[],a=0,t=this.length;a<t;a+=2)r.push(2*e.readUInt16());return r}).call(this):(function(){var t,r;for(r=[],a=0,t=this.length;a<t;a+=4)r.push(e.readUInt32());return r}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var a=new Uint32Array(this.offsets.length),r=0,n=0,i=0;i<a.length;++i)if(a[i]=r,n<t.length&&t[n]==i){++n,a[i]=r;var s=this.offsets[i],o=this.offsets[i+1]-s;o>0&&(r+=o)}for(var l=Array(4*a.length),p=0;p<a.length;++p)l[4*p+3]=255&a[p],l[4*p+2]=(65280&a[p])>>8,l[4*p+1]=(16711680&a[p])>>16,l[4*p]=(4278190080&a[p])>>24;return l},t}(),SJ=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,a,r,n;for(t in r=this.font.cmap.tables[0].codeMap,e={},n=this.subset)a=n[t],e[t]=r[a];return e},e.prototype.glyphsFor=function(e){var t,a,r,n,i,s,o;for(r={},i=0,s=e.length;i<s;i++)r[n=e[i]]=this.font.glyf.glyphFor(n);for(n in t=[],r)(null!=(a=r[n])?a.compound:void 0)&&t.push.apply(t,a.glyphIDs);if(t.length>0)for(n in o=this.glyphsFor(t))a=o[n],r[n]=a;return r},e.prototype.encode=function(e,t){var a,r,n,i,s,o,l,p,d,u,h,c,m,f,g;for(r in a=SM.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),h={0:0},g=a.charMap)h[(o=g[r]).old]=o.new;for(c in u=a.maxGlyphID,i)c in h||(h[c]=u++);return d=Object.keys(p=function(e){var t,a;for(t in a={},e)a[e[t]]=t;return a}(h)).sort(function(e,t){return e-t}),m=function(){var e,t,a;for(a=[],e=0,t=d.length;e<t;e++)s=d[e],a.push(p[s]);return a}(),n=this.font.glyf.encode(i,m,h),l=this.font.loca.encode(n.offsets,m),f={cmap:this.font.cmap.raw(),glyf:n.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();kI.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(a){var r,n,i,s;if(Array.isArray(a))return"["+(function(){var e,n,i;for(i=[],e=0,n=a.length;e<n;e++)r=a[e],i.push(t.convert(r));return i})().join(" ")+"]";if("string"==typeof a)return"/"+a;if(null!=a?a.isString:void 0)return"("+a+")";if(a instanceof Date)return"(D:"+e(a.getUTCFullYear(),4)+e(a.getUTCMonth(),2)+e(a.getUTCDate(),2)+e(a.getUTCHours(),2)+e(a.getUTCMinutes(),2)+e(a.getUTCSeconds(),2)+"Z)";if("[object Object]"===({}).toString.call(a)){for(n in i=["<<"],a)s=a[n],i.push("/"+n+" "+t.convert(s));return i.push(">>"),i.join("\n")}return""+a},t}();var SZ=a(6824),SQ=a(4139),S1=a(5442),S2=a(1834),S0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let S5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),S4=(e,t)=>{let a=(0,f.forwardRef)(({color:a="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,...l},p)=>(0,f.createElement)("svg",{ref:p,...S0,width:r,height:r,stroke:a,strokeWidth:i?24*Number(n)/Number(r):n,className:["lucide",`lucide-${S5(e)}`,s].join(" "),...l},[...t.map(([e,t])=>(0,f.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return a.displayName=`${e}`,a},S3=S4("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),S6=S4("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),S8=S4("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function S9({onCapture:e,onMeasurementReady:t,referenceFrameWidthRatio:a=.25,passportAspect:r,enableBlur:n=!0,minLuminance:i=40,minBlurScore:s=2}){let{t:o}=(0,S2.Q)(),l=(0,f.useRef)(null),p=(0,f.useRef)(null),d=(0,f.useRef)(null),[u,h]=(0,f.useState)("idle"),[c,g]=(0,f.useState)(null),[v,b]=(0,f.useState)({light:!0,sharp:!0});(0,f.useRef)(0);let[y,w]=(0,f.useState)("idle"),[x,N]=(0,f.useState)(null),k=(0,f.useRef)(null),S=(0,f.useRef)(0),I=(0,f.useRef)(null);(0,f.useCallback)(()=>{d.current&&(d.current.getTracks().forEach(e=>e.stop()),d.current=null)},[]);let C=(0,f.useCallback)(async()=>{g(null),h("idle");try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:1280,height:720},audio:!1});d.current=e,l.current&&(l.current.srcObject=e,await l.current.play()),h("live")}catch(e){g(e instanceof Error?e.message:o("camera.error")),h("error")}},[]);(0,f.useCallback)(()=>{let e=l.current,t=p.current;if(!e||!t||e.readyState<2)return;let a=t.getContext("2d");if(!a)return;t.width=e.videoWidth,t.height=e.videoHeight,a.drawImage(e,0,0);let r=a.getImageData(0,0,t.width,t.height);b({light:function(e){let t=e.data,a=0,r=0;for(let e=0;e<t.length;e+=4)a+=.299*t[e]+.587*t[e+1]+.114*t[e+2],r++;return r>0?a/r:0}(r)>=i,sharp:function(e){let{data:t,width:a,height:r}=e,n=0,i=0;for(let e=1;e<r-1;e+=4)for(let r=1;r<a-1;r+=4){let s=(e*a+r)*4,o=(t[s]+t[s+1]+t[s+2])/3;n+=Math.abs(-((t[((e-1)*a+r)*4]+t[((e-1)*a+r)*4+1]+t[((e-1)*a+r)*4+2])/3)+2*o-(t[((e+1)*a+r)*4]+t[((e+1)*a+r)*4+1]+t[((e+1)*a+r)*4+2])/3),i++}return i>0?n/i:0}(r)>=s})},[i,s]),(0,f.useCallback)(()=>{I.current&&(clearInterval(I.current),I.current=null)},[]);let T=(0,f.useCallback)(()=>{N(null),w("capturing"),k.current=null,S.current=Date.now()},[]),A=(0,f.useCallback)(()=>{w("idle"),N(null)},[]),_=(0,f.useCallback)(()=>{T()},[T]),E=(0,f.useCallback)(()=>{h("live"),w("idle"),N(null),k.current=null},[]),$=640*a,R=72+$*(r??85.6/53.98),L=480*.48;return(0,m.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,m.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-black",style:{width:640,height:480},children:[m.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:`h-full w-full object-cover ${n?"sensitive-blur":""}`,style:{transform:"scaleX(-1)"}}),m.jsx("canvas",{ref:p,className:"hidden"}),"live"===u&&(0,m.jsxs)("div",{className:"camera-overlay",children:[m.jsx("div",{className:"camera-overlay__frame",style:{left:(640-$)/2,top:72,width:$,height:R-72}}),m.jsx("div",{className:"camera-overlay__frame-measurement",style:{left:160,top:L,width:320,height:168}}),"capturing"!==y&&(0,m.jsxs)(m.Fragment,{children:[m.jsx("div",{className:"camera-overlay__hint",style:{left:0,right:0,top:44},children:o("reference.passportHint")}),m.jsx("div",{className:"camera-overlay__hint",style:{left:0,right:0,top:L-24},children:o("reference.measurementFrameHint")}),m.jsx("div",{className:"camera-overlay__hint",style:{left:0,right:0,bottom:24},children:o("reference.captureHint")})]}),"capturing"===y&&m.jsx("div",{className:"camera-overlay__hint",style:{left:8,right:8,bottom:24,fontSize:"0.8rem"},children:o("liveness.prompt")})]})]}),"live"===u&&"capturing"!==y&&(0,m.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[m.jsx("span",{className:v.light?"text-green-600":"text-amber-600",children:v.light?o("camera.bright"):o("camera.dark")}),m.jsx("span",{className:v.sharp?"text-green-600":"text-amber-600",children:v.sharp?o("camera.sharp"):o("camera.blur")})]}),x&&(0,m.jsxs)("div",{className:"w-full rounded-lg bg-amber-50 p-4 text-amber-900 text-sm",children:[x,m.jsx("button",{type:"button",onClick:()=>N(null),className:"mt-2 block text-amber-700 underline",children:o("liveness.retry")})]}),"live"===u&&"idle"===y&&!x&&(0,m.jsxs)("button",{type:"button",onClick:_,disabled:!v.light||!v.sharp,className:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-6 py-3 text-white transition hover:bg-emerald-700 disabled:opacity-50",children:[m.jsx(S3,{className:"h-5 w-5"}),o("camera.capture")]}),"live"===u&&"capturing"===y&&(0,m.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[m.jsx(S6,{className:"h-5 w-5 animate-spin"}),o("liveness.prompt")]}),"live"===u&&"timeout"===y&&(0,m.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[m.jsx("p",{className:"text-sm text-amber-700",children:o("liveness.timeout")}),m.jsx("button",{type:"button",onClick:A,className:"rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:o("liveness.retry")})]}),"captured"===u&&m.jsx("button",{type:"button",onClick:E,className:"rounded-lg border border-slate-300 bg-white px-4 py-2 text-slate-700 hover:bg-slate-50",children:o("camera.retake")}),"error"===u&&(0,m.jsxs)("div",{className:"flex items-center gap-2 rounded-lg bg-red-50 p-4 text-red-800",children:[m.jsx(S8,{className:"h-5 w-5 shrink-0"}),m.jsx("span",{children:c}),m.jsx("button",{type:"button",onClick:C,className:"ml-2 rounded bg-red-100 px-3 py-1 text-sm hover:bg-red-200",children:o("camera.retry")})]}),"idle"===u&&(0,m.jsxs)("div",{className:"flex items-center gap-2 text-slate-500",children:[m.jsx(S6,{className:"h-5 w-5 animate-spin"}),o("camera.starting")]})]})}/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let S7=S4("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ie=S4("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),It=S4("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var Ia=a(434);let Ir=125/88;function In(){let{t:e,locale:t}=(0,S2.Q)(),[a,r]=(0,f.useState)("camera"),[n,i]=(0,f.useState)(null),[s,o]=(0,f.useState)(null),[l,p]=(0,f.useState)(null),[d,u]=(0,f.useState)(""),[h,c]=(0,f.useState)(!1),[g,b]=(0,f.useState)(!1),y=(0,f.useCallback)((e,t)=>{let a=function(e,t){var a;let{width:r,height:n}=e,i=function(e,t=8.56){let[a,r,n,i]=e,s=(Math.hypot(r.x-a.x,r.y-a.y)+Math.hypot(n.x-i.x,n.y-i.y))/2;return s<=0?0:s/t}(function(e,t){let a=.25*e,r=(e-a)/2,n=.15*t,i=a*Ir;return[{x:r,y:n},{x:r+a,y:n},{x:r+a,y:n+i},{x:r,y:n+i}]}(r,n),8.8);return i<=0?null:(a=.35*n,{lengthCm:i<=0?0:a/i,ppm:i,timestamp:Date.now(),liveCaptured:t})}(e,t);a&&(i(a),r("measure"))},[]),{ready:w,error:x,open:N}=function(e,t="sandbox",a={}){let[r,n]=(0,f.useState)(!1),[i,s]=(0,f.useState)(null),o=(0,f.useRef)(null),{onComplete:l,onCancel:p,onError:d}=a;return{ready:r,error:i,open:(0,f.useCallback)(()=>{o.current&&o.current.open()},[])}}(0,"sandbox",{onComplete:({inquiryId:e})=>{p(e),r("cert")},onError:()=>{}}),{session:k,accessToken:S}=(0,SQ.a)(),[I,C]=(0,f.useState)(null),T=(0,f.useCallback)(()=>{r("verify"),N()},[N]),A=(0,f.useCallback)(async()=>{if(l&&n&&S){C(null);try{let e=await (0,SZ.$F)(S,l,n);o(e),(0,xW.cP)(e),v({particleCount:80,spread:60})}catch(t){C(t instanceof Error?t.message:e("error.issueFailed"))}}},[l,n,S,e]),_=n?{holderName:d,lengthCm:n.lengthCm,issuedAt:s?.issuedAt??new Date().toISOString(),inquiryId:l??void 0}:null,E=(0,f.useCallback)(()=>{_&&(function(e,t){let a=function(e,t){let a=document.createElement("canvas");a.width=600,a.height=400;let r=a.getContext("2d"),n=xq.s[t];r.fillStyle="#ffffff",r.fillRect(0,0,600,400),r.strokeStyle="#1e293b",r.lineWidth=3,r.strokeRect(8,8,584,384),r.strokeStyle="#334155",r.lineWidth=1,r.strokeRect(14,14,572,372),r.save(),r.globalAlpha=.06,r.fillStyle="#0f172a",r.font="bold 72px system-ui, sans-serif",r.textAlign="center",r.textBaseline="middle",r.fillText("Dick Size Verified",300,200),r.restore(),r.fillStyle="#0f172a",r.font="bold 22px system-ui, sans-serif",r.textAlign="center",r.fillText(n["cert.title"]??"Biometric Measurement Certificate",300,68),r.strokeStyle="#0d9488",r.lineWidth=2,r.beginPath(),r.moveTo(120,82),r.lineTo(480,82),r.stroke(),function(e,t,a,r){e.save(),e.strokeStyle="#0d9488",e.fillStyle="rgba(13, 148, 136, 0.08)",e.lineWidth=2.5,e.beginPath(),e.arc(530,72,36,0,2*Math.PI),e.fill(),e.stroke(),e.strokeStyle="#0f766e",e.lineWidth=1.5,e.beginPath(),e.arc(530,72,32,0,2*Math.PI),e.stroke();let n=16.2;e.strokeStyle="#0d9488",e.lineWidth=2.5,e.lineCap="round",e.lineJoin="round",e.beginPath(),e.moveTo(t-.9*n,72),e.lineTo(t-.2*n,a+.7*n),e.lineTo(t+.85*n,a-.7*n),e.stroke(),e.restore()}(r,530,72,36),r.font="16px system-ui, sans-serif",r.textAlign="left";let i=40+78.39999999999999;return r.fillStyle="#0f172a",r.fillText(`${n["cert.holder"]??"Holder"}: ${e.holderName||""}`,40,i),i+=28,r.fillText(`${n["cert.length"]??"Length"}: ${e.lengthCm.toFixed(2)} cm`,40,i),i+=28,r.fillText(`${n["cert.issuedAt"]??"Issued at"}: ${e.issuedAt}`,40,i),e.inquiryId&&(i+=28,r.fillText(`${n["cert.inquiryId"]??"Inquiry ID"}: ${e.inquiryId}`,40,i)),i=332,r.font="11px system-ui, sans-serif",r.fillStyle="#64748b",r.textAlign="center",r.fillText(n["cert.footer"]??"On-device measurement. Identity verified via Persona.",300,i),a.toDataURL("image/png")}(e,t),r=document.createElement("a");r.href=a,r.download=`certificate-${Date.now()}.png`,r.click()}(_,t),c(!0))},[_,t]),$=(0,f.useCallback)(()=>{_&&(function(e,t){let a=new kI,r=xq.s[t];a.setDrawColor(30,41,59),a.setLineWidth(.8),a.rect(8,8,194,281,"S"),a.setDrawColor(51,65,85),a.setLineWidth(.25),a.rect(12,12,186,273,"S"),a.setTextColor(200,203,210),a.setFontSize(48),a.setFont("helvetica","bold"),a.text("Dick Size Verified",105,148.5,{align:"center"}),a.setTextColor(0,0,0);let n=28;a.setFontSize(18),a.setFont("helvetica","bold"),a.setTextColor(15,23,42),a.text(r["cert.title"]??"Biometric Measurement Certificate",105,n,{align:"center"}),n+=4,a.setDrawColor(13,148,136),a.setLineWidth(.5),a.line(30,n,180,n),n+=14,function(e,t,a,r){e.setDrawColor(13,148,136),e.setLineWidth(.4),e.setFillColor(240,253,250),e.circle(178,38,12,"FD"),e.setDrawColor(15,118,110),e.setLineWidth(.25),e.circle(178,38,10,"S");let n=5.4;e.setDrawColor(13,148,136),e.setLineWidth(.5),e.line(t-.9*n,38,t-.2*n,a+.7*n),e.line(t-.2*n,a+.7*n,t+.85*n,a-.7*n)}(a,178,38,12),a.setFontSize(12),a.setFont("helvetica","normal"),a.setTextColor(15,23,42),a.text(`${r["cert.holder"]??"Holder"}: ${e.holderName||""}`,20,n),n+=10,a.text(`${r["cert.length"]??"Length"}: ${e.lengthCm.toFixed(2)} cm`,20,n),n+=10,a.text(`${r["cert.issuedAt"]??"Issued at"}: ${e.issuedAt}`,20,n),n+=10,e.inquiryId&&(a.text(`${r["cert.inquiryId"]??"Inquiry ID"}: ${e.inquiryId}`,20,n),n+=10),n=275,a.setFontSize(9),a.setTextColor(100,116,139),a.text(r["cert.footer"]??"On-device measurement. Identity verified via Persona.",105,n,{align:"center"}),a.save(`certificate-${Date.now()}.pdf`)}(_,t),b(!0))},[_,t]);return(0,m.jsxs)("main",{className:"min-h-screen bg-slate-50 px-4 py-8",children:[(0,m.jsxs)("nav",{className:"mx-auto mb-6 flex max-w-2xl items-center justify-between text-sm",children:[m.jsx(Ia.default,{href:"/",className:"text-slate-600 hover:text-slate-900",children:e("nav.home")}),(0,m.jsxs)("div",{className:"flex items-center gap-4",children:[m.jsx(Ia.default,{href:"/verify",className:"text-slate-600 hover:text-slate-900",children:e("nav.verify")}),m.jsx(Ia.default,{href:"/certificates",className:"text-slate-600 hover:text-slate-900",children:e("nav.myCerts")}),k?(0,m.jsxs)(m.Fragment,{children:[m.jsx("span",{className:"text-slate-500",children:k.user?.email}),m.jsx("button",{type:"button",onClick:()=>(0,S1.S)().auth.signOut(),className:"text-slate-600 hover:text-slate-900",children:e("nav.logout")})]}):m.jsx(Ia.default,{href:"/login",className:"rounded bg-slate-800 px-3 py-1.5 text-white hover:bg-slate-700",children:e("nav.login")})]})]}),(0,m.jsxs)("div",{className:"mx-auto max-w-2xl space-y-8",children:[(0,m.jsxs)("header",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:e("welcome.title")}),m.jsx("p",{className:"mt-2 text-sm text-slate-600",children:e("welcome.subtitle")})]}),"camera"===a&&(0,m.jsxs)("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsx("h2",{className:"mb-4 text-lg font-semibold",children:e("step1.title")}),m.jsx("p",{className:"mb-4 text-sm text-slate-600",children:e("step1.hint")}),m.jsx(S9,{onCapture:y,referenceFrameWidthRatio:.25,passportAspect:Ir,enableBlur:!0})]}),"measure"===a&&n&&(0,m.jsxs)("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsx("h2",{className:"mb-4 text-lg font-semibold",children:e("step2.title")}),(0,m.jsxs)("div",{className:"mb-4 rounded-lg bg-slate-100 p-4",children:[m.jsx("p",{className:"text-sm text-slate-600",children:e("step2.length")}),(0,m.jsxs)("p",{className:"text-2xl font-bold text-slate-900",children:[n.lengthCm.toFixed(2)," cm"]}),(0,m.jsxs)("p",{className:"mt-2 text-xs text-slate-500",children:[e("step2.live"),": ",n.liveCaptured?e("step2.yes"):e("step2.no")," \xb7 PPM: ",n.ppm.toFixed(1)]})]}),(0,m.jsxs)("div",{className:"mb-4 border-t border-slate-200 pt-4",children:[m.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-800",children:e("step2.certSectionTitle")}),m.jsx("label",{htmlFor:"step2-holder-name",className:"mb-1 block text-sm font-medium text-slate-700",children:e("step4.holderName")}),m.jsx("input",{id:"step2-holder-name",type:"text",value:d,onChange:e=>u(e.target.value),placeholder:e("step4.holderNamePlaceholder"),className:"mb-4 w-full rounded border border-slate-300 px-3 py-2 text-slate-900 placeholder:text-slate-400"}),(0,m.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,m.jsxs)("button",{type:"button",onClick:E,className:"inline-flex items-center gap-2 rounded-lg bg-slate-700 px-4 py-2 text-sm text-white hover:bg-slate-800",children:[m.jsx(S7,{className:"h-4 w-4"}),e("step4.downloadPng")]}),(0,m.jsxs)("button",{type:"button",onClick:$,className:"inline-flex items-center gap-2 rounded-lg bg-slate-700 px-4 py-2 text-sm text-white hover:bg-slate-800",children:[m.jsx(S7,{className:"h-4 w-4"}),e("step4.downloadPdf")]})]})]}),(0,m.jsxs)("div",{className:"flex gap-3",children:[m.jsx("button",{type:"button",onClick:()=>r("camera"),className:"rounded-lg border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:e("step2.retake")}),m.jsx("button",{type:"button",onClick:T,disabled:!w,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm text-white hover:bg-indigo-700 disabled:opacity-50",children:w?(0,m.jsxs)(m.Fragment,{children:[m.jsx(Ie,{className:"h-4 w-4"}),e("step2.verify")]}):(0,m.jsxs)(m.Fragment,{children:[m.jsx(S6,{className:"h-4 w-4 animate-spin"}),e("step2.loading")]})})]}),x&&m.jsx("p",{className:"mt-2 text-sm text-amber-600",children:x})]}),"verify"===a&&(0,m.jsxs)("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsx("h2",{className:"mb-4 text-lg font-semibold",children:e("step3.title")}),m.jsx("p",{className:"mb-4 text-sm text-slate-600",children:e("step3.hint")}),m.jsx("button",{type:"button",onClick:N,className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm text-white hover:bg-indigo-700",children:e("step3.openAgain")})]}),"cert"===a&&n&&(0,m.jsxs)("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsx("h2",{className:"mb-4 text-lg font-semibold",children:e("step4.title")}),l&&(0,m.jsxs)("p",{className:"mb-4 text-sm text-slate-600",children:[e("step4.inquiryId"),": ",m.jsx("code",{className:"rounded bg-slate-100 px-1",children:l})]}),S&&m.jsx("div",{className:"mb-4 rounded-lg bg-emerald-50 p-4",children:(0,m.jsxs)("p",{className:"flex items-center gap-2 text-emerald-800",children:[m.jsx(It,{className:"h-5 w-5"}),e("step4.certReady")]})}),(0,m.jsxs)("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"holder-name",className:"mb-1 block text-sm font-medium text-slate-700",children:e("step4.holderName")}),m.jsx("input",{id:"holder-name",type:"text",value:d,onChange:e=>u(e.target.value),placeholder:e("step4.holderNamePlaceholder"),className:"w-full rounded border border-slate-300 px-3 py-2 text-slate-900 placeholder:text-slate-400"})]}),(0,m.jsxs)("div",{className:"mb-4 flex flex-wrap gap-3",children:[(0,m.jsxs)("button",{type:"button",onClick:E,disabled:h,className:"inline-flex items-center gap-2 rounded-lg bg-slate-700 px-4 py-2 text-white hover:bg-slate-800 disabled:opacity-60 disabled:cursor-not-allowed",children:[m.jsx(S7,{className:"h-4 w-4"}),h?e("step4.downloaded"):e("step4.downloadPng")]}),(0,m.jsxs)("button",{type:"button",onClick:$,disabled:g,className:"inline-flex items-center gap-2 rounded-lg bg-slate-700 px-4 py-2 text-white hover:bg-slate-800 disabled:opacity-60 disabled:cursor-not-allowed",children:[m.jsx(S7,{className:"h-4 w-4"}),g?e("step4.downloaded"):e("step4.downloadPdf")]})]}),S?(0,m.jsxs)(m.Fragment,{children:[I&&m.jsx("p",{className:"mb-2 text-sm text-red-600",children:I}),(0,m.jsxs)("button",{type:"button",onClick:A,className:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-white hover:bg-emerald-700",children:[m.jsx(S7,{className:"h-4 w-4"}),e("step4.downloadJson")]})]}):(0,m.jsxs)("div",{className:"rounded-lg bg-amber-50 p-4 text-amber-800",children:[m.jsx("p",{className:"mb-2",children:e("step4.loginRequiredJson")}),m.jsx(Ia.default,{href:"/login",className:"text-sm font-medium underline",children:e("step4.goLogin")})]})]})]})]})}},6824:(e,t,a)=>{"use strict";a.d(t,{$F:()=>n,mv:()=>i,ys:()=>s});let r=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8080";async function n(e,t,a){let n=await fetch(`${r}/api/certificates`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({inquiryId:t,measurement:a})});if(!n.ok)throw Error((await n.json().catch(()=>({}))).error||n.statusText);return n.json()}async function i(e,t){let a=await fetch(`${r}/api/certificates/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!a.ok)throw Error(a.statusText);return a.json()}async function s(e){let t=await fetch(`${r}/api/certificates/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error(t.statusText);return t.json()}},4703:(e,t,a)=>{"use strict";function r(e){let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`certification-${e.inquiryId}-${Date.now()}.json`,r.click(),URL.revokeObjectURL(a)}a.d(t,{cP:()=>r})},5442:(e,t,a)=>{"use strict";a.d(t,{S:()=>s});var r=a(5157);let n=process.env.NEXT_PUBLIC_SUPABASE_URL??"",i=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY??"";function s(){return n&&i?(0,r.eI)(n,i):(0,r.eI)("https://placeholder.supabase.co","placeholder")}},4139:(e,t,a)=>{"use strict";a.d(t,{a:()=>i});var r=a(7577),n=a(5442);function i(){let[e,t]=(0,r.useState)(null),[a,i]=(0,r.useState)(!0);return(0,n.S)(),{session:e,loading:a,accessToken:e?.access_token??null}}},6508:e=>{e.exports=a;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function a(e,t,a){this.low=0|e,this.high=0|t,this.unsigned=!!a}function r(e){return!0===(e&&e.__isLong__)}a.prototype.__isLong__,Object.defineProperty(a.prototype,"__isLong__",{value:!0}),a.isLong=r;var n={},i={};function s(e,t){var a,r,s;return t?(e>>>=0,(s=0<=e&&e<256)&&(r=i[e]))?r:(a=l(e,(0|e)<0?-1:0,!0),s&&(i[e]=a),a):(e|=0,(s=-128<=e&&e<128)&&(r=n[e]))?r:(a=l(e,e<0?-1:0,!1),s&&(n[e]=a),a)}function o(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=c)return N}else{if(e<=-m)return k;if(e+1>=m)return x}return e<0?o(-e,t).neg():l(e%h|0,e/h|0,t)}function l(e,t,r){return new a(e,t,r)}a.fromInt=s,a.fromNumber=o,a.fromBits=l;var p=Math.pow;function d(e,t,a){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(a=t,t=!1):t=!!t,(a=a||10)<2||36<a)throw RangeError("radix");if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,a).neg();for(var r,n=o(p(a,8)),i=g,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+l),a);if(l<8){var h=o(p(a,l));i=i.mul(h).add(o(u))}else i=(i=i.mul(n)).add(o(u))}return i.unsigned=t,i}function u(e,t){return"number"==typeof e?o(e,t):"string"==typeof e?d(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}a.fromString=d,a.fromValue=u;var h=4294967296,c=18446744073709552e3,m=0x7fffffffffffffff,f=s(16777216),g=s(0);a.ZERO=g;var v=s(0,!0);a.UZERO=v;var b=s(1);a.ONE=b;var y=s(1,!0);a.UONE=y;var w=s(-1);a.NEG_ONE=w;var x=l(-1,2147483647,!1);a.MAX_VALUE=x;var N=l(-1,-1,!0);a.MAX_UNSIGNED_VALUE=N;var k=l(0,-2147483648,!1);a.MIN_VALUE=k;var S=a.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(k))return"-"+this.neg().toString(e);var t=o(e),a=this.div(t),r=a.mul(t).sub(this);return a.toString(e)+r.toInt().toString(e)}for(var n=o(p(e,6),this.unsigned),i=this,s="";;){var l=i.div(n),d=(i.sub(l.mul(n)).toInt()>>>0).toString(e);if((i=l).isZero())return d+s;for(;d.length<6;)d="0"+d;s=""+d+s}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return(1&this.low)==1},S.isEven=function(){return(1&this.low)==0},S.equals=function(e){return r(e)||(e=u(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return 0>this.comp(e)},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return 0>=this.comp(e)},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(r(e)||(e=u(e)),this.eq(e))return 0;var t=this.isNegative(),a=e.isNegative();return t&&!a?-1:!t&&a?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},S.neg=S.negate,S.add=function(e){r(e)||(e=u(e));var t,a,n=this.high>>>16,i=65535&this.high,s=this.low>>>16,o=65535&this.low,p=e.high>>>16,d=65535&e.high,h=e.low>>>16,c=65535&e.low,m=0,f=0;return t=0+((a=0+(o+c))>>>16),a&=65535,t+=s+h,f+=t>>>16,t&=65535,f+=i+d,m+=f>>>16,f&=65535,m+=n+p,l(t<<16|a,(m&=65535)<<16|f,this.unsigned)},S.subtract=function(e){return r(e)||(e=u(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=u(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(k))return e.isOdd()?k:g;if(e.eq(k))return this.isOdd()?k:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f)&&e.lt(f))return o(this.toNumber()*e.toNumber(),this.unsigned);var a,n,i=this.high>>>16,s=65535&this.high,p=this.low>>>16,d=65535&this.low,h=e.high>>>16,c=65535&e.high,m=e.low>>>16,v=65535&e.low,b=0,y=0;return a=0+((n=0+d*v)>>>16),n&=65535,a+=p*v,y+=a>>>16,a&=65535,a+=d*m,y+=a>>>16,a&=65535,y+=s*v,b+=y>>>16,y&=65535,y+=p*m,b+=y>>>16,y&=65535,y+=d*c,b+=y>>>16,y&=65535,b+=i*v+s*m+p*c+d*h,l(a<<16|n,(b&=65535)<<16|y,this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(r(e)||(e=u(e)),e.isZero())throw Error("division by zero");if(t){var a,n,i;return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return y;i=v}else{if(this.eq(k))return e.eq(b)||e.eq(w)?k:e.eq(k)?b:(a=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:w:(n=this.sub(e.mul(a)),i=a.add(n.div(e)));if(e.eq(k))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(n=this;n.gte(e);){for(var s=Math.ceil(Math.log(a=Math.max(1,Math.floor(n.toNumber()/e.toNumber())))/Math.LN2),d=s<=48?1:p(2,s-48),h=o(a),c=h.mul(e);c.isNegative()||c.gt(n);)a-=d,c=(h=o(a,this.unsigned)).mul(e);h.isZero()&&(h=b),i=i.add(h),n=n.sub(c)}return i},S.div=S.divide,S.modulo=function(e){return(r(e)||(e=u(e)),t)?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return l(~this.low,~this.high,this.unsigned)},S.and=function(e){return r(e)||(e=u(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return r(e)||(e=u(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return r(e)||(e=u(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return(r(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return(r(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):32===e?l(t,0,this.unsigned):l(t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},a.fromBytes=function(e,t,r){return r?a.fromBytesLE(e,t):a.fromBytesBE(e,t)},a.fromBytesLE=function(e,t){return new a(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},a.fromBytesBE=function(e,t){return new a(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},2918:(e,t,a)=>{var r=a(2288),n=a(594),i=a(5009),s=a(3498),o=a(7992),l=a(6348),p=a(6551);p.alea=r,p.xor128=n,p.xorwow=i,p.xorshift7=s,p.xor4096=o,p.tychei=l,e.exports=p},2288:function(e,t,a){var r;!function(e,n,i){function s(e){var t,a=this,r=(t=4022871197,function(e){e=String(e);for(var a=0;a<e.length;a++){var r=.02519603282416938*(t+=e.charCodeAt(a));t=r>>>0,r-=t,r*=t,t=r>>>0,r-=t,t+=4294967296*r}return(t>>>0)*23283064365386963e-26});a.next=function(){var e=2091639*a.s0+23283064365386963e-26*a.c;return a.s0=a.s1,a.s1=a.s2,a.s2=e-(a.c=0|e)},a.c=1,a.s0=r(" "),a.s1=r(" "),a.s2=r(" "),a.s0-=r(e),a.s0<0&&(a.s0+=1),a.s1-=r(e),a.s1<0&&(a.s1+=1),a.s2-=r(e),a.s2<0&&(a.s2+=1)}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var a=new s(e),r=t&&t.state,n=a.next;return n.int32=function(){return 4294967296*a.next()|0},n.double=function(){return n()+(2097152*n()|0)*11102230246251565e-32},n.quick=n,r&&("object"==typeof r&&o(r,a),n.state=function(){return o(a,{})}),n}n&&n.exports?n.exports=l:a.amdD&&a.amdO?void 0!==(r=(function(){return l}).call(t,a,t,n))&&(n.exports=r):this.alea=l}(0,e=a.nmd(e),a.amdD)},6348:function(e,t,a){var r;!function(e,n,i){function s(e){var t=this,a="";t.next=function(){var e=t.b,a=t.c,r=t.d,n=t.a;return e=e<<25^e>>>7^a,a=a-r|0,r=r<<24^r>>>8^n,n=n-e|0,t.b=e=e<<20^e>>>12^a,t.c=a=a-r|0,t.d=r<<16^a>>>16^n,t.a=n-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):a+=e;for(var r=0;r<a.length+20;r++)t.b^=0|a.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var a=new s(e),r=t&&t.state,n=function(){return(a.next()>>>0)/4294967296};return n.double=function(){do var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/2097152;while(0===e);return e},n.int32=a.next,n.quick=n,r&&("object"==typeof r&&o(r,a),n.state=function(){return o(a,{})}),n}n&&n.exports?n.exports=l:a.amdD&&a.amdO?void 0!==(r=(function(){return l}).call(t,a,t,n))&&(n.exports=r):this.tychei=l}(0,e=a.nmd(e),a.amdD)},594:function(e,t,a){var r;!function(e,n,i){function s(e){var t=this,a="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:a+=e;for(var r=0;r<a.length+64;r++)t.x^=0|a.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var a=new s(e),r=t&&t.state,n=function(){return(a.next()>>>0)/4294967296};return n.double=function(){do var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/2097152;while(0===e);return e},n.int32=a.next,n.quick=n,r&&("object"==typeof r&&o(r,a),n.state=function(){return o(a,{})}),n}n&&n.exports?n.exports=l:a.amdD&&a.amdO?void 0!==(r=(function(){return l}).call(t,a,t,n))&&(n.exports=r):this.xor128=l}(0,e=a.nmd(e),a.amdD)},7992:function(e,t,a){var r;!function(e,n,i){function s(e){var t=this;t.next=function(){var e,a,r=t.w,n=t.X,i=t.i;return t.w=r=r+1640531527|0,a=n[i+34&127],e=n[i=i+1&127],a^=a<<13,e^=e<<17,a^=a>>>15,e^=e>>>12,a=n[i]=a^e,t.i=i,a+(r^r>>>16)|0},function(e,t){var a,r,n,i,s,o=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),n=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(s=s+1640531527|0,n=0==(a=o[127&i]^=r+s)?n+1:0);for(n>=128&&(o[127&(t&&t.length||0)]=-1),n=127,i=512;i>0;--i)r=o[n+34&127],a=o[n=n+1&127],r^=r<<13,a^=a<<17,r^=r>>>15,a^=a>>>12,o[n]=r^a;e.w=s,e.X=o,e.i=n}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var a=new s(e),r=t&&t.state,n=function(){return(a.next()>>>0)/4294967296};return n.double=function(){do var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/2097152;while(0===e);return e},n.int32=a.next,n.quick=n,r&&(r.X&&o(r,a),n.state=function(){return o(a,{})}),n}n&&n.exports?n.exports=l:a.amdD&&a.amdO?void 0!==(r=(function(){return l}).call(t,a,t,n))&&(n.exports=r):this.xor4096=l}(0,e=a.nmd(e),a.amdD)},3498:function(e,t,a){var r;!function(e,n,i){function s(e){var t=this;t.next=function(){var e,a,r=t.x,n=t.i;return e=r[n],e^=e>>>7,a=e^e<<24^((e=r[n+1&7])^e>>>10)^((e=r[n+3&7])^e>>>3)^((e=r[n+4&7])^e<<7),e=r[n+7&7],e^=e<<13,a^=e^e<<9,r[n]=a,t.i=n+1&7,a},function(e,t){var a,r=[];if(t===(0|t))r[0]=t;else for(a=0,t=""+t;a<t.length;++a)r[7&a]=r[7&a]<<15^t.charCodeAt(a)+r[a+1&7]<<13;for(;r.length<8;)r.push(0);for(a=0;a<8&&0===r[a];++a);for(8==a?r[7]=-1:r[a],e.x=r,e.i=0,a=256;a>0;--a)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var a=new s(e),r=t&&t.state,n=function(){return(a.next()>>>0)/4294967296};return n.double=function(){do var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/2097152;while(0===e);return e},n.int32=a.next,n.quick=n,r&&(r.x&&o(r,a),n.state=function(){return o(a,{})}),n}n&&n.exports?n.exports=l:a.amdD&&a.amdO?void 0!==(r=(function(){return l}).call(t,a,t,n))&&(n.exports=r):this.xorshift7=l}(0,e=a.nmd(e),a.amdD)},5009:function(e,t,a){var r;!function(e,n,i){function s(e){var t=this,a="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:a+=e;for(var r=0;r<a.length+64;r++)t.x^=0|a.charCodeAt(r),r==a.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var a=new s(e),r=t&&t.state,n=function(){return(a.next()>>>0)/4294967296};return n.double=function(){do var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/2097152;while(0===e);return e},n.int32=a.next,n.quick=n,r&&("object"==typeof r&&o(r,a),n.state=function(){return o(a,{})}),n}n&&n.exports?n.exports=l:a.amdD&&a.amdO?void 0!==(r=(function(){return l}).call(t,a,t,n))&&(n.exports=r):this.xorwow=l}(0,e=a.nmd(e),a.amdD)},6551:function(e,t,a){var r;!function(n,i,s){var o,l=s.pow(256,6),p=s.pow(2,52),d=2*p;function u(e,t,a){var r=[],u=m(function e(t,a){var r,n=[],i=typeof t;if(a&&"object"==i)for(r in t)try{n.push(e(t[r],a-1))}catch(e){}return n.length?n:"string"==i?t:t+"\0"}((t=!0==t?{entropy:!0}:t||{}).entropy?[e,f(i)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(256):(e=new Uint8Array(256),(n.crypto||n.msCrypto).getRandomValues(e)),f(e)}catch(e){var t=n.navigator,a=t&&t.plugins;return[+new Date,n,a,n.screen,f(i)]}}():e,3),r),g=new h(r),v=function(){for(var e=g.g(6),t=l,a=0;e<p;)e=(e+a)*256,t*=256,a=g.g(1);for(;e>=d;)e/=2,t/=2,a>>>=1;return(e+a)/t};return v.int32=function(){return 0|g.g(4)},v.quick=function(){return g.g(4)/4294967296},v.double=v,m(f(g.S),i),(t.pass||a||function(e,t,a,r){return(r&&(r.S&&c(r,g),e.state=function(){return c(g,{})}),a)?(s.random=e,t):e})(v,u,"global"in t?t.global:this==s,t.state)}function h(e){var t,a=e.length,r=this,n=0,i=r.i=r.j=0,s=r.S=[];for(a||(e=[a++]);n<256;)s[n]=n++;for(n=0;n<256;n++)s[n]=s[i=255&i+e[n%a]+(t=s[n])],s[i]=t;(r.g=function(e){for(var t,a=0,n=r.i,i=r.j,s=r.S;e--;)t=s[n=255&n+1],a=256*a+s[255&(s[n]=s[i=255&i+t])+(s[i]=t)];return r.i=n,r.j=i,a})(256)}function c(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var a,r=e+"",n=0;n<r.length;)t[255&n]=255&(a^=19*t[255&n])+r.charCodeAt(n++);return f(t)}function f(e){return String.fromCharCode.apply(0,e)}if(m(s.random(),i),e.exports){e.exports=u;try{o=a(6113)}catch(e){}}else void 0!==(r=(function(){return u}).call(t,a,t,e))&&(e.exports=r)}("undefined"!=typeof self?self:this,[],Math)},8741:(e,t,a)=>{"use strict";var r=a(5477),n=a(1841),i={TRANSITIONAL:0,NONTRANSITIONAL:1};function s(e){return e.split("\0").map(function(e){return e.normalize("NFC")}).join("\0")}function o(e){for(var t=0,a=n.length-1;t<=a;){var r=Math.floor((t+a)/2),i=n[r];if(i[0][0]<=e&&i[0][1]>=e)return i;i[0][0]>e?a=r-1:t=r+1}return null}var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function p(e){return e.replace(l,"_").length}var d=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function u(e,t,a){var n=function(e,t,a){for(var r=!1,n="",s=p(e),l=0;l<s;++l){var d=e.codePointAt(l),u=o(d);switch(u[1]){case"disallowed":r=!0,n+=String.fromCodePoint(d);break;case"ignored":break;case"mapped":n+=String.fromCodePoint.apply(String,u[2]);break;case"deviation":a===i.TRANSITIONAL?n+=String.fromCodePoint.apply(String,u[2]):n+=String.fromCodePoint(d);break;case"valid":n+=String.fromCodePoint(d);break;case"disallowed_STD3_mapped":t?(r=!0,n+=String.fromCodePoint(d)):n+=String.fromCodePoint.apply(String,u[2]);break;case"disallowed_STD3_valid":t&&(r=!0),n+=String.fromCodePoint(d)}}return{string:n,error:r}}(e,t,a);n.string=s(n.string);for(var l=n.string.split("."),h=0;h<l.length;++h)try{var c=function(e,t){"xn--"===e.substr(0,4)&&(e=r.toUnicode(e),i.NONTRANSITIONAL);var a=!1;(s(e)!==e||"-"===e[3]&&"-"===e[4]||"-"===e[0]||"-"===e[e.length-1]||-1!==e.indexOf(".")||0===e.search(d))&&(a=!0);for(var n=p(e),l=0;l<n;++l){var h=o(e.codePointAt(l));if(u===i.TRANSITIONAL&&"valid"!==h[1]||u===i.NONTRANSITIONAL&&"valid"!==h[1]&&"deviation"!==h[1]){a=!0;break}}return{label:e,error:a}}(l[h]);l[h]=c.label,n.error=n.error||c.error}catch(e){n.error=!0}return{string:l.join("."),error:n.error}}e.exports.toASCII=function(e,t,a,n){var i=u(e,t,a),s=i.string.split(".");if(s=s.map(function(e){try{return r.toASCII(e)}catch(t){return i.error=!0,e}}),n){var o=s.slice(0,s.length-1).join(".").length;(o.length>253||0===o.length)&&(i.error=!0);for(var l=0;l<s.length;++l)if(s.length>63||0===s.length){i.error=!0;break}}return i.error?null:s.join(".")},e.exports.toUnicode=function(e,t){var a=u(e,t,i.NONTRANSITIONAL);return{domain:a.string,error:a.error}},e.exports.PROCESSING_OPTIONS=i},8481:e=>{"use strict";var t={};function a(e,t){!t.unsigned&&--e;let a=t.unsigned?0:-Math.pow(2,e),r=Math.pow(2,e)-1,n=t.moduloBitLength?Math.pow(2,t.moduloBitLength):Math.pow(2,e),i=t.moduloBitLength?Math.pow(2,t.moduloBitLength-1):Math.pow(2,e-1);return function(e,s){s||(s={});let o=+e;if(s.enforceRange){if(!Number.isFinite(o))throw TypeError("Argument is not a finite number");if((o=(o<0?-1:1)*Math.floor(Math.abs(o)))<a||o>r)throw TypeError("Argument is not in byte range");return o}if(!isNaN(o)&&s.clamp){var l;return(o=(l=o)%1==.5&&(1&l)==0?Math.floor(l):Math.round(l))<a&&(o=a),o>r&&(o=r),o}if(!Number.isFinite(o)||0===o)return 0;if(o=(o<0?-1:1)*Math.floor(Math.abs(o))%n,!t.unsigned&&o>=i)return o-n;if(t.unsigned){if(o<0)o+=n;else if(-0===o)return 0}return o}}e.exports=t,t.void=function(){},t.boolean=function(e){return!!e},t.byte=a(8,{unsigned:!1}),t.octet=a(8,{unsigned:!0}),t.short=a(16,{unsigned:!1}),t["unsigned short"]=a(16,{unsigned:!0}),t.long=a(32,{unsigned:!1}),t["unsigned long"]=a(32,{unsigned:!0}),t["long long"]=a(32,{unsigned:!1,moduloBitLength:64}),t["unsigned long long"]=a(32,{unsigned:!0,moduloBitLength:64}),t.double=function(e){let t=+e;if(!Number.isFinite(t))throw TypeError("Argument is not a finite floating-point value");return t},t["unrestricted double"]=function(e){let t=+e;if(isNaN(t))throw TypeError("Argument is NaN");return t},t.float=t.double,t["unrestricted float"]=t["unrestricted double"],t.DOMString=function(e,t){return(t||(t={}),t.treatNullAsEmptyString&&null===e)?"":String(e)},t.ByteString=function(e,t){let a;let r=String(e);for(let e=0;void 0!==(a=r.codePointAt(e));++e)if(a>255)throw TypeError("Argument is not a valid bytestring");return r},t.USVString=function(e){let t=String(e),a=t.length,r=[];for(let e=0;e<a;++e){let n=t.charCodeAt(e);if(n<55296||n>57343)r.push(String.fromCodePoint(n));else if(56320<=n&&n<=57343)r.push(String.fromCodePoint(65533));else if(e===a-1)r.push(String.fromCodePoint(65533));else{let a=t.charCodeAt(e+1);if(56320<=a&&a<=57343){let t=1023&n,i=1023&a;r.push(String.fromCodePoint(65536+1024*t+i)),++e}else r.push(String.fromCodePoint(65533))}}return r.join("")},t.Date=function(e,t){if(!(e instanceof Date))throw TypeError("Argument is not a Date object");if(!isNaN(e))return e},t.RegExp=function(e,t){return e instanceof RegExp||(e=new RegExp(e)),e}},3659:(e,t,a)=>{"use strict";let r=a(5919);t.implementation=class{constructor(e){let t=e[0],a=e[1],n=null;if(void 0!==a&&"failure"===(n=r.basicURLParse(a)))throw TypeError("Invalid base URL");let i=r.basicURLParse(t,{baseURL:n});if("failure"===i)throw TypeError("Invalid URL");this._url=i}get href(){return r.serializeURL(this._url)}set href(e){let t=r.basicURLParse(e);if("failure"===t)throw TypeError("Invalid URL");this._url=t}get origin(){return r.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(e){r.basicURLParse(e+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){r.cannotHaveAUsernamePasswordPort(this._url)||r.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){r.cannotHaveAUsernamePasswordPort(this._url)||r.setThePassword(this._url,e)}get host(){let e=this._url;return null===e.host?"":null===e.port?r.serializeHost(e.host):r.serializeHost(e.host)+":"+r.serializeInteger(e.port)}set host(e){this._url.cannotBeABaseURL||r.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":r.serializeHost(this._url.host)}set hostname(e){this._url.cannotBeABaseURL||r.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":r.serializeInteger(this._url.port)}set port(e){r.cannotHaveAUsernamePasswordPort(this._url)||(""===e?this._url.port=null:r.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(e){this._url.cannotBeABaseURL||(this._url.path=[],r.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(e){let t=this._url;if(""===e){t.query=null;return}let a="?"===e[0]?e.substring(1):e;t.query="",r.basicURLParse(a,{url:t,stateOverride:"query"})}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(e){if(""===e){this._url.fragment=null;return}let t="#"===e[0]?e.substring(1):e;this._url.fragment="",r.basicURLParse(t,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},5474:(e,t,a)=>{"use strict";let r=a(8481),n=a(4363),i=a(3659),s=n.implSymbol;function o(t){if(!this||this[s]||!(this instanceof o))throw TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let a=[];for(let e=0;e<arguments.length&&e<2;++e)a[e]=arguments[e];a[0]=r.USVString(a[0]),void 0!==a[1]&&(a[1]=r.USVString(a[1])),e.exports.setup(this,a)}o.prototype.toJSON=function(){if(!this||!e.exports.is(this))throw TypeError("Illegal invocation");let t=[];for(let e=0;e<arguments.length&&e<0;++e)t[e]=arguments[e];return this[s].toJSON.apply(this[s],t)},Object.defineProperty(o.prototype,"href",{get(){return this[s].href},set(e){e=r.USVString(e),this[s].href=e},enumerable:!0,configurable:!0}),o.prototype.toString=function(){if(!this||!e.exports.is(this))throw TypeError("Illegal invocation");return this.href},Object.defineProperty(o.prototype,"origin",{get(){return this[s].origin},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"protocol",{get(){return this[s].protocol},set(e){e=r.USVString(e),this[s].protocol=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"username",{get(){return this[s].username},set(e){e=r.USVString(e),this[s].username=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"password",{get(){return this[s].password},set(e){e=r.USVString(e),this[s].password=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"host",{get(){return this[s].host},set(e){e=r.USVString(e),this[s].host=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hostname",{get(){return this[s].hostname},set(e){e=r.USVString(e),this[s].hostname=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"port",{get(){return this[s].port},set(e){e=r.USVString(e),this[s].port=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pathname",{get(){return this[s].pathname},set(e){e=r.USVString(e),this[s].pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"search",{get(){return this[s].search},set(e){e=r.USVString(e),this[s].search=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hash",{get(){return this[s].hash},set(e){e=r.USVString(e),this[s].hash=e},enumerable:!0,configurable:!0}),e.exports={is:e=>!!e&&e[s]instanceof i.implementation,create(e,t){let a=Object.create(o.prototype);return this.setup(a,e,t),a},setup(e,t,a){a||(a={}),a.wrapper=e,e[s]=new i.implementation(t,a),e[s][n.wrapperSymbol]=e},interface:o,expose:{Window:{URL:o},Worker:{URL:o}}}},6361:(e,t,a)=>{"use strict";t.URL=a(5474).interface,a(5919).serializeURL,a(5919).serializeURLOrigin,a(5919).basicURLParse,a(5919).setTheUsername,a(5919).setThePassword,a(5919).serializeHost,a(5919).serializeInteger,a(5919).parseURL},5919:(e,t,a)=>{"use strict";let r=a(5477),n=a(8741),i={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},s=Symbol("failure");function o(e){return r.ucs2.decode(e).length}function l(e,t){let a=e[t];return isNaN(a)?void 0:String.fromCodePoint(a)}function p(e){return e>=48&&e<=57}function d(e){return e>=65&&e<=90||e>=97&&e<=122}function u(e){return p(e)||e>=65&&e<=70||e>=97&&e<=102}function h(e){return"."===e||"%2e"===e.toLowerCase()}function c(e){return 2===e.length&&d(e.codePointAt(0))&&(":"===e[1]||"|"===e[1])}function m(e){return void 0!==i[e]}function f(e){return m(e.scheme)}function g(e){let t=e.toString(16).toUpperCase();return 1===t.length&&(t="0"+t),"%"+t}function v(e){return e<=31||e>126}let b=new Set([32,34,35,60,62,63,96,123,125]);function y(e){return v(e)||b.has(e)}let w=new Set([47,58,59,61,64,91,92,93,94,124]);function x(e){return y(e)||w.has(e)}function N(e,t){let a=String.fromCodePoint(e);return t(e)?function(e){let t=new Buffer(e),a="";for(let e=0;e<t.length;++e)a+=g(t[e]);return a}(a):a}function k(e,t){if("["===e[0])return"]"!==e[e.length-1]?s:function(e){let t=[0,0,0,0,0,0,0,0],a=0,n=null,i=0;if(58===(e=r.ucs2.decode(e))[i]){if(58!==e[i+1])return s;i+=2,n=++a}for(;i<e.length;){if(8===a)return s;if(58===e[i]){if(null!==n)return s;++i,n=++a;continue}let r=0,o=0;for(;o<4&&u(e[i]);)r=16*r+parseInt(l(e,i),16),++i,++o;if(46===e[i]){if(0===o||(i-=o,a>6))return s;let r=0;for(;void 0!==e[i];){let n=null;if(r>0){if(46!==e[i]||!(r<4))return s;++i}if(!p(e[i]))return s;for(;p(e[i]);){let t=parseInt(l(e,i));if(null===n)n=t;else{if(0===n)return s;n=10*n+t}if(n>255)return s;++i}t[a]=256*t[a]+n,(2==++r||4===r)&&++a}if(4!==r)return s;break}if(58===e[i]){if(void 0===e[++i])return s}else if(void 0!==e[i])return s;t[a]=r,++a}if(null!==n){let e=a-n;for(a=7;0!==a&&e>0;){let r=t[n+e-1];t[n+e-1]=t[a],t[a]=r,--a,--e}}else if(null===n&&8!==a)return s;return t}(e.substring(1,e.length-1));if(!t)return function(e){if(-1!==e.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return s;let t="",a=r.ucs2.decode(e);for(let e=0;e<a.length;++e)t+=N(a[e],v);return t}(e);let a=function(e){let t=new Buffer(e),a=[];for(let e=0;e<t.length;++e)37!==t[e]?a.push(t[e]):37===t[e]&&u(t[e+1])&&u(t[e+2])?(a.push(parseInt(t.slice(e+1,e+3).toString(),16)),e+=2):a.push(t[e]);return new Buffer(a).toString()}(e),i=n.toASCII(a,!1,n.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(null===i||-1!==i.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return s;let o=function(e){let t=e.split(".");if(""===t[t.length-1]&&t.length>1&&t.pop(),t.length>4)return e;let a=[];for(let r of t){if(""===r)return e;let t=function(e){let t=10;return(e.length>=2&&"0"===e.charAt(0)&&"x"===e.charAt(1).toLowerCase()?(e=e.substring(2),t=16):e.length>=2&&"0"===e.charAt(0)&&(e=e.substring(1),t=8),""===e)?0:(10===t?/[^0-9]/:16===t?/[^0-9A-Fa-f]/:/[^0-7]/).test(e)?s:parseInt(e,t)}(r);if(t===s)return e;a.push(t)}for(let e=0;e<a.length-1;++e)if(a[e]>255)return s;if(a[a.length-1]>=Math.pow(256,5-a.length))return s;let r=a.pop(),n=0;for(let e of a)r+=e*Math.pow(256,3-n),++n;return r}(i);return"number"==typeof o||o===s?o:i}function S(e){return"number"==typeof e?function(e){let t="",a=e;for(let e=1;e<=4;++e)t=String(a%256)+t,4!==e&&(t="."+t),a=Math.floor(a/256);return t}(e):e instanceof Array?"["+function(e){let t="",a=function(e){let t=null,a=1,r=null,n=0;for(let i=0;i<e.length;++i)0!==e[i]?(n>a&&(t=r,a=n),r=null,n=0):(null===r&&(r=i),++n);return n>a&&(t=r,a=n),{idx:t,len:a}}(e).idx,r=!1;for(let n=0;n<=7;++n)if(!r||0!==e[n]){if(r&&(r=!1),a===n){t+=0===n?"::":":",r=!0;continue}t+=e[n].toString(16),7!==n&&(t+=":")}return t}(e)+"]":e}function I(e){var t;let a=e.path;!(0===a.length||"file"===e.scheme&&1===a.length&&(t=a[0],/^[A-Za-z]:$/.test(t)))&&a.pop()}function C(e){return""!==e.username||""!==e.password}function T(e,t,a,n,i){if(this.pointer=0,this.input=e,this.base=t||null,this.encodingOverride=a||"utf-8",this.stateOverride=i,this.url=n,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let e=this.input.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"");e!==this.input&&(this.parseError=!0),this.input=e}let o=this.input.replace(/\u0009|\u000A|\u000D/g,"");for(o!==this.input&&(this.parseError=!0),this.input=o,this.state=i||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=r.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let e=this.input[this.pointer],t=isNaN(e)?void 0:String.fromCodePoint(e),a=this["parse "+this.state](e,t);if(a){if(a===s){this.failure=!0;break}}else break}}T.prototype["parse scheme start"]=function(e,t){if(d(e))this.buffer+=t.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,s;this.state="no scheme",--this.pointer}return!0},T.prototype["parse scheme"]=function(e,t){if(d(e)||p(e)||43===e||45===e||46===e)this.buffer+=t.toLowerCase();else if(58===e){if(this.stateOverride&&(f(this.url)&&!m(this.buffer)||!f(this.url)&&m(this.buffer)||(C(this.url)||null!==this.url.port)&&"file"===this.buffer||"file"===this.url.scheme&&(""===this.url.host||null===this.url.host))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;"file"===this.url.scheme?((47!==this.input[this.pointer+1]||47!==this.input[this.pointer+2])&&(this.parseError=!0),this.state="file"):f(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":f(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,s;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},T.prototype["parse no scheme"]=function(e){return null===this.base||this.base.cannotBeABaseURL&&35!==e?s:(this.base.cannotBeABaseURL&&35===e?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):("file"===this.base.scheme?this.state="file":this.state="relative",--this.pointer),!0)},T.prototype["parse special relative or authority"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},T.prototype["parse path or authority"]=function(e){return 47===e?this.state="authority":(this.state="path",--this.pointer),!0},T.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,isNaN(e)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===e?this.state="relative slash":63===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):f(this.url)&&92===e?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},T.prototype["parse relative slash"]=function(e){return f(this.url)&&(47===e||92===e)?(92===e&&(this.parseError=!0),this.state="special authority ignore slashes"):47===e?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},T.prototype["parse special authority slashes"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},T.prototype["parse special authority ignore slashes"]=function(e){return 47!==e&&92!==e?(this.state="authority",--this.pointer):this.parseError=!0,!0},T.prototype["parse authority"]=function(e,t){if(64===e){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let e=o(this.buffer);for(let t=0;t<e;++t){let e=this.buffer.codePointAt(t);if(58===e&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let a=N(e,x);this.passwordTokenSeenFlag?this.url.password+=a:this.url.username+=a}this.buffer=""}else if(isNaN(e)||47===e||63===e||35===e||f(this.url)&&92===e){if(this.atFlag&&""===this.buffer)return this.parseError=!0,s;this.pointer-=o(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=t;return!0},T.prototype["parse hostname"]=T.prototype["parse host"]=function(e,t){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==e||this.arrFlag){if(isNaN(e)||47===e||63===e||35===e||f(this.url)&&92===e){if(--this.pointer,f(this.url)&&""===this.buffer)return this.parseError=!0,s;if(this.stateOverride&&""===this.buffer&&(C(this.url)||null!==this.url.port))return this.parseError=!0,!1;let e=k(this.buffer,f(this.url));if(e===s)return s;if(this.url.host=e,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===e?this.arrFlag=!0:93===e&&(this.arrFlag=!1),this.buffer+=t}else{if(""===this.buffer)return this.parseError=!0,s;let e=k(this.buffer,f(this.url));if(e===s)return s;if(this.url.host=e,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},T.prototype["parse port"]=function(e,t){if(p(e))this.buffer+=t;else{if(!(isNaN(e)||47===e||63===e||35===e||f(this.url)&&92===e)&&!this.stateOverride)return this.parseError=!0,s;if(""!==this.buffer){let e=parseInt(this.buffer);if(e>65535)return this.parseError=!0,s;this.url.port=e===i[this.url.scheme]?null:e,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};let A=new Set([47,92,63,35]);T.prototype["parse file"]=function(e){if(this.url.scheme="file",47===e||92===e)92===e&&(this.parseError=!0),this.state="file slash";else if(null!==this.base&&"file"===this.base.scheme){if(isNaN(e))this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query;else if(63===e)this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query";else if(35===e)this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment";else{var t;this.input.length-this.pointer-1!=0&&(t=this.input[this.pointer+1],d(e)&&(58===t||124===t))&&(!(this.input.length-this.pointer-1>=2)||A.has(this.input[this.pointer+2]))?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),I(this.url)),this.state="path",--this.pointer}}else this.state="path",--this.pointer;return!0},T.prototype["parse file slash"]=function(e){if(47===e||92===e)92===e&&(this.parseError=!0),this.state="file host";else{if(null!==this.base&&"file"===this.base.scheme){var t;2===(t=this.base.path[0]).length&&d(t.codePointAt(0))&&":"===t[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host}this.state="path",--this.pointer}return!0},T.prototype["parse file host"]=function(e,t){if(isNaN(e)||47===e||92===e||63===e||35===e){if(--this.pointer,!this.stateOverride&&c(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let e=k(this.buffer,f(this.url));if(e===s)return s;if("localhost"===e&&(e=""),this.url.host=e,this.stateOverride)return!1;this.buffer="",this.state="path start"}}else this.buffer+=t;return!0},T.prototype["parse path start"]=function(e){return f(this.url)?(92===e&&(this.parseError=!0),this.state="path",47!==e&&92!==e&&--this.pointer):this.stateOverride||63!==e?this.stateOverride||35!==e?void 0!==e&&(this.state="path",47!==e&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},T.prototype["parse path"]=function(e){if(isNaN(e)||47===e||f(this.url)&&92===e||!this.stateOverride&&(63===e||35===e)){var t;if((f(this.url)&&92===e&&(this.parseError=!0),".."===(t=(t=this.buffer).toLowerCase())||"%2e."===t||".%2e"===t||"%2e%2e"===t)?(I(this.url),47===e||f(this.url)&&92===e||this.url.path.push("")):h(this.buffer)&&47!==e&&!(f(this.url)&&92===e)?this.url.path.push(""):h(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&c(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="","file"===this.url.scheme&&(void 0===e||63===e||35===e))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===e&&(this.url.query="",this.state="query"),35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=N(e,y);return!0},T.prototype["parse cannot-be-a-base-URL path"]=function(e){return 63===e?(this.url.query="",this.state="query"):35===e?(this.url.fragment="",this.state="fragment"):(isNaN(e)||37===e||(this.parseError=!0),37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),isNaN(e)||(this.url.path[0]=this.url.path[0]+N(e,v))),!0},T.prototype["parse query"]=function(e,t){if(isNaN(e)||!this.stateOverride&&35===e){f(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");let t=new Buffer(this.buffer);for(let e=0;e<t.length;++e)t[e]<33||t[e]>126||34===t[e]||35===t[e]||60===t[e]||62===t[e]?this.url.query+=g(t[e]):this.url.query+=String.fromCodePoint(t[e]);this.buffer="",35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=t;return!0},T.prototype["parse fragment"]=function(e){return isNaN(e)||(0===e?this.parseError=!0:(37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=N(e,v))),!0},e.exports.serializeURL=function(e,t){let a=e.scheme+":";if(null!==e.host?(a+="//",(""!==e.username||""!==e.password)&&(a+=e.username,""!==e.password&&(a+=":"+e.password),a+="@"),a+=S(e.host),null!==e.port&&(a+=":"+e.port)):null===e.host&&"file"===e.scheme&&(a+="//"),e.cannotBeABaseURL)a+=e.path[0];else for(let t of e.path)a+="/"+t;return null!==e.query&&(a+="?"+e.query),t||null===e.fragment||(a+="#"+e.fragment),a},e.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return e.exports.serializeURLOrigin(e.exports.parseURL(t.path[0]))}catch(e){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":var a;let r;return r=(a={scheme:t.scheme,host:t.host,port:t.port}).scheme+"://"+S(a.host),null!==a.port&&(r+=":"+a.port),r;case"file":return"file://";default:return"null"}},e.exports.basicURLParse=function(e,t){void 0===t&&(t={});let a=new T(e,t.baseURL,t.encodingOverride,t.url,t.stateOverride);return a.failure?"failure":a.url},e.exports.setTheUsername=function(e,t){e.username="";let a=r.ucs2.decode(t);for(let t=0;t<a.length;++t)e.username+=N(a[t],x)},e.exports.setThePassword=function(e,t){e.password="";let a=r.ucs2.decode(t);for(let t=0;t<a.length;++t)e.password+=N(a[t],x)},e.exports.serializeHost=S,e.exports.cannotHaveAUsernamePasswordPort=function(e){return null===e.host||""===e.host||e.cannotBeABaseURL||"file"===e.scheme},e.exports.serializeInteger=function(e){return String(e)},e.exports.parseURL=function(t,a){return void 0===a&&(a={}),e.exports.basicURLParse(t,{baseURL:a.baseURL,encodingOverride:a.encodingOverride})}},4363:e=>{"use strict";e.exports.mixin=function(e,t){let a=Object.getOwnPropertyNames(t);for(let r=0;r<a.length;++r)Object.defineProperty(e,a[r],Object.getOwnPropertyDescriptor(t,a[r]))},e.exports.wrapperSymbol=Symbol("wrapper"),e.exports.implSymbol=Symbol("impl"),e.exports.wrapperForImpl=function(t){return t[e.exports.wrapperSymbol]},e.exports.implForWrapper=function(t){return t[e.exports.implSymbol]}},8909:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>s,__esModule:()=>i,default:()=>o});var r=a(8570);let n=(0,r.createProxy)(String.raw`/Users/dennis_leedennis_lee/Documents/GitHub/Pennis-Biometric-Measurement---Certification-System/app/measure/page.tsx`),{__esModule:i,$$typeof:s}=n;n.default;let o=(0,r.createProxy)(String.raw`/Users/dennis_leedennis_lee/Documents/GitHub/Pennis-Biometric-Measurement---Certification-System/app/measure/page.tsx#default`)},2054:e=>{function t(a){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},735:(e,t,a)=>{"use strict";let r;a.r(t),a.d(t,{FetchError:()=>m,Headers:()=>E,Request:()=>q,Response:()=>P,default:()=>Z});let n=require("stream"),i=require("http"),s=require("url");var o=a(6361);let l=require("https"),p=require("zlib"),d=n.Readable,u=Symbol("buffer"),h=Symbol("type");class c{constructor(){this[h]="";let e=arguments[0],t=arguments[1],a=[];if(e){let t=Number(e.length);for(let r=0;r<t;r++){let t;let n=e[r];n instanceof Buffer?t=n:t=ArrayBuffer.isView(n)?Buffer.from(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?Buffer.from(n):n instanceof c?n[u]:Buffer.from("string"==typeof n?n:String(n)),t.length,a.push(t)}}this[u]=Buffer.concat(a);let r=t&&void 0!==t.type&&String(t.type).toLowerCase();r&&!/[^\u0020-\u007E]/.test(r)&&(this[h]=r)}get size(){return this[u].length}get type(){return this[h]}text(){return Promise.resolve(this[u].toString())}arrayBuffer(){let e=this[u];return Promise.resolve(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}stream(){let e=new d;return e._read=function(){},e.push(this[u]),e.push(null),e}toString(){return"[object Blob]"}slice(){let e;let t=this.size,a=arguments[0],r=arguments[1];e=void 0===a?0:a<0?Math.max(t+a,0):Math.min(a,t);let n=Math.max((void 0===r?t:r<0?Math.max(t+r,0):Math.min(r,t))-e,0),i=this[u].slice(e,e+n),s=new c([],{type:arguments[2]});return s[u]=i,s}}function m(e,t,a){Error.call(this,e),this.message=e,this.type=t,a&&(this.code=this.errno=a.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(c.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(c.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),m.prototype=Object.create(Error.prototype),m.prototype.constructor=m,m.prototype.name="FetchError";try{r=require("encoding").convert}catch(e){}let f=Symbol("Body internals"),g=n.PassThrough;function v(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.size,i=a.timeout;null==e?e=null:y(e)?e=Buffer.from(e.toString()):w(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof n||(e=Buffer.from(String(e)))),this[f]={body:e,disturbed:!1,error:null},this.size=void 0===r?0:r,this.timeout=void 0===i?0:i,e instanceof n&&e.on("error",function(e){let a="AbortError"===e.name?e:new m(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[f].error=a})}function b(){var e=this;if(this[f].disturbed)return v.Promise.reject(TypeError(`body used already for: ${this.url}`));if(this[f].disturbed=!0,this[f].error)return v.Promise.reject(this[f].error);let t=this.body;if(null===t)return v.Promise.resolve(Buffer.alloc(0));if(w(t)&&(t=t.stream()),Buffer.isBuffer(t))return v.Promise.resolve(t);if(!(t instanceof n))return v.Promise.resolve(Buffer.alloc(0));let a=[],r=0,i=!1;return new v.Promise(function(n,s){let o;e.timeout&&(o=setTimeout(function(){i=!0,s(new m(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)),t.on("error",function(t){"AbortError"===t.name?(i=!0,s(t)):s(new m(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))}),t.on("data",function(t){if(!i&&null!==t){if(e.size&&r+t.length>e.size){i=!0,s(new m(`content size at ${e.url} over limit: ${e.size}`,"max-size"));return}r+=t.length,a.push(t)}}),t.on("end",function(){if(!i){clearTimeout(o);try{n(Buffer.concat(a,r))}catch(t){s(new m(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}})})}function y(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function w(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function x(e){let t,a;let r=e.body;if(e.bodyUsed)throw Error("cannot clone body after it is used");return r instanceof n&&"function"!=typeof r.getBoundary&&(t=new g,a=new g,r.pipe(t),r.pipe(a),e[f].body=t,r=a),r}function N(e){if(null===e)return null;if("string"==typeof e)return"text/plain;charset=UTF-8";if(y(e))return"application/x-www-form-urlencoded;charset=UTF-8";if(w(e))return e.type||null;if(Buffer.isBuffer(e))return null;if("[object ArrayBuffer]"===Object.prototype.toString.call(e))return null;if(ArrayBuffer.isView(e))return null;else if("function"==typeof e.getBoundary)return`multipart/form-data;boundary=${e.getBoundary()}`;else if(e instanceof n)return null;else return"text/plain;charset=UTF-8"}function k(e){let t=e.body;return null===t?0:w(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}v.prototype={get body(){return this[f].body},get bodyUsed(){return this[f].disturbed},arrayBuffer(){return b.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return b.call(this).then(function(t){return Object.assign(new c([],{type:e.toLowerCase()}),{[u]:t})})},json(){var e=this;return b.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(t){return v.Promise.reject(new m(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}})},text(){return b.call(this).then(function(e){return e.toString()})},buffer(){return b.call(this)},textConverted(){var e=this;return b.call(this).then(function(t){return function(e,t){let a,n;if("function"!=typeof r)throw Error("The package `encoding` must be installed to use the textConverted() function");let i=t.get("content-type"),s="utf-8";return i&&(a=/charset=([^;]*)/i.exec(i)),n=e.slice(0,1024).toString(),!a&&n&&(a=/<meta.+?charset=(['"])(.+?)\1/i.exec(n)),!a&&n&&(!(a=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(n))&&(a=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(n))&&a.pop(),a&&(a=/charset=(.*)/i.exec(a.pop()))),!a&&n&&(a=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(n)),a&&("gb2312"===(s=a.pop())||"gbk"===s)&&(s="gb18030"),r(e,"UTF-8",s).toString()}(t,e.headers)})}},Object.defineProperties(v.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),v.mixIn=function(e){for(let t of Object.getOwnPropertyNames(v.prototype))if(!(t in e)){let a=Object.getOwnPropertyDescriptor(v.prototype,t);Object.defineProperty(e,t,a)}},v.Promise=global.Promise;let S=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,I=/[^\t\x20-\x7e\x80-\xff]/;function C(e){if(e=`${e}`,S.test(e)||""===e)throw TypeError(`${e} is not a legal HTTP header name`)}function T(e){if(e=`${e}`,I.test(e))throw TypeError(`${e} is not a legal HTTP header value`)}function A(e,t){for(let a in t=t.toLowerCase(),e)if(a.toLowerCase()===t)return a}let _=Symbol("map");class E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[_]=Object.create(null),e instanceof E){let t=e.raw();for(let e of Object.keys(t))for(let a of t[e])this.append(e,a);return}if(null==e);else if("object"==typeof e){let t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw TypeError("Header pairs must be iterable");let a=[];for(let t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw TypeError("Each header pair must be iterable");a.push(Array.from(t))}for(let e of a){if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(let t of Object.keys(e)){let a=e[t];this.append(t,a)}}else throw TypeError("Provided initializer must be an object")}get(e){C(e=`${e}`);let t=A(this[_],e);return void 0===t?null:this[_][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=$(this),r=0;for(;r<a.length;){var n=a[r];let i=n[0],s=n[1];e.call(t,s,i,this),a=$(this),r++}}set(e,t){e=`${e}`,t=`${t}`,C(e),T(t);let a=A(this[_],e);this[_][void 0!==a?a:e]=[t]}append(e,t){e=`${e}`,t=`${t}`,C(e),T(t);let a=A(this[_],e);void 0!==a?this[_][a].push(t):this[_][e]=[t]}has(e){return C(e=`${e}`),void 0!==A(this[_],e)}delete(e){C(e=`${e}`);let t=A(this[_],e);void 0!==t&&delete this[_][t]}raw(){return this[_]}keys(){return L(this,"key")}values(){return L(this,"value")}[Symbol.iterator](){return L(this,"key+value")}}function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(e[_]).sort().map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[_][t].join(", ")}:function(t){return[t.toLowerCase(),e[_][t].join(", ")]})}E.prototype.entries=E.prototype[Symbol.iterator],Object.defineProperty(E.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(E.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});let R=Symbol("internal");function L(e,t){let a=Object.create(D);return a[R]={target:e,kind:t,index:0},a}let D=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==D)throw TypeError("Value of `this` is not a HeadersIterator");var e=this[R];let t=e.target,a=e.kind,r=e.index,n=$(t,a);return r>=n.length?{value:void 0,done:!0}:(this[R].index=r+1,{value:n[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(D,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});let F=Symbol("Response internals"),O=i.STATUS_CODES;class P{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.call(this,e,t);let a=t.status||200,r=new E(t.headers);if(null!=e&&!r.has("Content-Type")){let t=N(e);t&&r.append("Content-Type",t)}this[F]={url:t.url,status:a,statusText:t.statusText||O[a],headers:r,counter:t.counter}}get url(){return this[F].url||""}get status(){return this[F].status}get ok(){return this[F].status>=200&&this[F].status<300}get redirected(){return this[F].counter>0}get statusText(){return this[F].statusText}get headers(){return this[F].headers}clone(){return new P(x(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}v.mixIn(P.prototype),Object.defineProperties(P.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(P.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});let M=Symbol("Request internals"),B=s.URL||o.URL,z=s.parse,V=s.format;function U(e){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(e)&&(e=new B(e).toString()),z(e)}let j="destroy"in n.Readable.prototype;function W(e){return"object"==typeof e&&"object"==typeof e[M]}class q{constructor(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W(e)?t=U(e.url):(t=e&&e.href?U(e.href):U(`${e}`),e={});let r=a.method||e.method||"GET";if(r=r.toUpperCase(),(null!=a.body||W(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw TypeError("Request with GET/HEAD method cannot have body");let n=null!=a.body?a.body:W(e)&&null!==e.body?x(e):null;v.call(this,n,{timeout:a.timeout||e.timeout||0,size:a.size||e.size||0});let i=new E(a.headers||e.headers||{});if(null!=n&&!i.has("Content-Type")){let e=N(n);e&&i.append("Content-Type",e)}let s=W(e)?e.signal:null;if("signal"in a&&(s=a.signal),null!=s&&!function(e){let t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!!(t&&"AbortSignal"===t.constructor.name)}(s))throw TypeError("Expected signal to be an instanceof AbortSignal");this[M]={method:r,redirect:a.redirect||e.redirect||"follow",headers:i,parsedURL:t,signal:s},this.follow=void 0!==a.follow?a.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==a.compress?a.compress:void 0===e.compress||e.compress,this.counter=a.counter||e.counter||0,this.agent=a.agent||e.agent}get method(){return this[M].method}get url(){return V(this[M].parsedURL)}get headers(){return this[M].headers}get redirect(){return this[M].redirect}get signal(){return this[M].signal}clone(){return new q(this)}}function G(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}v.mixIn(q.prototype),Object.defineProperty(q.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(q.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G.prototype.name="AbortError";let H=s.URL||o.URL,K=n.PassThrough,X=function(e,t){let a=new H(t).hostname,r=new H(e).hostname;return a===r||"."===a[a.length-r.length-1]&&a.endsWith(r)};function Y(e,t){if(!Y.Promise)throw Error("native promise missing, set fetch.Promise to your favorite alternative");return v.Promise=Y.Promise,new Y.Promise(function(a,r){var s;let o,d;let u=new q(e,t),h=function(e){let t=e[M].parsedURL,a=new E(e[M].headers);if(a.has("Accept")||a.set("Accept","*/*"),!t.protocol||!t.hostname)throw TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof n.Readable&&!j)throw Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let r=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(r="0"),null!=e.body){let t=k(e);"number"==typeof t&&(r=String(t))}r&&a.set("Content-Length",r),a.has("User-Agent")||a.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!a.has("Accept-Encoding")&&a.set("Accept-Encoding","gzip,deflate");let i=e.agent;return"function"==typeof i&&(i=i(t)),Object.assign({},t,{method:e.method,headers:function(e){let t=Object.assign({__proto__:null},e[_]),a=A(e[_],"Host");return void 0!==a&&(t[a]=t[a][0]),t}(a),agent:i})}(u),c=("https:"===h.protocol?l:i).request,f=u.signal,g=null,v=function(){let e=new G("The user aborted a request.");r(e),u.body&&u.body instanceof n.Readable&&J(u.body,e),g&&g.body&&g.body.emit("error",e)};if(f&&f.aborted){v();return}let b=function(){v(),x()},y=c(h);function x(){y.abort(),f&&f.removeEventListener("abort",b),clearTimeout(o)}f&&f.addEventListener("abort",b),u.timeout&&y.once("socket",function(e){o=setTimeout(function(){r(new m(`network timeout at: ${u.url}`,"request-timeout")),x()},u.timeout)}),y.on("error",function(e){r(new m(`request to ${u.url} failed, reason: ${e.message}`,"system",e)),g&&g.body&&J(g.body,e),x()}),s=function(e){(!f||!f.aborted)&&g&&g.body&&J(g.body,e)},y.on("socket",function(e){d=e}),y.on("response",function(e){let t=e.headers;"chunked"!==t["transfer-encoding"]||t["content-length"]||e.once("close",function(e){if(d&&d.listenerCount("data")>0&&!e){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",s(e)}})}),14>parseInt(process.version.substring(1))&&y.on("socket",function(e){e.addListener("close",function(t){let a=e.listenerCount("data")>0;if(g&&a&&!t&&!(f&&f.aborted)){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",g.body.emit("error",e)}})}),y.on("response",function(e){clearTimeout(o);let t=function(e){let t=new E;for(let a of Object.keys(e))if(!S.test(a)){if(Array.isArray(e[a]))for(let r of e[a])I.test(r)||(void 0===t[_][a]?t[_][a]=[r]:t[_][a].push(r));else I.test(e[a])||(t[_][a]=[e[a]])}return t}(e.headers);if(Y.isRedirect(e.statusCode)){let i=t.get("Location"),s=null;try{s=null===i?null:new H(i,u.url).toString()}catch(e){if("manual"!==u.redirect){r(new m(`uri requested responds with an invalid redirect URL: ${i}`,"invalid-redirect")),x();return}}switch(u.redirect){case"error":r(new m(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),x();return;case"manual":if(null!==s)try{t.set("Location",s)}catch(e){r(e)}break;case"follow":var n;if(null===s)break;if(u.counter>=u.follow){r(new m(`maximum redirect reached at: ${u.url}`,"max-redirect")),x();return}let o={headers:new E(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:u.body,signal:u.signal,timeout:u.timeout,size:u.size};if(!X(u.url,s)||(n=u.url,new H(s).protocol!==new H(n).protocol))for(let e of["authorization","www-authenticate","cookie","cookie2"])o.headers.delete(e);if(303!==e.statusCode&&u.body&&null===k(u)){r(new m("Cannot follow redirect with body being a readable stream","unsupported-redirect")),x();return}(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===u.method)&&(o.method="GET",o.body=void 0,o.headers.delete("content-length")),a(Y(new q(s,o))),x();return}}e.once("end",function(){f&&f.removeEventListener("abort",b)});let i=e.pipe(new K),s={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:u.size,timeout:u.timeout,counter:u.counter},l=t.get("Content-Encoding");if(!u.compress||"HEAD"===u.method||null===l||204===e.statusCode||304===e.statusCode){a(g=new P(i,s));return}let d={flush:p.Z_SYNC_FLUSH,finishFlush:p.Z_SYNC_FLUSH};if("gzip"==l||"x-gzip"==l){a(g=new P(i=i.pipe(p.createGunzip(d)),s));return}if("deflate"==l||"x-deflate"==l){let t=e.pipe(new K);t.once("data",function(e){a(g=new P(i=(15&e[0])==8?i.pipe(p.createInflate()):i.pipe(p.createInflateRaw()),s))}),t.on("end",function(){g||a(g=new P(i,s))});return}if("br"==l&&"function"==typeof p.createBrotliDecompress){a(g=new P(i=i.pipe(p.createBrotliDecompress()),s));return}a(g=new P(i,s))}),function(e,t){let a=t.body;null===a?e.end():w(a)?a.stream().pipe(e):Buffer.isBuffer(a)?(e.write(a),e.end()):a.pipe(e)}(y,u)})}function J(e,t){e.destroy?e.destroy(t):(e.emit("error",t),e.end())}Y.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},Y.Promise=global.Promise;let Z=Y},1841:e=>{"use strict";e.exports=JSON.parse('[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1000,1000],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6000],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8000,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8000]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9000],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[30000]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13000,13000],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43000,43000],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64000,64000],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66000,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[120000,120000],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128000,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23000]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149000]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32000]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195000,195000],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[40000]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918000,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]')}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[819,434,157,990],()=>a(1342));module.exports=r})();